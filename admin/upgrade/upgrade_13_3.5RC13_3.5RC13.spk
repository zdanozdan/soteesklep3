diff -ruN ../soteesklep3/000-upgrade_config.php soteesklep3/000-upgrade_config.php
--- ../soteesklep3/000-upgrade_config.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/000-upgrade_config.php	2006-07-11 13:20:51.000000000 +0200
@@ -0,0 +1,3 @@
+<?php
+define("PATCH_VERSION",13);
+?>
diff -ruN ../soteesklep3/admin/go/_configure/lang/_en/lang.inc.php soteesklep3/admin/go/_configure/lang/_en/lang.inc.php
--- ../soteesklep3/admin/go/_configure/lang/_en/lang.inc.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/admin/go/_configure/lang/_en/lang.inc.php	2006-07-11 14:13:41.000000000 +0200
@@ -0,0 +1,83 @@
+<?php
+$lang->configure_title="Configuration";
+$lang->button_help="Help";
+$lang->main_order_default=array(
+                'name_L0'=>"names",
+                'price'=>"prices",
+                'producer'=>"producer",
+                );
+$lang->price_type=array(
+                'netto/brutto'=>"net/gross",
+                'netto'=>"net",
+                'brutto'=>"gross",
+                );
+$lang->configure_record_row_type_default=array(
+                'long'=>"full list",
+                'short'=>"short list",
+                );
+$lang->configure_titles=array(
+                'price'=>"Prices",
+                'product_list'=>"Product list",
+                'google'=>"Indexing",
+                'other'=>"Other",
+                );
+$lang->newsedit_columns_default=array(
+                '1'=>"1",
+                '2'=>"2",
+                );
+$lang->configure_form=array(
+                'record_row_type_default'=>"Product list type",
+                'cyfra_photo'=>"Switching on the service of photos taken by means of a digital camera",
+                'basket_photo'=>"Enable the possibility of adding photos and description to products being ordered",
+                'currency'=>"Enter in currency",
+                'price_type'=>"Select price display type",
+                'main_order_default'=>"Product sorting according to",
+                'products_on_page_short'=>"Number of products in a short list",
+                'products_on_page_long'=>"Number of products in a full list",
+                'google_keywords'=>"Key words",
+                'google_title'=>"Page title",
+                'google_description'=>"<BR><BR><BR>Page description <BR><I>max. 150 characters</l> ",
+                'image_max_size'=>"Big photo size",
+                'image_min_size'=>"Small photo size",
+                'random_on_page'=>"Number of products in the window:<BR>",
+                'random_on_page_promotion'=>"promotions",
+                'random_on_page_newcol'=>"news",
+                'random_on_page_bestseller'=>"bestseller",
+                'pixels'=>" in <l>pixels</l>",
+                'newsletter'=>"Place newsletter window on the page",
+                'category_multi'=>"Alow one product to be available in several categories at the same time",
+                'newsedit'=>"Place news window on the page",
+                'currency_show_form'=>"Place the list of currencies for selection on the page",
+                'newsedit_columns_default'=>"How many columns should the news window be divided into",
+                'id_start_orders_default'=>"Last transaction id",
+                'pay_method_active_1'=>"Switch on the option of cash-on-delivery payment",
+                'pay_method_active_11'=>"Switch on the option of payment by transfer",
+                'in_category_down'=>"The number of nests for other products from the same category",
+                'debug'=>"DEBUG ",
+                'users_online'=>"Place the number of users online on the page",
+                'ssl'=>"Use SSL secured order forms",
+                'unit'=>"Give the unit of measurement according to which delivery costs are calculated.",
+                'basket_ext'=>"Display detailed information about the product in the basket",
+                'display_availability'=>"Display in the shop the information about product availability",
+                'show_user_id'=>"Show product ID in the shop",
+                );
+$lang->button_catalog_conf="Directory mode configuration";
+$lang->button_configuration="General configuration";
+$lang->catalog_conf_title="Directory mode configuration";
+$lang->catalog_conf_text="The shop will be changed into a directory after clicking <B>Directory mode</B>. In the directory mode all functions of the basket are disabled. The customer can only browse the goods available.";
+$lang->catalog_mode_options=array(
+                'catalog_mode'=>"Directory mode",
+                'currency'=>"Switch on the currency list in the directory",
+                'users'=>"Switch on customer service in the directory",
+                'newsletter'=>"Switch on the newsletter window in the directory",
+                'newsedit'=>"Switch on the latest news window in the directory",
+                );
+$lang->configure_lang_changed="Default language was changed";
+$lang->configure_in_category_down=array(
+                '1'=>"1",
+                '2'=>"2",
+                '3'=>"3",
+                '4'=>"4",
+                '5'=>"5",
+                );
+?>
\ No newline at end of file
diff -ruN ../soteesklep3/admin/go/_edit/lang/_en/lang.inc.php soteesklep3/admin/go/_edit/lang/_en/lang.inc.php
--- ../soteesklep3/admin/go/_edit/lang/_en/lang.inc.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/admin/go/_edit/lang/_en/lang.inc.php	2006-07-11 14:13:44.000000000 +0200
@@ -0,0 +1,263 @@
+<?php
+$lang->edit_menu=array(
+                'similar'=>"+ Copy (category)",
+                'similar_id'=>"+ Copy (ID)",
+                'delete'=>"Delete",
+                'preview'=>"Preview",
+                'help'=>"Help",
+                'pasaz.onet.pl'=>"Onet Passage",
+                'pasaz.wp.pl'=>"WP Passage",
+                'pasaz.interia.pl'=>"Interia Passage",
+                'ceneo.pl'=>"Ceneo",          
+                'robot'=>"Indexing",
+                'accessories'=>"Accessories",
+                'setup'=>"Settings",
+                'add'=>"Add",
+                'edit'=>"Editing",
+                'google'=>"Google",
+                'category'=>"Categories",
+                'copy'=>"+ Copy",
+                'allegro'=>"Allegro",
+                );
+$lang->edit_edit=array(
+                'options_adv'=>"Advanced options",
+                'options_adv_edit'=>"Product advanced options editing",
+                'description'=>"Product description editing",
+                );
+$lang->edit_add_description_info="Product descriptions can be edited after adding product to database";
+$lang->edit_add_submit="Add product";
+$lang->edit_edit_submit="Update changes";
+$lang->edit_edit_title="Product data editing";
+$lang->edit_add_review="Add review";
+$lang->edit_photo_upload="attach photo";
+$lang->edit_m_photo_upload="attach small photo";
+$lang->edit_photo_scale="reduce photo";
+$lang->edit_submit="Update changes";
+$lang->edit_update_ok="Data has been updated :)";
+$lang->edit_link="Edit description";
+$lang->edit_xml_options="<u>(<b>options</b>advanced)full edition >></u>";
+$lang->edit_add_similar="Add product in the same category";
+$lang->edit_file="Edit file";
+$lang->edit_photo_delete="delete photo";
+$lang->edit_bar="Text page contents editing";
+$lang->edit="Edit file";
+$lang->edit_add_form_errors=array(
+                'user_id'=>array(
+                                '10'=>"no id or bad value",
+                                '11'=>"product exists in database, please enter another id",
+                                ),
+                                
+                'name'=>"no product's name",
+                'price_brutto'=>"no price or bad value",
+                'category1'=>"no category",
+                'category2'=>"no category",
+                'category3'=>"no category",
+                'category4'=>"no category",
+                'category5'=>"no category",
+                );
+$lang->edit_record_add_title="New product addition";
+$lang->edit_accessories_title="Product accessories";
+$lang->edit_setup_title="General product editing settings";
+$lang->edit_setup_form=array(
+                'netto'=>"Display net price default in product editing",
+                );
+$lang->edit_onet=array(
+                'onet_export'=>"Export product",
+                'onet_status_delete'=>"Delete product",
+                'onet_status_update'=>"Add/Edit product",
+                'onet_image_export'=>"Export photo",
+                'onet_image_title'=>"Photo title",
+                'onet_image_desc'=>"Photo description",
+                'onet_attrib'=>"Additional Onet attribute",
+                'onet_not_file'=>"No Onet categories file <br><a href= Download categories",
+                'onet_same_cat'=>"Assign onet category to products from the same category",
+                'onet_category'=>"Assign category",
+                'onet_op'=>"OP offer",
+                'onet_author'=>"Author?s name (director, performer)",
+                'onet_edition'=>"Year of publishing",
+                );
+$lang->edit_interia_select="Select";
+$lang->edit_lang_versions="Language versions";
+$lang->edit_add_copy_user_id="Add product in another category";
+$lang->edit_onet_head="Onet passage";
+$lang->edit_onet_select="Choose";
+$lang->info_attrib_order="Order";
+$lang->edit_category_info="Attention! After changing / adding category, call <a href=/go/_opt/index.php
+target=top>Optimizations</a>";
+$lang->edit_desc="Product description editing";
+$lang->edit_noframes="Your browser does not handle frames. Use e. g. program <b>Netscape7</b> or <b>Internet Explorer 5 or 6</b>.";
+$lang->edit_google_title="Indexing data";
+$lang->edit_google_cols=array(
+                'keywords'=>"Key words",
+                'description'=>"Page description",
+                'title'=>"Page title",
+                );
+$lang->edit_category_title="Additional product categories editing";
+$lang->edit_category_cols=array(
+                'category_multi_1'=>"Additional categories 1 (cat1/cat2/.../cat5)",
+                'category_multi_2'=>"Additional categories 2",
+                );
+$lang->edit_errors=array(
+                'unknown_product'=>"Selected product is not in base",
+                'insert_error'=>"Product with this identifier has not been added to base",
+                'file_to_big'=>"Too big file",
+                'file_max'=>"Maximum file size is (Kb)",
+                );
+$lang->edit_wp=array(
+                'wp_export'=>"Export product",
+                'wp_status_delete'=>"Delete product",
+                );
+$lang->edit_wp_dest=array(
+                '0'=>"----choose----",
+                '1'=>"for him",
+                '2'=>"for her",
+                '3'=>"for kid",
+                );
+$lang->edit_wp_head="WP passage";
+$lang->edit_wp_select="Choose";
+$lang->flash_description="Flash file description";
+$lang->add_link="Add link to product";
+$lang->link=array(
+				'url'=>'url',
+				'name'=>'link name',
+);
+$lang->edit_wp_head="WP Passage";
+$lang->edit_interia_head="Interia Passage";
+$lang->edit_ceneo_head="Ceneo";
+$lang->edit_allegro_head="Allegro";
+
+$lang->depository_num="State of store";
+$lang->deliverer="tore supplier";
+$lang->points_warning="<b>Attention!</b><br>The price will be reset<br>";
+
+$lang->edit_wp=array(
+                'wp_export'=>"Export a product",
+                'wp_status_delete'=>"Delete a product",
+                'wp_status_update'=>"Update a product",
+                'wp_status_add'=>"Add a product",
+                'wp_image_export'=>"Export a photo",
+                'wp_image_title'=>"Photo title",
+                'wp_image_desc'=>"Photo description",
+                'wp_attrib'=>"Additional WP attribute",
+                'wp_not_file'=>"No file with WP Passage categories.<br><a href=",
+                'wp_same_cat'=>"Give WP Passage category to products from the same category",
+                'wp_same_prod'=>"Give WP Passage producer to products from the same category",
+                'wp_category'=>"Give a category",
+                'wp_producer'=>"Select a producer",
+                'wp_fields'=>"Select additional categories",
+                'wp_advantages'=>"Select profits",
+                'wp_filters'=>"Select additional filters",
+                'wp_dest'=>"Purpose / use",
+                'wp_valid'=>"Expiry date",
+                'wp_dictid'=>"Dictionary identifier",
+                'wp_ptg'=>"Text promotion",
+                'wp_ptg_desc'=>"Promotion description",
+                'wp_ptg_days'=>"Duration of promotion",
+                'wp_ptg_picurl'=>"URL to a picture",
+                );
+
+$lang->edit_interia=array(
+                'interia_export'=>"Export a product",
+                'interia_status_delete'=>"Delete a product",
+                'interia_status_update'=>"Update a product",
+                'interia_status_add'=>"Add a product",
+                'interia_image_export'=>"Export a photo",
+                'interia_image_title'=>"Photo title",
+                'interia_image_desc'=>"Photo description",
+                'interia_attrib'=>"Additional Interia attribute",
+                'interia_not_file'=>"No file with Interia Passage categories.<br><a href=",
+                'interia_same_cat'=>"Give Interia Passage category to products from the same category",
+                'interia_category'=>"Give a category",
+                'interia_producer'=>"Select a producer",
+                'interia_fields'=>"Select additional categories",
+                'interia_advantages'=>"Select profits",
+                'interia_filters'=>"Select additional filters",
+                'interia_dest'=>"Purpose / use",
+                'interia_valid'=>"Expiry date",
+                'interia_dictid'=>"Dictionary identifier",
+                'interia_ptg'=>"Text promotion",
+                'interia_ptg_desc'=>"Promotion description",
+                'interia_ptg_days'=>"Duration of promotion",
+                'interia_ptg_picurl'=>"URL to a picture",
+                );
+
+$lang->edit_ceneo=array(
+                'ceneo_export'=>"Export a product",
+                'ceneo_attrib'=>"Should Ceneo attributes be added?",
+                'ceneo_autor'=>"Author",
+                'ceneo_isbn'=>"ISBN number",
+                'ceneo_page'=>"Number of pages",
+                'ceneo_publisher'=>"Publisher",
+                'ceneo_producer'=>"Producer name",
+                'ceneo_size'=>"Size of  wheel rim",
+                'ceneo_rozstaw'=>"Screw spacing",
+                'ceneo_odsadzenie'=>"Separation value",
+                'ceneo_rezyser'=>"Director",
+                'ceneo_obsada'=>"Cast",
+                'ceneo_nosnik'=>"Carrier",
+                'ceneo_tytul_org'=>"Original title",
+                'ceneo_opony_producent'=>"Producer name",
+                'ceneo_opony_model'=>"Model",
+                'ceneo_opony_szerokosc'=>"Width",
+                'ceneo_opony_profil'=>"Profile",
+                'ceneo_opony_srednica'=>"Diameter",
+                'ceneo_opony_predkosc'=>"Speed index",
+                'ceneo_opony_nosnosc'=>"Carrying capacity",
+                'ceneo_opony_sezon'=>"Season",
+                'ceneo_opony_typ'=>"Vehicle type",
+                'ceneo_perfumy_producent'=>"Producer",
+                'ceneo_perfumy_model'=>"Model",
+                'ceneo_perfumy_rodzaj'=>"Kind",
+                'ceneo_perfumy_pojemnosc'=>"Capacity"
+                );
+
+$lang->edit_allegro=array(
+				'allegro_auction_type'=>"Sale format",
+				'allegro_auction_type_auction'=>"Auction ",
+				'allegro_auction_type_buy_now'=>"Buy Now! (without auction)",
+				
+				'allegro_category'=>"Category",
+				'allegro_product_name'=>"Auction title",
+				'allegro_product_description'=>"Product description",
+				'allegro_photo'=>"Photo",
+				'allegro_miniature'=>"Miniature",
+				'allegro_price_start'=>"Upset price",
+				'allegro_price_buy_now'=>"Buy Now Price!",
+				'allegro_price_min'=>"Minimum price",
+				'allegro_stock'=>"Number of items",
+				'allegro_how_long'=>"Duration of auction",
+				'allegro_prices_duration'=>"Price and duration",
+				
+				
+				'allegro_delivery'=>"Transport options",
+				'allegro_delivery_who_pay'=>"Delivery cost is covered by:",
+				'allegro_delivery_buyer'=>"Purchaser",
+				'allegro_delivery_sell'=>"Seller",
+				'allegro_delivery_shipment'=>"Mail (registered letter / parcel)",
+				'allegro_delivery_priority_shipment'=>"Priority mail (registered letter / parcel)",
+				'allegro_delivery_courier'=>"Courier mail",
+				'allegro_delivery_personal_acceptance'=>"Personal receipt",
+				'allegro_delivery_abroad'=>"I agree: the product can be send abroad",
+				
+				'allegro_pay'=>"Methods of payment",
+				'allegro_pay_wire_transfer'=>"Payment to bank account (payment in advance)",
+				'allegro_pay_collect_on_delivery'=>"Cash on delivery payment (payment on receipt)",
+				'allegro_pay_on_line_pay'=>"Allegro payments",
+				'allegro_pay_payu_accept_escrow'=>"Escrow within Allegro payments",
+				'allegro_pay_price'=>"Shipping cost",
+				
+				
+				'allegro_bold'=>"In bold type",
+				'allegro_light'=>"Backlight",
+				'allegro_favouritism'=>"Highlight",
+				'allegro_category_site'=>"Category page",
+				'allegro_home_page'=>"178.Allegro main page
+179.PLN",
+				'allegro_currency'=>"PLN",
+				'allegro_days'=>"days",
+				'allegro_additional_options'=>"Additional options",
+				
+				
+				
+);      
+?>
\ No newline at end of file
diff -ruN ../soteesklep3/admin/go/_edit/lang/_pl/lang.inc.php soteesklep3/admin/go/_edit/lang/_pl/lang.inc.php
--- ../soteesklep3/admin/go/_edit/lang/_pl/lang.inc.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/admin/go/_edit/lang/_pl/lang.inc.php	2006-07-11 14:13:44.000000000 +0200
@@ -0,0 +1,265 @@
+<?php
+$lang->edit_menu=array(
+                'similar'=>"+ Kopia (kategorii)",
+                'similar_id'=>"+ Kopia (ID)",
+                'delete'=>"Usuñ",
+                'preview'=>"Podgl±d",
+                'help'=>"Pomoc",
+                'pasaz.onet.pl'=>"Onet Pasa¿",
+                'pasaz.wp.pl'=>"WP Pasa¿",
+                'pasaz.interia.pl'=>"Interia Pasa¿",
+                'ceneo.pl'=>"Ceneo",
+                'robot'=>"Indeksowanie",
+                'accessories'=>"Akcesoria",
+                'setup'=>"Ustawienia",
+                'add'=>"Dodaj",
+                'edit'=>"Edycja",
+                'google'=>"Google",
+                'category'=>"Kategorie",
+                'copy'=>"",
+                'allegro'=>"Allegro",
+                );
+$lang->edit_lang_versions="Wersje jêzykowe";
+$lang->edit_edit=array(
+                'options_adv'=>"Opcje zaawansowane",
+                'options_adv_edit'=>"Edycja zaawansowanych opcji produktu",
+                'description'=>"Edycja opisu produktu",
+                );
+$lang->edit_add_description_info="Opisy produktu mozna edytowac po dodaniu produktu do bazy";
+$lang->edit_add_submit="Dodaj produkt";
+$lang->edit_edit_submit="Aktualizuj zmiany";
+$lang->edit_edit_title="Edycja danych produktu";
+$lang->edit_add_copy_user_id="Dodaj produkt w innej kategorii";
+$lang->edit_add_review="Dodaj recenzjê";
+$lang->edit_photo_upload="za³±cz zdjêcie";
+$lang->edit_m_photo_upload="za³±cz ma³e zdjêcie";
+$lang->edit_photo_scale="pomniejsz zdjêcie";
+$lang->edit_submit="Aktualizuj zmiany";
+$lang->edit_update_ok="Dane zosta³y zaktualizowane :)";
+$lang->edit_link="Edytuj opis";
+$lang->edit_xml_options="<u>(<b>opcje</b> zaawansowane) pe³na edycja >></u>";
+$lang->edit_add_similar="Dodaj produkt w tej samej kategorii";
+$lang->edit_file="Edytuj plik";
+$lang->edit_photo_delete="usuñ zdjêcie";
+$lang->edit_bar="Edycja tre¶ci stron tekstowych";
+$lang->edit_add_form_errors=array(
+                'user_id'=>array(
+                                '10'=>"brak identyfikatora lub bledna wartosc",
+                                '11'=>"produkt o podanym identyfikatorze juz istnieje w bazie",
+                                ),
+                                
+                'name'=>"brak nazwy produktu",
+                'price_brutto'=>"brak ceny lub b³êdna warto¶æ",
+                'price_currency'=>"brak ceny lub b³êdna warto¶æ",
+                'category1'=>"brak kategorii",
+                'category2'=>"brak kategorii",
+                'category3'=>"brak kategorii",
+                'category4'=>"brak kategorii",
+                'category5'=>"brak kategorii",
+                );
+$lang->onet_form_errors=array(
+                );
+$lang->wp_form_errors=array(
+                );
+$lang->interia_form_errors=array(
+                );
+$lang->ceneo_form_errors=array(
+                );
+$lang->edit_record_add_title="Dodanie nowego produktu";
+$lang->edit_accessories_title="Akcesoria do produktu";
+$lang->edit_setup_title="Ustawienia ogólne edycji produktów";
+$lang->edit_setup_form=array(
+                'netto'=>"Domy¶lnie w edycji produktu wy¶wietlaj ceny netto",
+                );
+$lang->edit_onet=array(
+                'onet_export'=>"Eksportuj produkt",
+                'onet_status_delete'=>"Kasuj produkt",
+                'onet_status_update'=>"Dodaj/Aktualizuj produkt",
+                'onet_image_export'=>"Eksportuj zdjêcie",
+                'onet_image_title'=>"Tytu³ zdjêcia",
+                'onet_image_desc'=>"Opis zdjêcia",
+                'onet_attrib'=>"Dodatkowy atrybut Onet",
+                'onet_not_file'=>"Brak pliku z kategoriami onetowymi.<br><a href=",
+                'onet_same_cat'=>"Nadaj produktom z tej samej kategorii, kategoriê onetow±",
+                'onet_category'=>"Nadaj kategoriê",
+                'onet_op'=>"Oferta OP",
+                'onet_author'=>"Nazwa autora (re¿yser, wykonawca)",
+                'onet_edition'=>"Rok wydania",
+               );
+$lang->edit_onet_head="Onet.Pasa¿.pl";
+$lang->edit_onet_select="Wybierz";
+$lang->edit_interia_select="Wybierz";
+$lang->edit_wp=array(
+                'wp_export'=>"Eksportuj produkt",
+                'wp_status_delete'=>"Kasuj produkt",
+                'wp_status_update'=>"Aktualizuj produkt",
+                'wp_status_add'=>"Dodaj produkt",
+                'wp_image_export'=>"Eksportuj zdjêcie",
+                'wp_image_title'=>"Tytu³ zdjêcia",
+                'wp_image_desc'=>"Opis zdjêcia",
+                'wp_attrib'=>"Dodatkowy atrybut wp",
+                'wp_not_file'=>"Brak pliku z kategoriami WP Pasa¿.<br><a href=",
+                'wp_same_cat'=>"Nadaj produktom z tej samej kategorii, <b>kategoriê</b> WP Pasa¿",
+                'wp_same_prod'=>"Nadaj produktom z tej samej kategorii, <b>producenta</b> WP Pasa¿",
+                'wp_category'=>"Nadaj kategoriê",
+                'wp_producer'=>"Wybierz producenta",
+                'wp_fields'=>"Wybierz dodatkowe kategorie",
+                'wp_advantages'=>"Wybierz korzy¶ci",
+                'wp_filters'=>"Wybierz dodatkowe filtry",
+                'wp_dest'=>"Przeznaczenie",
+                'wp_valid'=>"Data wa¿no¶ci",
+                'wp_dictid'=>"Identyfikator s³ownikowy",
+                'wp_ptg'=>"Promocja tekstowa",
+                'wp_ptg_desc'=>"Opis promocji",
+                'wp_ptg_days'=>"Czas trwania promocji",
+                'wp_ptg_picurl'=>"Url do obrazka",
+                );
+
+$lang->edit_interia=array(
+                'interia_export'=>"Eksportuj produkt",
+                'interia_status_delete'=>"Kasuj produkt",
+                'interia_status_update'=>"Aktualizuj produkt",
+                'interia_status_add'=>"Dodaj produkt",
+                'interia_image_export'=>"Eksportuj zdjêcie",
+                'interia_image_title'=>"Tytu³ zdjêcia",
+                'interia_image_desc'=>"Opis zdjêcia",
+                'interia_attrib'=>"Dodatkowy atrybut interia",
+                'interia_not_file'=>"Brak pliku z kategoriami interia Pasa¿.<br><a href=",
+                'interia_same_cat'=>"Nadaj produktom z tej samej kategorii, kategoriê interia Pasa¿",
+                'interia_category'=>"Nadaj kategoriê",
+                'interia_producer'=>"Wybierz producenta",
+                'interia_fields'=>"Wybierz dodatkowe kategorie",
+                'interia_advantages'=>"Wybierz korzy¶ci",
+                'interia_filters'=>"Wybierz dodatkowe filtry",
+                'interia_dest'=>"Przeznaczenie",
+                'interia_valid'=>"Data wa¿no¶ci",
+                'interia_dictid'=>"Identyfikator s³ownikowy",
+                'interia_ptg'=>"Promocja tekstowa",
+                'interia_ptg_desc'=>"Opis promocji",
+                'interia_ptg_days'=>"Czas trwania promocji",
+                'interia_ptg_picurl'=>"Url do obrazka",
+                );
+
+$lang->edit_ceneo=array(
+                'ceneo_export'=>"Eksportuj produkt",
+                'ceneo_attrib'=>"Do³±czyæ atrybuty Ceneo ?",
+                'ceneo_autor'=>"Autor",
+                'ceneo_isbn'=>"Numer ISBN",
+                'ceneo_page'=>"Ilo¶æ stron",
+                'ceneo_publisher'=>"Wydawca",
+                'ceneo_producer'=>"Nazwa producenta",
+                'ceneo_size'=>"Rozmiar felgi",
+                'ceneo_rozstaw'=>"Rozstaw ¶rub",
+                'ceneo_odsadzenie'=>"Warto¶æ odsadzenia",
+                'ceneo_rezyser'=>"Re¿yser",
+                'ceneo_obsada'=>"Obsada",
+                'ceneo_nosnik'=>"No¶nik",
+                'ceneo_tytul_org'=>"Tytu³ oryginalny",
+                'ceneo_opony_producent'=>"Nazwa producenta",
+                'ceneo_opony_model'=>"Model",
+                'ceneo_opony_szerokosc'=>"Szeroko¶æ",
+                'ceneo_opony_profil'=>"Profil",
+                'ceneo_opony_srednica'=>"¦rednica",
+                'ceneo_opony_predkosc'=>"Indeks prêdko¶ci",
+                'ceneo_opony_nosnosc'=>"No¶no¶æ",
+                'ceneo_opony_sezon'=>"Sezon",
+                'ceneo_opony_typ'=>"Typ pojazdu",
+                'ceneo_perfumy_producent'=>"Producent",
+                'ceneo_perfumy_model'=>"Model",
+                'ceneo_perfumy_rodzaj'=>"Rodzaj",
+                'ceneo_perfumy_pojemnosc'=>"Pojemno¶æ"
+                );
+
+$lang->edit_allegro=array(
+				'allegro_auction_type'=>"Format sprzeda¿y",
+				'allegro_auction_type_auction'=>"Aukcja (z licytacj±)",
+				'allegro_auction_type_buy_now'=>"Tylko Kup Teraz! (bez licytacji)",
+				
+				'allegro_category'=>"Kategoria",
+				'allegro_product_name'=>"Tytu³ aukcji",
+				'allegro_product_description'=>"Opis produktu",
+				'allegro_photo'=>"Zdjêcie",
+				'allegro_miniature'=>"Miniaturka",
+				'allegro_price_start'=>"Cena wywo³awcza",
+				'allegro_price_buy_now'=>"Cena Kup Teraz!",
+				'allegro_price_min'=>"Cena minimalna",
+				'allegro_stock'=>"Liczba sztuk",
+				'allegro_how_long'=>"Czas trwania aukcji",
+				'allegro_prices_duration'=>"Cena i czas trwania",
+				
+				
+				'allegro_delivery'=>"Opcje transportu",
+				'allegro_delivery_who_pay'=>"Koszt przesy³ki pokrywa:",
+				'allegro_delivery_buyer'=>"Kupuj±cy",
+				'allegro_delivery_sell'=>"Sprzedaj±cy",
+				'allegro_delivery_shipment'=>"Przesy³ka pocztowa (list polecony/paczka)",
+				'allegro_delivery_priority_shipment'=>"Przesy³ka pocztowa priorytetowa (list polecony/paczka)",
+				'allegro_delivery_courier'=>"Przesy³ka kurierska",
+				'allegro_delivery_personal_acceptance'=>"Odbiór osobisty",
+				'allegro_delivery_abroad'=>"Zgadzam siê na wys³anie przedmiotu za granicê",
+				'allegro_delivery_other'=>"Inne (np. list zwyk³y)",
+				'allegro_pay'=>"Formy p³atno¶ci",
+				'allegro_pay_wire_transfer'=>"Wp³ata na konto bankowe (p³atno¶æ z góry)",
+				'allegro_pay_collect_on_delivery'=>"Pobranie pocztowe (p³atne przy odbiorze)",
+				'allegro_pay_on_line_pay'=>"P³atno¶ci Allegro - szybkie p³atno¶ci online",
+				'allegro_pay_payu_accept_escrow'=>"Escrow w ramach P³atno¶ci Allegro",
+				'allegro_pay_price'=>"Koszt wysy³ki",
+				
+				
+				'allegro_bold'=>"Pogrubienie",
+				'allegro_light'=>"Pod¶wietlenie",
+				'allegro_favouritism'=>"Wyró¿nienie",
+				'allegro_category_site'=>"Strona kategorii",
+				'allegro_home_page'=>"Strona g³ówna Allegro",
+				'allegro_currency'=>"PLN",
+				'allegro_days'=>"dni",
+				'allegro_additional_options'=>"Opcje dodatkowe",
+				
+				
+				
+);            
+$lang->edit_wp_dest=array(
+                '0'=>"----wybierz----",
+                '1'=>"dla niego",
+                '2'=>"dla niej",
+                '3'=>"dla dziecka",
+                '4'=>"dla firmy",
+                );
+$lang->edit_wp_head="Pasa¿ WP";
+$lang->edit_interia_head="Pasa¿ Interia";
+$lang->edit_ceneo_head="Ceneo";
+$lang->edit_allegro_head="Allegro";
+
+$lang->edit_wp_select="Wybierz";
+$lang->info_attrib_order="Zamów";
+$lang->edit_category_info="Uwaga! Po zmianie/dodaniu kategorii, nale¿y wywo³aæ <a href=/go/_opt/index.php target=top>Optymalizacje</a>";
+$lang->edit_desc="Edycja opisu produktu";
+$lang->edit_noframes="Twoja przegl±darka nie obs³uguje ramek. Skorzystaj np. z programu <b>Netscape 7</b> lub <b>Internet Explorer 5 lub 6</b>.";
+$lang->edit_google_title="Dane zwi±zane z indeksowaniem";
+$lang->edit_google_cols=array(
+                'keywords'=>"S³owa kluczowe",
+                'description'=>"Opis strony",
+                'title'=>"Tytu³ strony",
+                );
+$lang->edit_category_title="Edycja dodatkowych kategorii produktu";
+$lang->edit_category_cols=array(
+                'category_multi_1'=>"Dodatkowe kategorie 1 (Kat1/kat2/.../Kat5)",
+                'category_multi_2'=>"Dodatkowe kategorie 2",
+                );
+$lang->edit_errors=array(
+                'unknown_product'=>"Wybranego produktu nie ma w bazie.",
+                'insert_error'=>"Produkt o podanym identyfikatorze nie zostal dodany do bazy",
+                'file_to_big'=>"Zbyt du¿y plik",
+                'file_max'=>"maksymalna wielko¶c pliku to (Kb)",
+                );
+$lang->flash_description="Opis pliku flash";
+$lang->add_link="Dodaj dodatkowy link do produtku w innej lokalizacji:";
+$lang->link=array(
+				'url'=>'url',
+				'name'=>'nazwa linku',
+);
+$lang->depository_num="Stan magazynowy";
+$lang->deliverer="Dostawca magazynowy";
+$lang->points_warning="<b>Uwaga!</b><br>Cena zostanie wyzerowana<br>";
+$lang->allegro_form_errors=array();
+?>
\ No newline at end of file
diff -ruN ../soteesklep3/admin/go/_edit_category/lang/_en/lang.inc.php soteesklep3/admin/go/_edit_category/lang/_en/lang.inc.php
--- ../soteesklep3/admin/go/_edit_category/lang/_en/lang.inc.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/admin/go/_edit_category/lang/_en/lang.inc.php	2006-07-11 14:13:45.000000000 +0200
@@ -0,0 +1,43 @@
+<?php
+$lang->edit_category_bar="Category editing";
+$lang->edit_category_add_bar="New category";
+$lang->edit_category_record_add="Category has been added";
+$lang->edit_category_update_bar="Category updating";
+$lang->edit_category_edit_update_ok="Category has been updated";
+$lang->edit_category_form_errors=array(
+                                'category'=>array(
+                                '0'=>'No category name',
+                                '1'=>'Too long name',
+                                '11'=>'The given category?s address exists',
+                                ),
+                );
+$lang->edit_category_cols=array(
+                'ID'=>'ID',
+                'category'=>'Category',
+                'ord_num'=>'Tree sort',
+                'change_all'=>'Change for all products',
+                );
+$lang->edit_category_cols_list=array(
+                'ID'=>'ID',
+                'category'=>'Category',
+                'change'=>'Editing',
+                );
+$lang->edit_category_menu=array(
+                'add'=>'New category',
+                'list'=>'Category list',
+                );
+$lang->edit_category_list_bar="Category list";
+$lang->edit_category_menu_list=array(
+                'category1'=>'Category 1',
+                'category2'=>'Category 2',
+                'category3'=>'Category 3',
+                'category4'=>'Category 4',
+                'category5'=>'Category 5',
+                'producers'=>'Producers',
+                );
+$lang->edit_category_not_deleted="The following records have not been deleted as there are products assigned to a given category.";
+$lang->edit_category_info="There must be at least 1 product in a category if you want this category to appear in the shop. You do not have to edit categories. When you are entering a new product, mark a new category name next to it - the category will appear in the shop. After adding  the product, press <a
+href-/go/_opt/index.php><u>optimizations</u></a> 
+<p>
+Pressing optimization is necessary to add or remove a category.";
+?>
\ No newline at end of file
diff -ruN ../soteesklep3/admin/go/_edit_producer/lang/_en/lang.inc.php soteesklep3/admin/go/_edit_producer/lang/_en/lang.inc.php
--- ../soteesklep3/admin/go/_edit_producer/lang/_en/lang.inc.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/admin/go/_edit_producer/lang/_en/lang.inc.php	2006-07-11 14:13:45.000000000 +0200
@@ -0,0 +1,41 @@
+<?php
+$lang->edit_producer_cols_list=array(
+                'ID'=>'ID',
+                'producer'=>'Producer',
+                'products'=>'Products',
+                );
+$lang->edit_producer_not_deleted="The following records have not been deleted as there are products assigned to a given producer.";
+$lang->edit_producer_cols=array(
+                'ID'=>'ID',
+                'producer'=>'Producer',
+                'change_all'=>'change for all products',
+                );
+$lang->tips="Producer list is dynamically generated from product database but you can edit it additionally.";
+$lang->edit_category_menu_list=array(
+                'category1'=>'Category 1',
+                'category2'=>'Category 2',
+                'category3'=>'Category 3',
+                'category4'=>'Category 4',
+                'category5'=>'Category 5',
+                'producers'=>'Producers',
+                );
+$lang->edit_producer_products="Products";
+$lang->edit_producer_list_bar="Record list";
+$lang->edit_producer_menu=array(
+                'add'=>'Add a producer',
+                'list'=>'Producer list',
+                );
+$lang->edit_producer_edit_update_ok="Record updated";
+$lang->edit_producer_update_bar="Record updating";
+$lang->edit_producer_record_add="Record added";
+$lang->edit_producer_add_bar="Add a new record";
+$lang->edit_producer_bar="Producer list editing";
+$lang->edit_producer_form_errors=array(
+                'producer'=>array(
+                                '0'=>'No producer name',
+                                '1'=>'Too long name',
+                                '11'=>'The given producer?s address exists',
+                                ),
+                                
+                );
+?>
\ No newline at end of file
diff -ruN ../soteesklep3/admin/go/_help/lang/_en/lang.inc.php soteesklep3/admin/go/_help/lang/_en/lang.inc.php
--- ../soteesklep3/admin/go/_help/lang/_en/lang.inc.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/admin/go/_help/lang/_en/lang.inc.php	2006-07-11 14:13:46.000000000 +0200
@@ -0,0 +1,15 @@
+<?php
+$lang->help_title="Documentation/Help";
+$lang->help_info="Documentation in PDF format is available below:";
+$lang->help_cols=array(
+                'enduser'=>"Users guide (printer friendly version)",
+                'webmaster'=>"Documentation for webmasters",
+                );
+$lang->help_service_title="SOTEeSHOP service";
+$lang->help_service="If you have questions concerning the shop, need technical help or want to report an error or suggest improvements, please use our service system - available at <a
+
+href=http://service.soteshop.com
+
+target=service><u>www.service.soteshop.com</u></a>.";
+$lang->help_doc="Information about SOTEeSHOP program can be found on page: <a target='blank' href='http://www.soteshop.com/go/_soteesklep/_doc/'>SOTESHOP - documentation<a><font color='black'>.";
+?>
\ No newline at end of file
diff -ruN ../soteesklep3/admin/go/_main_configure/lang/_en/lang.inc.php soteesklep3/admin/go/_main_configure/lang/_en/lang.inc.php
--- ../soteesklep3/admin/go/_main_configure/lang/_en/lang.inc.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/admin/go/_main_configure/lang/_en/lang.inc.php	2006-07-11 14:13:47.000000000 +0200
@@ -0,0 +1,35 @@
+<?php
+$lang->configure_title="Configuration centre";
+$lang->button_help="Help";
+$lang->welcome_text="Below there are links to SOTESHOP program configuring.";
+$lang->conf_title_modules="Module configuration";
+$lang->conf_title_partners="Partner configuration";
+$lang->conf_title_pay="Payment system configuration";
+$lang->conf_title_pay_on="Payment on-line";
+$lang->conf_title_pay_off="Payment off-line";
+$lang->conf_title_aspect="Aspect editing configuration";
+$lang->configuration="General configuration";
+$lang->catalog_conf="<b>Directory mode</b> configuration";
+$lang->configuration_points="Points system configuraiton";
+$lang->configuration_language="Language version configuration";
+$lang->configuration_newsletter="Newsletter configuration";
+$lang->configuration_newsedit="Newsedit configuration";
+$lang->configuration_search="Search configuration";
+$lang->configuration_themes="Theme management";
+$lang->configuration_category="Category properties editing (menu)";
+$lang->configuration_domains="Domain management";
+$lang->configuration_country="Countries of delivery configuration";
+$lang->configuration_paypal="PayPal configuration";
+$lang->configuration_cardpay="Debit card payment configuration";
+$lang->configuration_onet="Onet Passage configuration";
+$lang->configuration_wp="WP Passage configuration";
+$lang->configuration_interia="Interia Passage configuration";
+$lang->configuration_polcard="Configuration - Polcard";
+$lang->configuration_przelewy24="Configuration ? Przelewy24.pl (Transfers24)";
+$lang->configuration_platnosciPL="Configuration - PlatnosciPL (PaymentsPL)";
+$lang->configuration_allpay="Configuration - Allpay";
+$lang->configuration_ecard="Configuration - eCard";
+$lang->configuration_ceneo="Configuration Ceneo";
+$lang->configuration_allegro="Configuration Allegro";
+$lang->configuration_payments_offline="Payment Off-line";
+?>
\ No newline at end of file
diff -ruN ../soteesklep3/admin/go/_main_configure/lang/_pl/lang.inc.php soteesklep3/admin/go/_main_configure/lang/_pl/lang.inc.php
--- ../soteesklep3/admin/go/_main_configure/lang/_pl/lang.inc.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/admin/go/_main_configure/lang/_pl/lang.inc.php	2006-07-11 14:13:47.000000000 +0200
@@ -0,0 +1,35 @@
+<?php
+$lang->configure_title="Centrum konfiguracyjne";
+$lang->button_help="Pomoc";
+$lang->welcome_text="Poni¿ej znajduj± siê linki do konfigurowania programu SOTEeSKLEP.";
+$lang->conf_title_modules="Konfiguracja modu³ów";
+$lang->conf_title_partners="Konfiguracja partnerów";
+$lang->conf_title_pay="Konfiguracja systemów p³atno¶ci";
+$lang->conf_title_pay_on="P³atno¶ci on-line";
+$lang->conf_title_pay_off="P³atno¶ci off-line";
+$lang->conf_title_aspect="Konfiguracja edycji wygl±du";
+$lang->configuration="Konfiguracja ogólna";
+$lang->catalog_conf="Konfiguracja trybu <B>katalog</B>";
+$lang->configuration_points="Konfiguracja systemu punktowego";
+$lang->configuration_language="Konfiguracja wersji jêzykowych";
+$lang->configuration_onet="Konfiguracja pasa¿u Onet";
+$lang->configuration_wp="Konfiguracja pasa¿u WP";
+$lang->configuration_interia="Konfiguracja pasa¿u Interia";
+$lang->configuration_newsletter="Konfiguracja newsletter";
+$lang->configuration_newsedit="Konfiguracja newsedit";
+$lang->configuration_search="Konfiguracja wyszukiwania";
+$lang->configuration_polcard="Konfiguracja - Polcard";
+$lang->configuration_cardpay="Konfiguracja - P³atno¶ci kart±";
+$lang->configuration_przelewy24="Konfiguracja - Przelewy24.pl";
+$lang->configuration_paypal="Konfiguracja - PayPal";
+$lang->configuration_platnosciPL="Konfiguracja - P³atno¶ciPL";
+$lang->configuration_allpay="Konfiguracja - Allpay";
+$lang->configuration_themes="Zarz±dzanie tematami";
+$lang->configuration_category="Edycja w³a¶ciwo¶ci kategorii (menu)";
+$lang->configuration_domains="Zarz±dzanie domenami";
+$lang->configuration_country="Konfiguracja krajow dostawy";
+$lang->configuration_ecard="Konfiguracja - eCard";
+$lang->configuration_ceneo="Konfiguracja Ceneo";
+$lang->configuration_allegro="Konfiguracja Allegro";
+$lang->configuration_payments_offline="P³atno¶ci Off-line";
+?>
\ No newline at end of file
diff -ruN ../soteesklep3/admin/go/_offline/_export/lang/_en/lang.inc.php soteesklep3/admin/go/_offline/_export/lang/_en/lang.inc.php
--- ../soteesklep3/admin/go/_offline/_export/lang/_en/lang.inc.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/admin/go/_offline/_export/lang/_en/lang.inc.php	2006-07-11 14:13:52.000000000 +0200
@@ -0,0 +1,79 @@
+<?php
+$lang->export_update="Data export to file";
+$lang->export_close="Close window";
+$lang->export_error=array(
+                'no_select'=>"No column was selected for export",
+                'id'=>"Product ID column must be marked",
+                'dir_no_exists'=>"Directory /tmp/product does not exist",
+                'not_create_file'=>"Unsuccessful download.txt file opening to save database dump ",
+                'no_auto_file'=>"Unsuccessful description file saving in /tmp/product",
+                );
+$lang->download_file="Save export file on disk";
+$lang->download_file_ok="Successful data export to file";
+$lang->download_file_error="Unsuccessful data export to file";
+$lang->export_status="Data export";
+$lang->export_menu=array(
+                'export'=>"Export",
+                'help'=>"Help",
+                );
+$lang->export_column="Column";
+$lang->export_selected="Select all";
+$lang->export_unselected="Unselect all";
+$lang->export_option="Export options";
+$lang->export_type="Types of export files";
+$lang->export_encoding="File encoding";
+$lang->export_names_column=array(
+                'user_id'=>"Product ID",
+                'price_brutto'=>"Gross price",
+                'xml_description_L0'=>"Full product description",
+                'xml_short_description_L0'=>"Short product description",
+                'photo'=>"Product photo",
+                'flash'=>"Product flash photo ",
+                'flash_html'=>"Flash photo code",
+                'pdf'=>"PDF photo",
+                'xml_options'=>"Option to product",
+                'promotion'=>"Promotional products",
+                'newcol'=>"New product",
+                'bestseller'=>"Bestseller",
+                'main_page'=>"Main page",
+                'active'=>"Active",
+                'name_L0'=>"Product name",
+                'producer'=>"Producer",
+                'category1'=>"Category 1",
+                'category2'=>"Category 2",
+                'category3'=>"Category 3",
+                'category4'=>"Category 4",
+                'category5'=>"Category 5",
+                'id_currency'=>"Currency",
+                'vat'=>"VAT rate",
+                'price_brutto_detal'=>"Old price",
+                'id_available'=>"Availability",
+                'price_brutto_2'=>"Wholesale price",
+                'hidden_price'=>"Hide the price",
+                'discount'=>"Discount",
+                'accessories'=>"Accessories",
+                'price_currency'=>"Price in currency",
+                'max_discount'=>"Maximum Discount",
+                'onet_category'=>"Onet category",
+                'onet_export'=>"Onet export",
+                'onet_status'=>"Onet status",
+                'onet_image_export'=>"Onet export image",
+                'onet_image_desc'=>"Onet description image",
+                'onet_image_title'=>"Onet image title",
+                'onet_attrib'=>"Onet attributes",
+                'google_title'=>"Google title",
+                'google_keywords'=>"Google keywords",
+                'google_description'=>"Google description",
+                'category_multi_1'=>"Product in category 2",
+                'category_multi_2'=>"Product in category 3",
+                'ask4price'=>"Ask about price",
+                'weight'=>"Volume / capacity",
+                'status_vat'=>"Sale without VAT",
+                );
+$lang->export_mode=array(
+                'mode'=>"File loading mode",
+                'update'=>"Price list updating (symbol U at the beginning of the record)",
+                'add'=>"Full price list loading (symbol A at the beginning of the record)",
+                );
+$lang->export_execution="Execution"; 
+?>
\ No newline at end of file
diff -ruN ../soteesklep3/admin/go/_offline/lang/_en/lang.inc.php soteesklep3/admin/go/_offline/lang/_en/lang.inc.php
--- ../soteesklep3/admin/go/_offline/lang/_en/lang.inc.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/admin/go/_offline/lang/_en/lang.inc.php	2006-07-11 14:13:55.000000000 +0200
@@ -0,0 +1,17 @@
+<?php
+$lang->offline_icons=array(
+                'main'=>'Price list',
+                );
+$lang->offline_info=array(
+                'main'=>'Shop products database updating. It allows entering the full offer prepared e. g. in Excel (Open Office, StarOffice, Access) or updating a part of the shop assortment.',
+                );
+$lang->offline_menu=array(
+                'main'=>'Price list import',
+                'attributes'=>'Product attribute import',
+                'export'=>'Price list export',
+                'language'=>'Product description import',
+                'depository'=>'States of store impor',
+                );
+$lang->offline_title="Data import/export";
+
+?>
\ No newline at end of file
diff -ruN ../soteesklep3/admin/go/_offline/_main_keys/lang/_en/lang.inc.php soteesklep3/admin/go/_offline/_main_keys/lang/_en/lang.inc.php
--- ../soteesklep3/admin/go/_offline/_main_keys/lang/_en/lang.inc.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/admin/go/_offline/_main_keys/lang/_en/lang.inc.php	2006-07-11 14:13:54.000000000 +0200
@@ -0,0 +1,102 @@
+<?php
+$lang->offline_record_deleted="Number of deleted records";
+$lang->offline_record_updated="Number of updated records";
+$lang->offline_record_added="Number of added records";
+$lang->offline_size="ATTENTION!!!
+Size of file that has been loaded on the server equals 0.
+If the file you were attaching is not empty, it means that errors occurred while transferring it to the server.
+Try to transfer the file once again.
+If this information appears once more, contact the administrator.
+<p>
+<ul>
+<li> If you want to update product database, choose the bookmark 
+<a
+href=/go/_offline/_main/><u>pricelist</u></a>
+<li> If you want to enter attribute list for products choose the bookmark <a
+href=/go/_ooline/_attributes/><u>attributes</u></a>
+ATTENTION!!! If you update price list and attributes, you have to remember about updating order. First you enter new price list and then new attribute list.
+</ul>/=/";
+$lang->offline_no_file="ATTENTION!!! File has not been correctly loaded on the server.
+Try once again. If the same information appears, contact the administrator.
+<p>
+<ul>
+<li> If you want to update product database, choose the bookmark
+<a
+href=/go/_offline/_main/><u>price list</u></a>
+<li>If you want to enter attribute list for products, choose the bookmark <a
+href=/go/_offline/_attributes/><u>attributes</u></a>
+<li>ATTENTION!
+If you update price list and attributes, remember about updating order. First enter new price list and then new attribute list.
+</ul>
+";
+$lang->offline_product_update_info="Shop product base updating";
+$lang->offline_field="Field";
+$lang->offline_record_info="Message";
+$lang->offline_record="Record";
+$lang->offline_date="Date";
+$lang->offline_update_errors="Errors generated during last updating";
+$lang->offline_examples_price_list="Download an exemplary file containing pins:<ul>
+<li><a
+href=date/pins10zl.csv>Pins for 10 zl</a>
+<li> <a
+href=date/pins20zl.csv.>Pins
+for 20zl</a>
+<li> <a
+href=date/pins50zl.csv>Pins for 50zl <a/>";
+$lang->offline_sql_info="<B>ATTENTION!</B><BR>Base will be completed with pins from
+<a
+href=/go/_offline/_pins/index.php><B><u>of loaded file. </u></b></a>
+";
+$lang->offline_submit_data="Update data";
+$lang->offline_continue="Finish interrupted updating";
+$lang->offline_update_action="I update price list";
+$lang->offline_load_all="I load full price list";
+$lang->offline_upload_info="Attach the file containing pins. The file should contain two columns - the first column contains the value, the second PIN.";
+$lang->offline_menu=array(
+                'load'=>'Load pins',
+                'update'=>'Update',
+                'status'=>'Status',
+                'examples'=>'Examples of pins',
+                );
+$lang->offline_legend=array(
+                'green'=>'Record correctly loaded to base',
+                'blue'=>'Error during data verification',
+                'red'=>'Error while loading data to database',
+                'fiol'=>'Records ignored because of limitations in this version of the shop',
+                'sel'=>'Other errors',
+                'info'=>'Legend',
+                );
+$lang->offline_money=array(
+                '50'=>'Pins for 50zl',
+                '20'=>'Pins for 20zl',
+                '10'=>'Pins for 10zl',
+                );
+$lang->offline_update_error="<font color=red><b>
+ERRORR!!!</b></font>
+Errors occurred while loading the price list. Click the bookmark <b>Status</b>to get information about errors";
+$lang->offline_update_ok="Price list has been loaded correctly";
+$lang->offline_update="Price list updating";
+$lang->offline_category_error=array(
+                'category1_load'=>'Error occurred while loading categories to database',
+                );
+$lang->offline_load_errors=array(
+                'not_user_id'=>'If you update record, user_id must be one of the fields',
+                );
+$lang->offline_file_errors=array(
+                'not_open'=>'Unsuccessful attempt to open data file',
+                'less'=>'There are fewer fields in the record than in the structure we are loading data into',
+                'more'=>'There are more fields in the record than in the structure we are loading data into',
+                'load_ignore'=>'Record has not been loaded because of product limit in this version of the shop',
+                'load_database'=>'Error occurred while loading record to database',
+                'error_update'=>'Attempt to update record which does not exist in database',
+                'error_insert'=>'Attempt to add record which already exists in database',
+                'error_delete'=>'Attempt to delete record which does not exist in database',
+                );
+$lang->offline_check_errors=array(
+                'user_id_main'=>'You trying to downlowd PINs whose face value is different from what you have marked',
+                'main_key'=>array(
+                                '1'=>'PIN contains signs different than digits',
+                                '2'=>'PIN is too short',
+                                '3'=>'PIN is too long',
+                                ), );
+?>
\ No newline at end of file
diff -ruN ../soteesklep3/admin/go/_options/_delivery/_zone/html/volume_price.html.php soteesklep3/admin/go/_options/_delivery/_zone/html/volume_price.html.php
--- ../soteesklep3/admin/go/_options/_delivery/_zone/html/volume_price.html.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/admin/go/_options/_delivery/_zone/html/volume_price.html.php	2006-07-11 14:13:56.000000000 +0200
@@ -0,0 +1,33 @@
+<?php
+global $mdbd;
+global $_REQUEST;
+$data=$mdbd->select("id,name,range_max","delivery_volume");
+// jesli otwieramy dopiero formularz to wez dane z bazy o ile juz wpis istnieje
+if(empty($_REQUEST['item'])) {
+	$str=$mdbd->select("price","delivery_price","id_zone=".$_REQUEST['id_zone']." AND id_delivery=".$_REQUEST['id_delivery']);
+	if(!empty($str)) {
+		$_REQUEST['item']=unserialize($str);
+	}
+}
+?>
+<form action="volume_price.php" method=POST>
+<input type=hidden name=update value=true>
+<input type=hidden name=id_delivery value=<?php print $_REQUEST['id_delivery']; ?> >
+<input type=hidden name=id_zone value=<?php print $_REQUEST['id_zone']; ?> >
+<input type=hidden name=id value=<?php print @$data['id'];?>> 
+<p>
+<table align='center'>
+<?php
+foreach($data as $key=>$value) {
+	print "<tr><td>";
+	print $value['name'].":: ".$lang->delivery_zone_to." ".$value['range_max'];
+	print "</td><td>";
+	print "<input type=text name=item[".$value['id']."] value='".@$_REQUEST['item'][$value['id']]."' size=5>";
+	print "</td></tr>\n";
+}
+?>
+<tr>
+ <td></td><td><input type=submit value="<?php print $lang->edit_submit;?>">
+</tr>
+</table>
+</form>
\ No newline at end of file
diff -ruN ../soteesklep3/admin/go/_upgrade/include/upgrade.inc.php soteesklep3/admin/go/_upgrade/include/upgrade.inc.php
--- ../soteesklep3/admin/go/_upgrade/include/upgrade.inc.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/admin/go/_upgrade/include/upgrade.inc.php	2006-07-13 12:54:51.000000000 +0200
@@ -0,0 +1,942 @@
+<?php
+/**
+* Obs³uga plików aktualizacji.
+* Odczytanie plików do aktualizacji, weryfikacja, aktualizacja.
+*
+* @author  m@sote.pl
+* @version $Id: upgrade.inc.php,v 1.38 2006/03/09 11:41:07 lukasz Exp $
+* @package    upgrade
+*/
+
+/**
+* Dodaj obs³ugê FTP
+*/
+require_once ("include/ftp.inc.php");
+
+/**
+* Dodaj obs³ugê plików CVS
+*/
+require_once ("include/cvs.inc.php");
+
+/**
+* Dodaj obs³ugê generowania sum kontrolnych plików
+*/
+require_once ("include/file_checksum.inc.php");
+
+/**
+* Odczytaj konfiguracje patch'y
+*/
+require_once ("config/auto_config/patch_config.inc.php");
+
+/**
+* Oczytaj zarz±dzanie licencj±
+*/
+require_once ("include/license.inc.php");
+
+/**
+* Maksymalna ilo¶æ zagnie¿dzeñ katalogów przy zak³adaniu nowych ¶cie¿ek.
+* Ilo¶æ katalogów przegl±danych "w górê" w celu znalezienia odpowiedniej ¶cie¿ki, w której
+* mo¿na zak³adaæ wsakzane katalogi.
+*/
+define ("MKDIR_MAX_COUNT",8);
+
+/**
+* Okre¶lenie do jakiej bazy sum kontrolnych jest zapisywana suma kontrolna. UPGRADE_FILE_SUM -> sum.md5
+*/
+define ("UPGRADE_FILE_SUM",1);
+
+/**
+* Okre¶lenie do jakiej bazy sum kontrolnych jest zapisywana suma kontrolna. UPGRADE_FILE_MOD -> mod.md5
+*/
+define ("UPGRADE_FILE_MOD",2);
+
+/**
+* Okre¶lenie czy dokonujemy symulacji instalacji pakietu.
+*/
+define ("UPGRADE_SIMULATION",true);
+
+/**
+* Okre¶lenie poprawnej aktualizacji pliku.
+*/
+define ("UPGRADE_RESULT_OK",0);
+
+/**
+* Okre¶lenie pliku z modyfikacj± klienta.
+*/
+define ("UPGRADE_RESULT_MOD",-1);
+
+/**
+* B³±d podczas instalacji pliku.
+*/
+define ("UPGRADE_RESULT_ERROR",-2);
+
+/**
+* Tryb autonmatycznej instalacji plików.
+*/
+define ("UPGRADE_INSTALL_AUTO_MODE",1);
+
+/**
+* Zapamiêtaj aktualizowany plik w bazie, nie instaluj go.
+*/
+define ("UPGRADE_SAVE_MOD",1);
+
+/**
+* Obs³uga plików "Diff"
+* @package upgrade
+*/
+class Diff {
+
+    /**
+    * @var array wiersze z aktualizacji
+    * @access private
+    */
+    var $_file_lines=array();
+
+    /**
+    * @var array lista plików do aktualizacji
+    */
+    var $_files=array();
+
+    /**
+    * @var int licznik za³o¿onych katalogów, przy tworznieu odpowiedniej ¶cie¿ki do pliku (zobacz MKDIR_MAX_COUNT)
+    */
+    var $_mkdirCount=0;
+
+    /**
+    * @var bool true - symulacja instalacji    
+    * @access private
+    */
+    var $_simulation=false;
+
+    /**
+    * @var int status aktualizacji 0 - ok, 1 - modyfikacja
+    */
+    var $upgrade_status=0;
+
+    /**
+    * @var string zawarto¶c ostatnio aktualizowanego pliku
+    */
+    var $_source='';
+
+    /**
+    * @var string opcjonalny kod aktywacyjny do pakietu zdefiniowany w pliku 000-upgrade_config.php w sta³ej PATCH_CODE
+    * @access private
+    */
+    var $_patch_code='';
+
+    /**
+    * Konstruktor
+    *
+    * @param string $file plik z aktualizacj±
+    * @return bool true plik poprawnie za³±czony, false w p.w.
+    */
+    function Diff($file) {
+        if (file_exists($file)) {
+            $fd=fopen($file,"r");
+            $data=fread($fd,filesize($file));
+            fclose($fd);
+            $this->_file_lines=split("\n",$data);
+            return true;
+        }
+        return false;
+    } // end Diff()
+
+    /**
+    * Odczytaj listê plików do aktualizacji
+    * @return array
+    */
+    function _getFiles() {
+        $files=array();
+        reset($this->_file_lines);
+        foreach ($this->_file_lines as $_line) {
+            if (ereg("^diff -ruN",$_line)) {
+                $tab=split(" ",$_line,4);
+                if (! empty($tab[3])) $files[]=$tab[3];
+            }
+        } // end foreach
+        $this->_files=$files;
+        return $files;
+    } // end _getFiles()
+
+    /**
+    * Odczytaj zawarto¶c wskazanego pliku z pakietu aktualizcyjnego.
+    *
+    * @param string nazwa pliku + ¶cie¿ka w wzglêdem $DOCUMENT_ROOT/../
+    * @return string zawarto¶c pliku
+    */
+    function getFile($file) {
+        if (empty($this->_file_lines)) return;
+        reset($this->_file_lines);$file_source='';$_read=false;$_start=false;
+        foreach ($this->_file_lines as $_line) {
+            if (ereg(" ".$file."$",$_line)) $_read=true;
+            if ((! (ereg(" ".$file."$",$_line))) && ((ereg("^diff "."-ruN ",$_line)))) { $_read=false; $_start=false; }
+            if (ereg("\ No newline "."at end of file",$_line)) { $_read=false; $_start=false; }
+            if (($_read) && ($_start)) {
+                $line=preg_replace("/^\+/","",$_line); // usuñ znak +, kótry dodaje diff na pocz±tku ka¿dej linii
+                $file_source.=$line."\n";
+            }
+            if (($_read) && (! $_start)) {
+                if (ereg("^@@ ",$_line)) $_start=true;
+            }
+        } // end foreach()
+        return $file_source;
+    } // getFile()
+
+} // end class Diff
+
+/**
+* Klasa aktualizacja sklepu na bazie plików "diff".
+* @package upgrade
+*/
+class DiffUpgrade extends Diff {
+
+    /**
+    * @var int numer wersji upgrade'u, dla ka¿dego upgradu numer powinien byæ nowy numer CVS
+    */
+    var $_version=-1;
+
+    /**
+    * @var string zmienna zawieraj±ca plik zawieraj±cy pakiet upgrade'u (nazwa pliku z uaktualneiniem)
+    * @access public
+    */
+    var $upgradeFile='';
+
+    /**
+    * Lista podkatalogów z g³ównego katalogu sklepu, dla których zmieniana jest lokalizacja docelowa
+    * Dot. instalacji na home.pl
+    */
+    var $_base_dirs=array("config","include","lib","bin");
+
+    /**
+    * Kondtruktor
+    * @see Diff::Diff()
+    */
+    function DiffUpgrade($file) {
+        $this->upgradeFile=$file;
+        preg_match("/([0-9][0-9][0-9])\./",basename($file),$matches);
+        if (! empty($matches[1])) $this->_version=intval($matches[1]);
+        else $this->version=date("YmdHi");
+        return $this->Diff($file);
+    } // end DiffUpgrade()
+
+    /**
+    * Wy¶wietl liste plików do aktualizacji
+    * @return none
+    */
+    function showListFiles() {
+        if  (empty($this->_files)) $this->_getFiles();
+        reset($this->_files);
+        print "<ul>\n";
+        foreach ($this->_files as $_file) {
+            $file_url=urlencode($_file);
+            print "<li>$_file</li>\n";
+        } // end foreach
+        print "</ul>\n";
+        return;
+    } // end showListFiles()
+
+    /**
+    * Wykonaj upgrade
+    *
+    * @param bool $simulation true - emulacja trybu instalacji pakietu, bez jego instalacji, false - instalacja pakietu
+    *
+    * @return int  1 upgrade wykonany poprawnie,  (-1) - bledny pakiet  
+    */
+    function doUpgrade($simulation=false) {
+        global $ftp,$DOCUMENT_ROOT;
+        global $lang,$shop,$config;
+
+        $this->_simulation=$simulation;
+
+        $this->_getFiles();
+        if  (empty($this->_files)) $this->_getFiles();
+        $ftp->connect();
+        //print "<table cellspacing=1 cellpadding=0 border=0>\n";
+        $result=array();
+        foreach ($this->_files as $_file) {
+            // print "<tr>\n";
+            // spawdz, czy plik mozna zaktualizowac
+            $result_upgrade_test=$this->_upgradeTestFile($_file);
+
+            if (! ereg("000-upgrade_config.php",$_file)) {
+                // pomiñ plik konfiguracji aktualnie instalowanego pakietu
+                $result[$_file]['result']=$result_upgrade_test;
+            }
+
+            if (($result_upgrade_test>0) && ($result_upgrade_test!=2)) {
+                $this->upgrade_status=1;
+            }
+            if ($result_upgrade_test==0) {
+                // instaluj plik je¶li nie zosta³ wywo³any tryb symulacji lub je¶li jest odczytywany plik konfiguracyjny
+                if ((! $this->_simulation) || (ereg("000-upgrade_config.php",$_file))) {
+                    if (! $this->upgradeFile($_file)) {
+                        $result['files'][$_file]=UPGRADE_RESULT_ERROR;
+                    } else {
+                        // start home.pl 2005-08-17 m@sote.pl
+                        // instaluj plik konfiguracyjny do g³ównego katalogu i do admin (dla home.pl)
+                        // gdy¿ na home.pl plik z g³ównego katalogu nie jest dostêpny i jego
+                        // kopia musi znajdowaæ siê w podkatalogu "admin"
+                        if ((ereg("000-upgrade_config.php",$_file)) && ($shop->home)) {
+                            if ($fd=fopen("/tmp/000-upgrade_config.php","w+")) {
+                                fwrite($fd,$this->_source,strlen($this->_source));
+                                fclose($fd);
+                                $ftp->put("/tmp/000-upgrade_config.php",$config->ftp['ftp_dir']."/admin","000-upgrade_config.php");
+                            } else {
+                                die ("Error: Unable to install file /tmp/000-upgrade_config.php");
+                            }
+                        }
+                        // end home.pl
+
+                    }
+
+                    if (ereg("000-upgrade_config.php",$_file)) {
+                        // odczytaj numer wersji aktualnie instalowanego pakietu
+                        include_once ("000-upgrade_config.php");
+                        if (! defined("PATCH_VERSION")) {
+                            $this->upgrade_status=1;
+                        } else {
+                            $this->_version=PATCH_VERSION;
+                        }
+
+                        // kod aktywacyjny zwi±zany z pakietem aktualizacyjnym
+                        if (defined("PATCH_CODE")) {
+                            $this->_patch_code=PATCH_CODE;
+                        }
+
+                    }
+                }
+
+                // sprawd¼ wersjê instalowanego pakietu,
+                if (! $this->checkVersion()) {
+                    return (-1);
+                }
+
+                // } elseif ($result_upgrade_test==-1) {
+                //  if (! $this->upgradeFile($_file,'',UPGRADE_FILE_MOD)) {
+                //      $result['files'][$_file]=UPGRADE_RESULT_ERROR;
+                //  }
+            } else {
+                //print "</td>\n";
+                //print "<td>\n";
+                //print " <font color=\"$color\">".$lang->upgrade_file_status_simulation[$result_upgrade_test]."</font>";
+                //print "</td>\n";
+                global $shop;
+                if (($result_upgrade_test!=2) && ($this->_simulation) && !@$shop->home) {
+                    //print "<td>\n";
+                    // poka¿ formularze do wykrycia modyfikacji pliku i "wyleczenia/pogodzenia" zmian
+                    //print "      <form action=repair.php method=POST target=window>\n";
+                    //print "      <input type=hidden name=file[name] value='".$_file."'>\n";
+                    $result[$_file]['form']['name']=$_file;
+                    $result[$_file]['form']['upgrade_file']=$this->upgradeFile;
+                    //print "      <input type=hidden name=file[upgrade_file] value='".$this->upgradeFile."'>\n";
+                    //print "      <input type=hidden name=file[path] value='".$this->_files['path']."'>\n";
+                    $result[$_file]['form']['path']=$this->_files['path'];
+                    //print "      <input type=hidden name=file[upgrade] value='".$this->_files['upgrade']."'>\n";
+                    $result[$_file]['form']['upgrade']=$this->_files['upgrade'];
+                    //print "      <input type=submit value='$lang->upgrade_file_repair' onclick='window.open(\"\", \"window\", \"width=800, height=600, status=no, toolbar=no, scrollbars=yes, resize=1\")'>\n";
+                    //print "      </form>\n";
+                    //print "</td>\n";
+                } else {
+                    // instalacja plików z bufora, lub nadpisanie plików z dysku plikami z pakietu
+                    // sprawd¼, czy aktualizowany plik jest w buforze, je¶li tak to odczytaj jego zawarto¶æ i zainstaluj
+                    // je¶li nie, instaluj pliki z pakietu
+                    $upgrade_file_source=$this->getFileFromDB($_file);
+                    if ($upgrade_file_source) {
+                        // plik jest w buforze
+                        $this->upgradeFile($_file,$upgrade_file_source,UPGRADE_FILE_MOD);
+                        $result[$_file]['result']=4;
+                    } else {
+                        // nie ma plku w buforze, we¼ plik z pakietu akualizacyjnego
+                        $this->upgradeFile($_file);
+                        $result[$_file]['result']=0;
+                    }
+                }
+                //print "</tr>\n";
+            }
+        } // end foreach()
+        //print "</table>\n";
+
+        // zapamiêtaj wynik testu/aktualizacji
+        $this->_result=$result;
+        //print "<pre>";print_r($result);print "</pre>";
+
+
+        if (empty($result)) {
+            print "<font color=\"red\">$lang->upgrade_error_ext</font>\n";
+            $this->upgrade_status=2;
+        }
+
+        global $__database_md5;
+
+        // zapisz now± bazê sum kontrolnych
+        if (! $this->_simulation) {
+            if (FileChecksum::saveDat()) {
+                print "<p>$lang->upgrade_checksums_upgraded <p>";
+            } else {
+                print "<p><font color=\"red\">$lang->upgrade_checksums_upgrade_error</font><p>\n";
+            }
+        }
+        $ftp->close();
+
+        return (1);
+    } // end doUpgrade()
+
+    // {{{ showUpgradeInfo()
+
+    /**
+    * Wyswietl raport dot. aktualizacji.
+    *
+    * @param int $upgrade_mode 0 - defualt, UPGRADE_INSTALL_AUTO_MODE - nie pokazuj linku do naprawy plików
+    *
+    * @return  bool
+    */
+    function showUpgradeInfo($upgrade_mode=0) {
+        global $theme;
+        if (empty($this->_result)) return false;
+        if ((empty($this->_version)) && ($this->_version!=0)) return false;
+
+        $ret=true;
+        print "<table cellspacing=\"0\" cellpadding=\"1\">\n";
+        foreach ($this->_result as $file=>$val) {
+            print "<tr>";
+            print "<td>";
+            $status=$val['result'];
+            switch ($status) {
+                case 0: $theme->point("g");break; // 0 - mo¿na aktualizowaæ plik
+                case 1: $theme->point("r");break; // 1 - plik zmieniony, wykryto modyfikacjê
+                case 2: $theme->point("b");break; // 2 - nowsza wersja pliku
+                case 3: $theme->point("o");break; // 3 - indywidualna modyfikacja
+                case 4: $theme->point("rg");break; // 4 - indywidualna modyfikacja, zatwierdzona w poprzedniej aktualizacji
+                default: $theme->point("black");break;
+            }
+            print "</td>";
+            print "<td>$file</td>";
+            if (($status==1) || ($status==3) | ($status==4)) {
+                if (empty($upgrade_mode)) {
+                    $ret=false;
+                    print "<td>";$this->_repairForm($file);print "</td>\n";
+                }
+            }
+            print "</tr>\n";
+        } // end foreach;
+        print "</table>\n";
+
+        return $ret;
+    } // end showUpgradeInfo()
+
+    // {{{ repairForm()
+
+    /**
+    * Wy¶wietl formularz przekierowuj±cy u¿ytkownika na stronê ³±czenia modyfikacji plików z pakietu i z dysku
+    *
+    * @param string $file nazwa pliku np. soteesklep3/admin/index.php
+    * @return void
+    */
+    function _repairForm($_file) {
+        $result=$this->_result;
+
+        print "<form action=repair.php method=POST target=window>\n";
+        print "      <input type=hidden name=file[name] value='".$_file."'>\n";
+        print "      <input type=hidden name=file[patch_version] value='".$this->_version."'>\n";
+        print "      <input type=hidden name=file[upgrade_file] value='".$result[$_file]['form']['upgrade_file']."'>\n";
+        print "      <input type=hidden name=file[path] value='".$result[$_file]['form']['path']."'>\n";
+        print "      <input type=hidden name=file[upgrade] value='".$result[$_file]['form']['upgrade']."'>\n";
+        print "<input type=image  src=/themes/base/base_theme/_img/repair.png border=0 width=10 height=10 onclick='window.open(\"\", \"window\", \"width=800, height=600, status=no, toolbar=no, scrollbars=yes, resize=1\")'>";
+        print "      </form>\n";
+
+
+        return;
+    } // end _repairForm()
+
+    // }}}
+
+    // }}}
+
+    // {{{ legend()
+
+    /**
+    * Wy¶wietl legendê statusów aktualizacji.
+    */
+    function legend() {
+        global $theme,$lang;
+
+        print "<br />$lang->upgrade_legend_title:<br \>";
+        print "<table cellspacing=\"1\" cellpadding=\"1\">\n";
+        print "<tr><td>";$theme->point("g");print "</td><td>".$lang->upgrade_legend[0]."</td></tr>\n";
+        print "<tr><td>";$theme->point("b");print "</td><td>".$lang->upgrade_legend[2]."</td></tr>\n";
+        print "<tr><td>";$theme->point("r");print "</td><td>".$lang->upgrade_legend[1]."</td></tr>\n";
+        print "<tr><td>";$theme->point("o");print "</td><td>".$lang->upgrade_legend[3]."</td></tr>\n";
+        print "<tr><td>";$theme->point("rg");print "</td><td>".$lang->upgrade_legend[4]."</td></tr>\n";
+        print "<tr><td><img src=/themes/base/base_theme/_img/repair.png width=10 height=10></td><td>".$lang->upgrade_legend['repair']."</td></tr>\n";
+        print "</table>\n";
+        return;
+    } // end legend()
+
+    // }}} legend()
+
+    // {{{ checkVersion()
+
+    /**
+    * Sprawd¼ wersjê instalowanego pakietu.
+    * Sprawd¼ czy wersja istnieje oraz czy mo¿na dany pakiet zainstalowaæ. Pakiety, które mo¿na zainstalowaæ
+    * musz± byæ kolejnymi numerami PATCH_LAST lub powinny mieæ warto¶æ 0 - dla indywidualnych pakietów.
+    * 
+    * @return bool true - mo¿na instalowaæ dan± wersjê, false w p.w.
+    */
+    function checkVersion() {
+        global $mdbd,$lang,$__devel;
+        global $config,$_REQUEST;
+
+        // dla wersji o numerze 0 zwracja true, po weryfikacji kodu
+        if ($this->_version==0) {
+            // sprawd¼ czy kod aktualizacji jest poprawny
+            if ($this->_simulation) {
+                $lic =& new License();
+                $code=$lic->checkCode($this->_patch_code);
+                if ($_REQUEST['upgrade_code']==$code) {
+                    return true;
+                } else {
+                    print "<font color=\"red\">".$lang->upgrade_code_error."</font>";
+                    return false;
+                }
+            }
+            return true;
+        }
+
+        // sprawd¼ czy dany pakiet jest ju¿ zainstalowany
+        $exists=$mdbd->select("id","upgrade","version=?",array($this->_version=>"text"),"LIMIT 1");
+        // nie zezwalaj na powtórne ³adowanie pakietu, chyba ¿e sklep dzia³a w trybie devel
+        if (($exists>0) && (! $__devel)) {
+            $this->upgrade_status=1;
+            print  "<font color=\"red\">$lang->upgrade_already_installed</font>\n";
+            return false;
+        } elseif (($__devel) && ($exists>0)) {
+            // je¶li pakiet ju¿ by³ zainstalowany i panel dzia³a w trybie "devel" to zezwalaj na jego ponown± instalacjê
+            return true;
+        }
+
+        // odczytaj ostatnio zainstalowany pakiet
+        
+        // 
+        // $max_current_version=$mdbd->select("version","upgrade","1",array(),"ORDER BY version DESC LIMIT 1");        
+        $max_current_version=$mdbd->select("version","upgrade","1",array(),"ORDER BY id DESC LIMIT 1");
+
+        if (empty($max_current_version)) $max_current_version=$config->pkg_first_number-1;
+        if ($this->_version!=$max_current_version+1) {
+            // sprawd¼ sytuacjê: czy czasem nie ma ¿adnych wpisów w bazie, je¶li tak jest
+            // to sprawd¼ w config'u jaki pakiet powinien byæ instalowany jako pierwszy
+            // @todo
+            $any=$mdbd->select("id","upgrade",1,array(),"LIMIT 1");
+            if (! $any) {
+                // nie ma ¿adnych rekordów w upgrade
+                if ($this->_version==$config->pkg_first_number) {
+                    return true;
+                } else {
+                    $this->upgrade_status=1;
+                    print  "<font color=\"red\">$lang->upgrade_wrong_pkg_number</font>\n";
+                    return false;
+                }
+            }
+
+            $this->upgrade_status=1;
+            print  "<font color=\"red\">$lang->upgrade_wrong_pkg_number</font>\n";
+            return false;
+        }
+        // sprawd¼ czy instalowany pakiet mo¿e byæ instalowany tj. jest o 1 wiêkszy od max_current_version
+
+        if ($this->_version==-1) {
+            print ("<font color=\"red\">$lang->upgrade_wrong_format</font>\n");
+            return false;
+        }
+        return true;
+    } // end checkVersion()
+
+    // }}}
+
+    /**
+    * Sprawd¼ czy mo¿na zaktualizowaæ plik
+    * Weryfikacja czy plik nie zosta³ zmieniony przez klienta i czy wersja pliku w sklepie nie jest
+    * nowsza od wersji instalowanej. Dodatkowo system sprawdza, czy plik na dysku nie jest zgodny z plikiem
+    * w upgrade. Je¶li tak to mimo róznych sum kontrolnych zwraca wynik pozytywny.
+    *
+    * @param string $file plik
+    *
+    * @access private
+    * @return int     0 - mo¿na aktualizowaæ plik,
+    *                 1 - plik zmieniony przez usera,
+    *                 2 - nowsza wersja pliku
+    *                 3 - wykryta indywidualna modyfikacja,
+    *                 4 - plik zaktualizowany w poprzedniej aktualizacji (wykryto wczesniej indywidualna modyfikacje /3/)
+    */
+    function _upgradeTestFile($file) {
+        global $DOCUMENT_ROOT;
+        global $shop;
+
+        if ($shop->home!=1) {
+            $_file_root_path="$DOCUMENT_ROOT/../../$file";
+        } else {
+            $_file_root_path=preg_replace("/^soteesklep3/","",$file);
+        }
+
+        if (! file_exists($_file_root_path)) {
+            return (0);
+        }
+        $_file_base_path=ereg_replace("soteesklep3",".",$file);  // ¶cie¿ka typu ./admin/go/_edit.index.php
+
+        // plik z systemu plikow
+        $cvs =& new CVS($_file_root_path,CVS_FILE);
+        $file_version_cvs=$cvs->getVersion();                    // numer wersji CVS np. 2.9
+        $file_version=$cvs->idCVS2Int($file_version_cvs);        // numer wersji CVS INT np. 29
+
+        // odczytaj sume kontrolna z systemu plikow
+        $fc =& new FileChecksum($_file_root_path,FILE_CHECKSUM_FILE);
+        $file_checksum=$fc->getChecksum();
+        if ($fd=@fopen($_file_root_path,"r")) {
+            $_file_source=fread($fd,filesize($_file_root_path));
+            $file_source_from_path=trim($_file_source);
+        } else $file_source_from_path='';
+
+        // plik z upgrade
+        $file_source_from_upgrade=trim($this->getFile($file));
+        $cvs =& new CVS($file_source_from_upgrade,CVS_SOURCE);
+        $file_version_upgr_cvs = $cvs->getVersion();
+        $file_version_upgr = $cvs->idCVS2Int($file_version_upgr_cvs);
+
+        $file_checksum_dat=$fc->getChecksumFromDAT($_file_base_path);
+
+        // @since 3.1beta1.5
+        // testujemy plik z pakietu aktualizacyjnego (nie plik le¿±cy na dysku)
+        if (ereg("\\\@"."x",$file_source_from_upgrade)) {
+            return (-1); // modyfikacja, któr± mo¿na nadpisaæ patchem bez komunikatu o sumie kontrolnej, suma w mod.md5
+        }
+
+        // sprawd¼ czy plik w pakiecie upgrade jest taki sam jak plik na dysku, je¶li tak to zezwalaj na aktualizacjê
+        if ($file_source_from_path==$file_source_from_upgrade) {
+            return (0);
+        }
+
+        // zapamiêtaj  w przestrzeni globalnej obiektu warto¶ci plików, z którymi wyst±pi³ problem
+        $this->_files=array();
+        $this->_files['path']=urlencode($file_source_from_path);
+        $this->_files['upgrade']=urlencode($file_source_from_upgrade);
+
+
+        if (empty($file_checksum_dat)) {
+            return (0);               // brak sumy w pliku bazy sum
+        }
+        if ($file_checksum_dat!=$file_checksum) {
+            // sprawdzamy czy klient nie zaktualizowal wczesniej zmodyfikowanego pliku
+            // tj. czy jest odpowiedni wpis w mod.md5 i czy suma kontrolna tam zawarta
+            // jest zgodna z sum± kontroln± pliku na dysku
+            // (jest tak return (4) else return (1))
+            if ($this->_testModFile($_file_base_path,$file_checksum)) return (4);
+            else return (1);  // wykryto modyfikacjê pliku
+        } else {
+            // suma kontrolna siê zgadza
+            return (0);
+        }
+        if ($file_version>$file_version_upgr) return (2);        // ma dysku jest nowsza wersja pliku
+
+        // @since 3.1beta1.5
+        // testujemy plik z dysku (np. po instalacji indywidualnej modyfikacji)
+        if (ereg("\\\@"."x",$file_source_from_path)) {
+            return (3); // zainstalowano indywidualna modyfikacjê wykonan± przez SOTE
+        }
+
+        return (0);
+    } // end _upgradeTestFile()
+
+    /**
+    * Sprawd¼ czy wskazany plik by³ wcze¶niej zmodyfikowany i zmiany zosta³y zatwierdzone przez admina/developera
+    *
+    * @param string $file          ¶cie¿ka do pliku np. ./admin/go/_order/html/edit.html.php
+    * @param string $file_checksum suma kontrolna aktualnego pliku na dysku
+    * @access private
+    * @return bool true - plik zosta³ wcze¶niej zmodyfikowany i zatwierdzony, false w p.w.
+    */
+    function _testModFile($file,$file_checksum) {
+        global $DOCUMENT_ROOT;
+
+        $file_md5="$DOCUMENT_ROOT/../mod.md5";
+        if (file_exists($file_md5)) {
+            $fd=fopen($file_md5,"r");
+            $data=fread($fd,filesize($file_md5));
+            fclose($fd);
+
+            $lines=split("\n",$data);
+            foreach ($lines as $line) {
+                $tab=split("  ",$line,2);
+                if (! empty($tab[1])) {
+                    if ((trim($tab[1])==$file) && (trim($tab[0])==$file_checksum)) return true;
+                }
+            }
+
+        } else $data='';
+
+        return false;
+    } // end _testModFile()
+
+    /**
+    * Aktualizuj wskazany plik
+    *
+    * @param string $file        plik wzglêdem $DOCUMENT_ROOT/../ np. soteesklep3/htdocs/index.php
+    * @param string $file_source zawarto¶æ pliku, jesli warto¶c nie jest domy¶lnie pobierana z pakietu upgrade
+    * @param int    $type        UPGRADE_FILE_SUM - zapisz dane w sum.md5, UPGRADE_FILE_MOD - nie zpisuj w sum.md5
+    * @param int    $mode        0 - defult, UPGRADE_SAVE_MOD - zapisz zawarto¶c pliku w bazie, nie instaluj go
+    *
+    * @access public
+    * @return bool true upgrade OK, false w p.w.
+    */
+    function upgradeFile($file,$file_source='',$type=UPGRADE_FILE_SUM,$mode=0) {
+        global $ftp,$DOCUMENT_ROOT,$config;
+        global $shop;
+
+        if ($this->_version<0) {
+            global $_REQUEST;
+            if (! empty($_REQUEST['file']['patch_version'])) {
+                $this->_version=intval($_REQUEST['file']['patch_version']);
+                if (! $this->_version>0) {
+                    die ("Error: Wrong version number");
+                }
+            }
+        }
+
+        $db_data=array();
+        $db_data['file']=ereg_replace("soteesklep3",".",$file);
+        $db_data['date_add']=date("Y-m-d");
+        $db_data['version_name']=$this->_version;
+        $db_data['upgrade_file']=basename($this->upgradeFile);
+
+        if (empty($file_source)) {
+            $file_source=$this->getFile($file);             // pobierz zawarto¶æ wskazanego pliku z pakietu upgrade
+            $this->_source=$file_source;
+        }
+
+        $file_name=basename($file);                         // odczytaj nazwê pliku
+        $file_name_copy=$this->_version."-".$file_name;     // nazwa kopii pliku
+        $file_dir=dirname($file);                           // katalog wzglêdem $DOCUMENT_ROOT/../ np. soteesklep3/htdocs
+
+        if (@$shop->home!=1) {
+            $file_current=$DOCUMENT_ROOT."/../../$file_dir/$file_name";
+        } else {
+            // home.pl
+            // rozró¿nij katalogi soteesklep3/admin/include i soteesklep3/include
+            // na home.pl /include wskazuje na soteesklep3/admin.include a nie na g³ówny katalog
+            // odwo³ania do g³ównego katalogu, przekieruj na soteesklep3/admin/htdocs/base/include
+            foreach ($this->_base_dirs as $dir) {
+                if (ereg("^soteesklep3/".$dir,$file_dir)) {
+                    $file_dir=preg_replace("/^soteesklep3\/".$dir."/",'soteesklep3/admin/htdocs/base/'.$dir,$file_dir);
+                }
+            }
+            $file_current=preg_replace("/^\/soteesklep3/","","/$file_dir/$file_name");
+            $file_current=preg_replace("/^\/admin/","",$file_current);
+        }
+
+        $file_new="$DOCUMENT_ROOT/tmp/upgrade_$file_name";
+        if (@$shop->home!=1) {
+            $file_copy=$DOCUMENT_ROOT."/../../$file_dir/$file_name_copy";
+        } else {
+            // home.pl
+            $file_copy=preg_replace("/^\/soteesklep3/","","/$file_dir/$file_name_copy");
+            $file_copy=preg_replace("/^\/admin/","",$file_copy);
+        }
+        $this->_file_copy=$file_copy;
+
+        // dla trybu UPGRADE_SAVE_MOD nie instaluj pliku tylko zapamietaj go w bazie
+        if (! $mode) {
+            // zapisz zrodla do tymczasowego pliku
+            if ($fd=fopen($file_new,"w+")) {
+                fwrite($fd,$file_source,strlen($file_source));
+                fclose($fd);
+                if ((file_exists($file_current)) && (! file_exists($file_copy))) {
+                    // zrob kopie starej wersji pliku
+                    $ftp->put($file_current,$config->ftp['ftp_dir']."/../$file_dir",$file_name_copy);
+                }
+                // aktualizuj katalogi, za³ó¿ odpowiednie katalogi, je¶li nie ma ich w obecnym drzewie programu
+                $this->_mkDir($file_dir);
+                // aktualizuj plik
+                $ftp->put($file_new,$config->ftp['ftp_dir']."/../$file_dir",$file_name);
+                unlink($file_new);
+
+                if ($type==UPGRADE_FILE_SUM) {
+                    // oblicz sumê kontroln± zainstalowanego pliku  i zapamiêtaj j± w bazie sum kontrolnych
+                    $file_dir2=preg_replace("/^soteesklep3/","",$file_dir);
+                    $file_fc=".".$file_dir2."/$file_name";                  // np. ./admin/index.php
+                    $file_fc_path=$DOCUMENT_ROOT."/..".$file_dir2."/$file_name";  // np. /home/sklep/soteesklep3/admin/index.php
+                    $fc =& new FileChecksum($file_fc_path,FILE_CHECKSUM_FILE);
+                    $file_checksum=$fc->getChecksum();
+                    $fc->set($file_fc,$file_checksum);
+                }
+            } else return false;
+        } else {
+            // @todo dodac zapapietanie w bazie danych zawartosci pliku dla danej sesji.
+            // ...
+        }
+
+        return true;
+    } // end upgradeFile()
+
+    /**
+    * Odczytaj pe³n± scie¿kê (z katalogiem sklepu) do kopii pliku (np. soteesklep3/htdocs/8-index.php)
+    *
+    * \@global string $this->_file_copy np. /usr/home/maroslaw/MYCVS2/soteesklep2/admin/../../soteesklep3/htdocs/8-index.php
+    * @return string np. soteesklep3/htdocs/8-index.php
+    */
+    function getLastFileCopyName() {
+        if (! empty($this->_file_copy)) {
+            preg_match("/soteesklep[0-9]{1}(.*)$/",$this->_file_copy,$matches);
+            if (! empty($matches[1])) {
+                return ereg_replace('/admin/../../','',$matches[1]);
+            }
+        }
+        return '';
+    } // end getlastFileCopyName()
+
+    /**
+    * Za³ó¿ wskazany katalog, jesli nie ma go w systemie plików
+    *
+    * @param string $dir ¶cie¿ka do katalogu wzglêdem soteesklep3
+    * @return bool
+    */
+    function _mkDir($dir) {
+        global $DOCUMENT_ROOT,$ftp,$config;
+
+
+        $dir=preg_replace("/^soteesklep[0-9]\//","",$dir);
+
+        if (! is_dir("$DOCUMENT_ROOT/../".$dir)) {
+            $this->_mkRecSubDir($dir);
+            $ftp->mkdir($config->ftp['ftp_dir']."/".$dir);
+        }
+        return true;
+    } // end _mkDir()
+
+    /**
+    * Za³ó¿ rekurencyjnie wskazany katalog (poza ostatnim)
+    * Funkcja rekurencyjna.
+    *
+    * @param string $dir katalog wzglêdem g³ównego katalogu soteesklep3
+    *
+    * @access private
+    * @return bool true - katalog za³ozony, false - w p.w.
+    */
+    function _mkRecSubDir($dir) {
+        global $ftp,$config,$DOCUMENT_ROOT;
+
+        // obetnij ostatni katalog i sprawd¼, czy poziom wy¿ej mo¿ña za³o¿yæ podkatalog
+        $last_dir=basename($dir);
+
+        $dir2=$dir;
+
+        $dir=substr($dir,0,strlen($dir)-strlen($last_dir)-1);
+        $test_dir="$DOCUMENT_ROOT/../$dir";
+
+        if (is_dir($test_dir)) {
+            $ftp->mkdir($config->ftp['ftp_dir']."/".$dir2);
+            return true;
+        } else {
+            if ($this->_mkdirCount<MKDIR_MAX_COUNT) {
+                $this->_mkdirCount++;
+                $this->_mkRecSubDir($dir);
+                return;
+            }
+        }
+    } // end _mkRecSubDir()
+
+    /**
+    * Odczytaj numer upgrade'u
+    * @return int numer wersji aktualizacji
+    */
+    function getVersion() {
+        return $this->_version;
+    } // end getVersion();
+
+    // {{{ saveModFile()
+
+    /**
+    * Zapisz w bazie danych zawarto¶æ po³±czonego pliku.
+    *
+    * @param string $file_name     ¶cie¿ka do pliku wzglêdem soteesklepX + nazwa pliku
+    * @param string $new_file      zawarto¶c pliku, warto¶æ zapisywana w bazie
+    * @param int    $patch_version numer wersji pakietu aktualizacyjnego
+    *
+    * @return bool
+    */
+    function saveModFile($file_name,$new_file,$patch_version) {
+        global $sess,$db;
+        global $mdbd;
+
+        // sprawd¼ czy wpis ju¼ istnieje
+        $query="SELECT id FROM upgrade_files WHERE path=? AND source=? AND session_id=? AND pkg_number=?";
+        $prepared_query=$db->prepareQuery($query);
+        if ($prepared_query) {
+            $db->QuerySetText($prepared_query,1,$file_name);
+            $db->QuerySetText($prepared_query,2,$new_file);
+            $db->QuerySetText($prepared_query,3,$sess->id);
+            $db->QuerySetInteger($prepared_query,4,$patch_version);
+            $result=$db->executeQuery($prepared_query);
+            if ($result!=0) {
+                $num_rows=$db->numberOfRows($result);
+                if ($num_rows>0) {
+                    return true;
+                }
+            } else die ($db->error());
+        } else die ($db->error());
+
+        $query2="INSERT INTO upgrade_files (path,source,session_id,pkg_number) VALUES (?,?,?,?)";
+        $prepared_query2=$db->prepareQuery($query2);
+        if ($prepared_query2) {
+            $db->QuerySetText($prepared_query2,1,$file_name);
+            $db->QuerySetText($prepared_query2,2,$new_file);
+            $db->QuerySetText($prepared_query2,3,$sess->id);
+            $db->QuerySetInteger($prepared_query2,4,$patch_version);
+            $result2=$db->executeQuery($prepared_query2);
+            if ($result2!=0) {
+                return true;
+            }
+        } else die ($db->error());
+
+        return false;
+    } // end saveModFile()
+
+    // }}}
+
+    // {{{ showReportUpgradeDB
+
+    /**
+    * Poka¿ raport o plikach zainstalowanych w buforze dla danej sesji
+    * Funckja dla debugowania.
+    *
+    * @return void
+    */
+    function showReportUpgradeDB() {
+        global $sess,$mdbd;
+        $data=$mdbd->select("id,path,pkg_number","upgrade_files","session_id=?",array($sess->id=>"text"));
+        print "pliki w buforze:<br />\n";
+        print "<pre>";print_r($data);print "</pre>";
+        return;
+    } // end showReportUpgradeDB()
+
+    // }}}
+
+    // {{ getFileFromDB()
+
+    /**
+    * Sprawd¼ czy plik jest w buforze, je¶li jest to odczytaj jego zawarto¶æ
+    *
+    * @param string $file 
+    * @return string zawarto¶c pliku w buforze lub ci±g pusty (void)
+    */
+    function getFileFromDB($file) {
+        global $mdbd,$sess;
+        $source=$mdbd->select("source","upgrade_files","session_id=? AND path=?",array($sess->id=>"text",$file=>"text"),"LIMIT 1");
+        if (! empty($source)) return $source;
+        return;
+    } // end getFileFromDB()
+
+    // }}}
+
+
+} // end class DiffUpgrade
+
+?>
diff -ruN ../soteesklep3/admin/include/allegro.inc.php soteesklep3/admin/include/allegro.inc.php
--- ../soteesklep3/admin/include/allegro.inc.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/admin/include/allegro.inc.php	2006-07-11 14:14:05.000000000 +0200
@@ -0,0 +1,607 @@
+<?php
+/**
+ * Klasa do komunkacji z Allegro.
+ * Podstawowe funkcje
+ *
+ */
+include_once("config/auto_config/allegro_config.inc.php");
+include_once("NuSOAP/nusoap.php");
+include_once("include/metabase.inc");
+include_once('lib/ConvertCharset/ConvertCharset.class.php');
+
+class Allegro {
+
+    var $_debug=0;              // czy tryb debugowania
+
+    /**
+	 * Enter description here...
+	 *
+	 * @return Allegro
+	 */
+    function Allegro() {
+
+    } // end func Allegro
+
+    /**
+	 * Pobranie drzewa kategorii z Allegro.pl
+	 *
+	 */
+    function getCategory()
+    {
+        global $_SESSION;
+        global $allegro_config;
+        global $lang;
+        global $database;
+        // ustawienie parametów wywo³ania SOAP
+
+        // jesli allegro jest w trybie produkcyjnym to
+        if($allegro_config->allegro_mode == 'true') {
+            $parameters = array(
+            $allegro_config->allegro_country_code,          // kod kraju
+            $allegro_config->allegro_version,               // numer wersji WEBAPI
+            $allegro_config->allegro_web_api_key,           // klucz WEBAPI allegro
+            );
+        } else {
+            $parameters = array(
+            $allegro_config->allegro_country_code_test,     // kod kraju
+            $allegro_config->allegro_version_test,          // numer wersji WEBAPI
+            $allegro_config->allegro_web_api_key,           // klucz WEBAPI allegro
+            );
+        }
+        // stworzenie obiektu SOAP
+        $client = new soapclient($allegro_config->allegro_server,true);
+        $client->decode_utf8=false;
+        // pobranie b³êdów je¶li trakie by³y
+        $errors = $client->getError();
+        if ($errors) {
+            // Wyswietlenie bledow wywoalania - niepowodzenie
+            echo '<h2>Blad </h2><pre>' . $errors . '</pre>';
+        }
+        // wywo³anie metody
+        $response = $client->call('doGetCatsData',$parameters);
+        if(!empty($response['faultcode'])) {
+            $convertChar = new ConvertCharset();
+            $afterChange = $convertChar->Convert($response['faultstring'],'utf-8','iso-8859-2');
+         	print $afterChange;
+        } else {
+            if($this->_debug) {
+                print "<pre>";
+                print_r($response);
+                print "</pre>";
+            }
+            $this->saveCategory($response);
+            // sprawdzamy czy do bazy zostaly zapisane kategorie
+            $count=$database->sql_select("count(*)","allegro_cat");
+            if($count) {
+                if($allegro_config->allegro_mode == 'true') {
+                    if($response['ver-key']=$allegro_config->allegro_version) {
+                        print "<center>".$lang->get_category_ok."<center>";
+                    }
+                } else {
+                    if($response['ver-key']=$allegro_config->allegro_version_test) {
+                        print "<center>".$lang->get_category_ok."<center>";
+                    }
+                }
+            } else {
+                print $lang->allegro_error_auction['category'];
+            }
+        }
+    } // end func getCategory
+
+    /**
+     * Enter description here...
+     *
+     */
+    function getOther()
+    {
+        global $_SESSION;
+        global $allegro_config;
+        global $lang;
+        // ustawienie parametów wywo³ania SOAP
+
+        // jesli allegro jest w trybie produkcyjnym to
+        if($allegro_config->allegro_mode == 'true') {
+            $parameters = array(
+            $allegro_config->allegro_country_code,      // kod kraju
+            $allegro_config->allegro_version,            // numer wersji WEBAPI
+            $allegro_config->allegro_web_api_key,       // klucz WEBAPI allegro
+            );
+        } else {
+            $parameters = array(
+            $allegro_config->allegro_country_code_test,      // kod kraju
+            $allegro_config->allegro_version_test,            // numer wersji WEBAPI
+            $allegro_config->allegro_web_api_key,       // klucz WEBAPI allegro
+            );
+        }
+        // stworzenie obiektu SOAP
+        $client = new soapclient($allegro_config->allegro_server, true);
+        $client->decode_utf8=false;
+        // pobranie b³êdów je¶li trakie by³y
+        $errors = $client->getError();
+        if ($errors) {
+            // Wyswietlenie bledow wywoalania - niepowodzenie
+            echo '<h2>Blad </h2><pre>' . $errors . '</pre>';
+        }
+        // wywo³anie metody
+        $response = $client->call('doGetSellFormFields',$parameters);
+        if(!empty($response['faultcode'])) {
+            // jest jakis b³±d
+            $convertChar = new ConvertCharset();
+            print $convertChar->Convert($response['faultstring'],'utf-8','iso-8859-2');
+        } else {
+            if($this->_debug) {
+                print "<pre>";
+                print_r($response);
+                print "</pre>";
+            }
+            $this->prepareOther($response['sell-form-fields']);
+            if($allegro_config->allegro_mode == 'true') {
+                if($response['ver-key']=$allegro_config->allegro_version) {
+                    print "<center>".$lang->get_other_ok."<center>";
+                }
+            } else {
+                if($response['ver-key']=$allegro_config->allegro_version_test) {
+                    print "<center>".$lang->get_other_ok."<center>";
+                }
+            }
+        }
+    } // end func getOther
+
+    /**
+     * Funkcja parsuje dane z prametrow allegro i zwraca tablice asocjacyjna
+     *
+     * @param array  data  dane z allegro
+     * @param string index index tablicy 
+     *
+     * @return array $tab
+     */
+    function prepareArray(& $data, $index)
+    {
+        $tab=array();
+        $sell_form_desc=preg_split("/\|/",$data[$index]['sell-form-desc'],-1,PREG_SPLIT_NO_EMPTY);
+        $sell_form_opts_values=preg_split("/\|/",$data[$index]['sell-form-opts-values'],-1,PREG_SPLIT_NO_EMPTY);
+        foreach($sell_form_desc as $key=>$value) {
+            $tab= $tab+array($sell_form_opts_values[$key]=>$this->utf8_to_8859($value));
+        }
+        return $tab;
+    } // end func prepareArray
+
+    /**
+     * Pobranie innych danych z allegro
+     *
+     * @param array  data  dane z allegro
+     *
+     * @return boolean true/false
+     */
+    function prepareOther(& $data)
+    {
+        //pobierz czas trwania aukcji
+        $this->allegro_time=array();
+        if($data[3]['sell-form-id'] == 4) {
+            $this->allegro_time = $this->prepareArray(& $data, 3);
+        }
+        // pobierz województwa
+        if($data[9]['sell-form-id'] == 10) {
+            $this->allegro_states = $this->prepareArray(& $data, 9);
+        }
+        // transport
+        if($data[11]['sell-form-id'] == 12) {
+            $this->allegro_trans = $this->prepareArray(& $data, 11);
+        }
+        return true;
+    } // end func prepareOther
+
+    /**
+	 * Zapisanie katergorii do bazy danych
+	 *
+     * @param array category
+     *
+     * @return boolean true/false
+	 */
+    function saveCategory(& $category)
+    {
+        global $database;
+        // skasuj zawartosc tablicy
+        $database->sql_delete("allegro_cat");
+        // przejdz po tablicy i zapisz kategrii do bazy danych
+        foreach($category['cats-list'] as $key=>$value) {
+            $database->sql_insert("allegro_cat",array(
+            "id"=>"",
+            "cat_id"=>$value['cat-id'],
+            "cat_name"=>$this->utf8_to_8859($value['cat-name']),
+            "cat_parent"=>$value['cat-parent'],
+            "cat_position"=>$value['cat-position'],
+            ));
+        }
+        return true;
+    } // end func saveCategory
+
+    /**
+     * Logowanie do systemu allegro.pl. Po zalogowaniu otrzymujemy numer sesji
+     *
+     * @return boolean true/false
+     */
+    function Login()
+    {
+        global $allegro_config;
+        global $allegro;
+        global $sess;
+        // ustawienie parametów wywo³ania SOAP
+
+        // jesli allegro jest w trybie produkcyjnym to
+        if($allegro_config->allegro_mode == 'true') {
+            $parameters = array(
+            $allegro_config->allegro_login,             // login w allegro
+            $allegro_config->allegro_password,          // has³o w allegro
+            $allegro_config->allegro_country_code,      // kod kraju
+            $allegro_config->allegro_web_api_key,       // klucz WEBAPI allegro
+            $allegro_config->allegro_version            // numer wersji WEBAPI
+            );
+        } else {
+            // tryb testowy
+            $parameters = array(
+            $allegro_config->allegro_login_test,             // login w allegro
+            $allegro_config->allegro_password_test,          // has³o w allegro
+            $allegro_config->allegro_country_code_test,      // kod kraju
+            $allegro_config->allegro_web_api_key,       // klucz WEBAPI allegro
+            $allegro_config->allegro_version_test            // numer wersji WEBAPI
+            );
+        }
+        // stworzenie obiektu SOPA
+        $client = new soapclient($allegro_config->allegro_server, true);
+        // pobranie b³êdów je¶li trakie by³y
+        $errors = $client->getError();
+        if ($errors) {
+            // Wyswietlenie bledow wywoalania - niepowodzenie
+            echo '<h2>Blad </h2><pre>' . $errors . '</pre>';
+        }
+        // wywo³anie metody
+        $response = $client->call('doLogin',$parameters);
+
+        // sprawdz
+        if(!empty($response['session-handle-part'])) {
+            $allegro=$response;
+            $sess->register("allegro",$allegro);
+            return true;
+        } else {
+            print "<font color=red>";
+           	print "<b>Problem z zalogowaniem siê do systemu Allegro. Upewnij siê, ¿e masz za³o¿one konto w systmie Allegro.</b>";
+            print "</font>";
+        	return false;
+        }
+    } // end func Login
+
+    /**
+     * Wylogowanie z allegro ( skasowanie z sesji sklepu danych zwiazanych z allegro )
+     *
+     * @return boolean true/false
+     */
+    function Logout()
+    {
+        global $sess;
+        $sess->unregister("allegro");
+        return true;
+    } // end func Logout
+
+    /**
+     * Funkcja konwertujaca string z standardu utf-8 na iso-8859-2
+     *
+     * @param  string $string  ciag znakow,
+     *
+     * @return string $string  ciag znakow po konwersji
+     */
+    function & utf8_to_8859(&$string) {
+        $decode=array(
+        "\xC4\x84"=>"\xA1",
+        "\xC4\x85"=>"\xB1",
+        "\xC4\x86"=>"\xC6",
+        "\xC4\x87"=>"\xE6",
+        "\xC4\x98"=>"\xCA",
+        "\xC4\x99"=>"\xEA",
+        "\xC5\x81"=>"\xA3",
+        "\xC5\x82"=>"\xB3",
+        "\xC5\x83"=>"\xD1",
+        "\xC5\x84"=>"\xF1",
+        "\xC3\x93"=>"\xD3",
+        "\xC3\xB3"=>"\xF3",
+        "\xC5\x9A"=>"\xA6",
+        "\xC5\x9B"=>"\xB6",
+        "\xC5\xB9"=>"\xAC",
+        "\xC5\xBA"=>"\xBC",
+        "\xC5\xBB"=>"\xAF",
+        "\xC5\xBC"=>"\xBF"
+        );
+
+        $string = strtr("$string",$decode);
+        return $string;
+    } // end func utf8_to_8859
+
+    /**
+     * Funkcja konwertujaca string z standardu iso-8859-2 na utf-8
+     *
+     * @param  string $string  ciag znakow,
+     *
+     * @return string $string  ciag znakow po konwersji
+     */
+    function & iso8859_to_utf8(&$string) {
+        $decode=array(
+        "\xA1" => "\xC4\x84",
+        "\xB1" => "\xC4\x85",
+        "\xC6" => "\xC4\x86",
+        "\xE6" => "\xC4\x87",
+        "\xCA" => "\xC4\x98",
+        "\xEA" => "\xC4\x99",
+        "\xA3" => "\xC5\x81",
+        "\xB3" => "\xC5\x82",
+        "\xD1" => "\xC5\x83",
+        "\xF1" => "\xC5\x84",
+        "\xD3" => "\xC3\x93",
+        "\xF3" => "\xC3\xB3",
+        "\xA6" => "\xC5\x9A",
+        "\xB6" => "\xC5\x9B",
+        "\xAC" => "\xC5\xB9",
+        "\xBC" => "\xC5\xBA",
+        "\xAF" => "\xC5\xBB",
+        "\xBF" => "\xC5\xBC",
+        );
+        $string = strtr("$string",$decode);
+        return $string;
+    } // end func encoding_iso8859_2_to_utf8
+
+    /**
+     * Funkcja preparuje liste podkategorii dla kategorii g³ównej
+     *
+     * @param unknown $cat
+     */
+    function & prepareSubCat($cat,$default='')
+    {
+        global $database;
+        $str='';
+        $data1=$database->sql_select_data_array("cat_id","cat_name","allegro_cat","cat_parent=$cat");
+        foreach($data1 as $key1=>$value1) {
+            $count1=$database->sql_select("count(*)","allegro_cat","cat_parent=".$key1);
+            if($count1) {
+                $data2=$database->sql_select_data_array("cat_id","cat_name","allegro_cat","cat_parent=$key1");
+                foreach($data2 as $key2=>$value2) {
+                    $count2=$database->sql_select("count(*)","allegro_cat","cat_parent=".$key2);
+                    if($count2) {
+                        $data3=$database->sql_select_data_array("cat_id","cat_name","allegro_cat","cat_parent=$key2");
+                        foreach($data3 as $key3=>$value3) {
+                            $count3=$database->sql_select("count(*)","allegro_cat","cat_parent=".$key3);
+                            if($count3) {
+                                $data4=$database->sql_select_data_array("cat_id","cat_name","allegro_cat","cat_parent=$key3");
+                                foreach($data4 as $key4=>$value4) {
+                                    $count4=$database->sql_select("count(*)","allegro_cat","cat_parent=".$key4);
+                                    if($count4) {
+                                        $data5=$database->sql_select_data_array("cat_id","cat_name","allegro_cat","cat_parent=$key4");
+                                        foreach($data5 as $key5=>$value5) {
+                                            $count5=$database->sql_select("count(*)","allegro_cat","cat_parent=".$key5);
+                                            if($count5) {
+                                            } else {
+                                                if($default == $key5) $checked=" selected"; else $checked="";
+                                                $str.="<option  value=\"".$key5."\"".@$checked.">".$value1." >> ".$value2." >> ".$value3." >> ".$value4." >> ".$value5."</option>\n";
+                                            }
+                                        }
+                                    } else {
+                                        if($default == $key4) $checked=" selected"; else $checked="";
+                                        $str.="<option  value=\"".$key4."\"".@$checked.">".$value1." >> ".$value2." >> ".$value3." >> ".$value4."</option>\n";
+                                    }
+                                }
+                            } else {
+                                if($default == $key3) $checked=" selected"; else $checked="";
+                                $str.="<option  value=\"".@$key3."\"".@$checked.">".@$value1." >> ".@$value2." >> ".@$value3."</option>\n";
+                            }
+                        }
+                    } else {
+                        if($default == $key2) $checked=" selected"; else $checked="";
+                        $str.="<option  value=\"".@$key2."\"".@$checked.">".@$value1." >> ".@$value2."</option>\n";
+                    }
+                }
+            } else {
+                if($default == $key1) $checked=" selected"; else $checked="";
+                $str.="<option  value=\"".$key1."\"".@$checked.">".$value1."</option>\n";
+            }
+        }
+        return $str;
+    } // end func prepareSubCat
+
+    /**
+     * Funkcja buduje liste kategorii 
+     *
+     * @return string $str lista rozwiajana z aktywnymi kategoriami
+     */
+    function buildTree($default='')
+    {
+        global $allegro_config;
+        $str='<select class=form name="item[allegro_category]" size="1"><option value="default">----wybierz----</option>'."\n";
+        foreach($allegro_config->allegro_category as $key=>$value) {
+            $str.=$this->prepareSubCat($value,$default);
+        }
+        $str.="</select>\n";
+        return $str;
+    } // end func buildTree
+
+    /**
+     * Preparujemy aukcje dla okreslonego user_id
+     *
+     * @param string user_id
+     *
+     * @return array $param  tablica zawierajace wszytkie potrzebne paramtry do wystawienia aukcji
+     */
+    function & prepareAuction($user_id)
+    {
+        global $database;
+        global $allegro_config;
+        $data=$database->sql_select_multi_array4("*","allegro_auctions","user_id=".$user_id);
+
+        $param=array();
+        // tytul aukcji
+        $param[0]=array('fid'=>1,
+        'fvalue-string'=>$this->iso8859_to_utf8($data[0]['allegro_product_name']),
+        'fvalue-int'=>'','fvalue-float'=>'','fvalue-image'=>'','fvalue-text'=>'','fvalue-datetime'=>'','fvalue-boolean'=>'');
+
+        $param[1]=array('fid'=>2,'fvalue-string'=>'',
+        'fvalue-int'=>$data[0]['allegro_category'],
+        'fvalue-float'=>'','fvalue-image'=>'','fvalue-text'=>'','fvalue-datetime'=>'','fvalue-boolean'=>'');
+
+        $param[2]=array('fid'=>3,'fvalue-string'=>'','fvalue-int'=>'','fvalue-float'=>'','fvalue-image'=>'','fvalue-text'=>'',
+        'fvalue-datetime'=>time(),
+        'fvalue-boolean'=>'');
+
+        $param[3]=array('fid'=>4,'fvalue-string'=>'',
+        'fvalue-int'=>$data[0]['allegro_how_long'],
+        'fvalue-float'=>'','fvalue-image'=>'','fvalue-text'=>'','fvalue-datetime'=>'','fvalue-boolean'=>'');
+
+        $param[4]=array('fid'=>5,'fvalue-string'=>'',
+        'fvalue-int'=>$data[0]['allegro_stock'],
+        'fvalue-float'=>'','fvalue-image'=>'','fvalue-text'=>'','fvalue-datetime'=>'','fvalue-boolean'=>'');
+
+        $param[5]=array('fid'=>6,'fvalue-string'=>'','fvalue-int'=>'',
+        'fvalue-float'=>$data[0]['allegro_price_start'],
+        'fvalue-image'=>'','fvalue-text'=>'','fvalue-datetime'=>'','fvalue-boolean'=>'');
+
+        $param[6]=array('fid'=>7,'fvalue-string'=>'','fvalue-int'=>'',
+        'fvalue-float'=>$data[0]['allegro_price_min'],
+        'fvalue-image'=>'','fvalue-text'=>'','fvalue-datetime'=>'','fvalue-boolean'=>'');
+
+        $param[7]=array('fid'=>8,'fvalue-string'=>'','fvalue-int'=>'',
+        'fvalue-float'=>$data[0]['allegro_price_buy_now'],
+        'fvalue-image'=>'','fvalue-text'=>'','fvalue-datetime'=>'','fvalue-boolean'=>'');
+
+        if($allegro_config->allegro_mode == 'true') {
+            $param[8]=array('fid'=>9, 'fvalue-string'=>'',
+            'fvalue-int'=>$allegro_config->allegro_country_code,
+            'fvalue-float'=>'', 'fvalue-image'=>'', 'fvalue-text'=>'','fvalue-datetime'=>'', 'fvalue-boolean'=>'');
+        } else {
+            $param[8]=array('fid'=>9, 'fvalue-string'=>'',
+            'fvalue-int'=>$allegro_config->allegro_country_code_test,
+            'fvalue-float'=>'', 'fvalue-image'=>'', 'fvalue-text'=>'','fvalue-datetime'=>'', 'fvalue-boolean'=>'');
+        }
+
+        $param[9]=array('fid'=>10, 'fvalue-string'=>'',
+        'fvalue-int'=>$allegro_config->allegro_state_select,
+        'fvalue-float'=>'', 'fvalue-image'=>'', 'fvalue-text'=>'','fvalue-datetime'=>'', 'fvalue-boolean'=>'');
+
+        $param[10]=array('fid'=>11,
+        'fvalue-string'=>$this->iso8859_to_utf8($allegro_config->allegro_city),
+        'fvalue-int'=>'','fvalue-float'=>'', 'fvalue-image'=>'', 'fvalue-text'=>'','fvalue-datetime'=>'', 'fvalue-boolean'=>'');
+
+        $param[11]=array('fid'=>12, 'fvalue-string'=>'',
+        'fvalue-int'=>$data[0]['allegro_delivery_who_pay'],
+        'fvalue-float'=>'', 'fvalue-image'=>'', 'fvalue-text'=>'','fvalue-datetime'=>'', 'fvalue-boolean'=>'');
+
+        $param[12]=array('fid'=>13, 'fvalue-string'=>'',
+        'fvalue-int'=>1,
+        'fvalue-float'=>'', 'fvalue-image'=>'', 'fvalue-text'=>'','fvalue-datetime'=>'', 'fvalue-boolean'=>'');
+
+        $param[13]=array('fid'=>14, 'fvalue-string'=>'',
+        'fvalue-int'=>1,
+        'fvalue-float'=>'', 'fvalue-image'=>'', 'fvalue-text'=>'','fvalue-datetime'=>'', 'fvalue-boolean'=>'');
+
+        $param[14]=array('fid'=>15, 'fvalue-string'=>'',
+        'fvalue-int'=>1,
+        'fvalue-float'=>'', 'fvalue-image'=>'', 'fvalue-text'=>'','fvalue-datetime'=>'', 'fvalue-boolean'=>'');
+
+        $param[15]=array('fid'=>16, 'fvalue-string'=>'', 'fvalue-int'=>'','fvalue-float'=>'',
+        'fvalue-image'=>$this->preparePhoto($data[0]['allegro_photo']),
+        'fvalue-text'=>'', 'fvalue-datetime'=>'', 'fvalue-boolean'=>'');
+        $param[16]=array('fid'=>17, 'fvalue-string'=>'', 'fvalue-int'=>'','fvalue-float'=>'', 'fvalue-image'=>'', 'fvalue-text'=>'','fvalue-datetime'=>'', 'fvalue-boolean'=>'');
+        $param[17]=array('fid'=>18, 'fvalue-string'=>'', 'fvalue-int'=>'','fvalue-float'=>'', 'fvalue-image'=>'', 'fvalue-text'=>'','fvalue-datetime'=>'', 'fvalue-boolean'=>'');
+        $param[18]=array('fid'=>19, 'fvalue-string'=>'', 'fvalue-int'=>'','fvalue-float'=>'', 'fvalue-image'=>'', 'fvalue-text'=>'','fvalue-datetime'=>'', 'fvalue-boolean'=>'');
+        $param[19]=array('fid'=>20, 'fvalue-string'=>'', 'fvalue-int'=>'','fvalue-float'=>'', 'fvalue-image'=>'', 'fvalue-text'=>'','fvalue-datetime'=>'', 'fvalue-boolean'=>'');
+        $param[20]=array('fid'=>21, 'fvalue-string'=>'', 'fvalue-int'=>'','fvalue-float'=>'', 'fvalue-image'=>'', 'fvalue-text'=>'','fvalue-datetime'=>'', 'fvalue-boolean'=>'');
+        $param[21]=array('fid'=>22, 'fvalue-string'=>'', 'fvalue-int'=>'','fvalue-float'=>'', 'fvalue-image'=>'', 'fvalue-text'=>'','fvalue-datetime'=>'', 'fvalue-boolean'=>'');
+        $param[22]=array('fid'=>23, 'fvalue-string'=>'', 'fvalue-int'=>'','fvalue-float'=>'', 'fvalue-image'=>'', 'fvalue-text'=>'','fvalue-datetime'=>'', 'fvalue-boolean'=>'');
+
+        $param[23]=array('fid'=>24,
+        'fvalue-string'=>$this->iso8859_to_utf8($data[0]['allegro_product_description']),
+        'fvalue-int'=>'','fvalue-float'=>'', 'fvalue-image'=>'', 'fvalue-text'=>'','fvalue-datetime'=>'', 'fvalue-boolean'=>'');
+        if($this->debug) {
+            print "<pre>";
+            print_r($param);
+            print "</pre>";
+        }    
+        return $param;
+    } // end func prepareAuction
+
+    /**
+     * Wyslij aukcje na allegro
+     *
+     * @return array $tab
+     */
+    function sendAuctions($id)
+    {
+        global $database;
+        global $allegro_config;
+        global $_SESSION;
+        global $lang;
+        $user_id=$database->sql_select_array("user_id","allegro_auctions","user_id=".$id);
+
+        $client = new soapclient($allegro_config->allegro_server, true);
+        $client->decode_utf8=false;
+
+        foreach($user_id as $key=>$value) {
+            $data=$this->prepareAuction($value);
+            $parameters = array(
+            $_SESSION['allegro']['session-handle-part'],    // sesja z allegro
+            $data,                                          // dane w postaci tablicy
+            0,
+            0
+            );
+            // wywo³anie metody
+            $response = $client->call('doNewAuction',$parameters);
+            //echo '<pre>' . htmlspecialchars($client->request, ENT_QUOTES) . '</pre>';
+            if(!empty($response['faultcode'])) {
+                print "<font color=red>";
+                print $lang->allegro_error_auction['problem'].$value."<br>";
+                print $lang->allegro_error_auction['type_error'].$this->utf8_to_8859($response['faultstring'])."<br><br>";
+                print "</font>";
+            } else {
+                if(!empty($response['item-id'])) {
+                    print $lang->set_auction['ok'].$value."<br>";
+                    print $lang->set_auction['number'].$response['item-id']."<br>";
+                    if($allegro_config->allegro_mode == 'true') {
+                        print $lang->set_auction['url']."<a href=\"http://www.allegro.pl/show_item.php?item=".$response['item-id']."\" target=\"window\"><u>http://www.allegro.pl/show_item.php?item=".$response['item-id']."</u></a><br><br>";
+                    } else {
+                        print $lang->set_auction['url']."<a href=\"http://www.testwebapi.pl/show_item.php?item=".$response['item-id']."\" target=\"window\"><u>http://www.testwebapi.pl/show_item.php?item=".$response['item-id']."</u></a><br><br>";
+                    }
+                    $database->sql_update("allegro_auctions","user_id=".$value,array(
+                    "allegro_number"=>$response['item-id'],
+                    ));
+                }
+            }
+        }
+        return true;
+    } // end func sendAuctions
+
+    /**
+     * Zakodowanie pliku fotografii
+     *
+     * @param string $name nazwa fotografii
+     *
+     * @return string $encoded zakodowany obrazek
+     */
+    function & preparePhoto($name)
+    {
+        global $DOCUMENT_ROOT;
+        global $config;
+
+        $path="http://".$config->www."/photo/".$name;
+        if(preg_match("/soteesklep3/",$path)) {
+        	print "<font color=red>Ustaw prawid³owy adres sklepu w zak³adce \"Dane sprzedawcy. Adres sklepu\"</font><br>";
+        }
+        $file='';
+        if($fd = fopen($path, "rb")) {
+            while (!feof($fd)) {
+                $file .= fread($fd, 8192);
+            }
+            $encoded = base64_encode($file);
+            fclose($fd);
+            return $encoded;
+        } else {
+            print "<font color=red>Problem z do³±czeniem zdjeciem</font><br>";
+            return false;
+        }
+    } // end func preparePhoto
+} // end class Allegro
+?>
\ No newline at end of file
diff -ruN ../soteesklep3/admin/plugins/_allegro/html/allegro_row.html.php soteesklep3/admin/plugins/_allegro/html/allegro_row.html.php
--- ../soteesklep3/admin/plugins/_allegro/html/allegro_row.html.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/admin/plugins/_allegro/html/allegro_row.html.php	2006-07-11 14:14:40.000000000 +0200
@@ -0,0 +1,30 @@
+<?php
+$onclick="onclick=\"open_window(425,525)\"";
+$id=$rec->data['id'];
+global $config,$lang;
+
+?>
+<tr>
+  <td><a href="/go/_edit/edit_allegro.php?user_id=<?php print $rec->data['user_id'];?>" target="window">
+    <?php print $rec->data['id'];?></a>
+  </td>
+   <td><a href="/go/_edit/edit_allegro.php?user_id=<?php print $rec->data['user_id'];?>" target="window"><u>
+     <?php print $rec->data['allegro_product_name'];?></u></a>
+    </td>
+   <td>
+   <?php print $rec->data['allegro_price_start']."&nbsp;".$config->currency;?>
+   </td>
+   <td align="center">
+   <?php print $rec->data['allegro_send'];?>
+   </td>
+   <td align="center">
+   <nobr><input type=checkbox name=send[<?php print $rec->data['user_id'];?>]><?php print $lang->allegro_send;?></nobr>
+   </td>
+   <td>
+   <nobr><input type=checkbox name=del[<?php print $id;?>]><?php print $lang->delete;?></nobr>
+   </td>
+</tr>
+
+<?php
+$theme->lastRow(6);
+?>
\ No newline at end of file
diff -ruN ../soteesklep3/admin/plugins/_allegro/html/allegro_row_list.html.php soteesklep3/admin/plugins/_allegro/html/allegro_row_list.html.php
--- ../soteesklep3/admin/plugins/_allegro/html/allegro_row_list.html.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/admin/plugins/_allegro/html/allegro_row_list.html.php	2006-07-11 14:14:40.000000000 +0200
@@ -0,0 +1,35 @@
+<?php
+$onclick="onclick=\"open_window(425,525)\"";
+$id=$rec->data['id'];
+global $config,$lang,$allegro_config;
+
+?>
+<tr>
+  <td><a href="/go/_edit/edit_allegro.php?user_id=<?php print $rec->data['user_id'];?>" target="window">
+    <?php print $rec->data['id'];?></a>
+  </td>
+   <td><a href="/go/_edit/edit_allegro.php?user_id=<?php print $rec->data['user_id'];?>" target="window"><u>
+     <?php print $rec->data['allegro_product_name'];?></u></a>
+    </td>
+   <td>
+   <?php print $rec->data['allegro_price_start']."&nbsp;".$config->currency;?>
+   </td>
+   <td align="center">
+   <?php print $rec->data['allegro_send'];?>
+   </td>
+   <td>
+   <?php 
+   if($rec->data['allegro_send'] == 'product') {
+       print "<a href=\"http://www.allegro.pl/show_item.php?item=".$rec->data['allegro_number']."\" target=window><u>".$rec->data['allegro_number']."</u></a>";
+   } else {
+       print "<a href=\"http:///www.testwebapi.pl/show_item.php?item=".$rec->data['allegro_number']."\" target=window><u>".$rec->data['allegro_number']."</u></a>";
+   }
+   ?>
+   </td>
+   <td>
+   <nobr><input type=checkbox name=del[<?php print $id;?>]><?php print $lang->delete;?></nobr>
+   </td>
+   </tr>
+<?php
+$theme->lastRow(6);
+?>
\ No newline at end of file
diff -ruN ../soteesklep3/exe/0.php soteesklep3/exe/0.php
--- ../soteesklep3/exe/0.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/exe/0.php	2006-07-12 12:25:58.000000000 +0200
@@ -0,0 +1 @@
+
diff -ruN ../soteesklep3/htdocs/plugins/_ceneo/include/ceneo_load_offer.inc.php soteesklep3/htdocs/plugins/_ceneo/include/ceneo_load_offer.inc.php
--- ../soteesklep3/htdocs/plugins/_ceneo/include/ceneo_load_offer.inc.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/htdocs/plugins/_ceneo/include/ceneo_load_offer.inc.php	2006-07-11 14:15:03.000000000 +0200
@@ -0,0 +1,391 @@
+<?php
+/**
+ * Obsluga ladowania oferty do onet_pasaz
+ *
+ *
+ * @author  rdiak@sote.pl
+ * @version $Id: ceneo_load_offer.inc.php,v 1.7 2006/04/20 09:09:51 scalak Exp $
+* @package    pasaz.onet.pl
+ */
+
+
+/**
+ * Includowanie potrzebnych klas 
+ */
+require_once("include/metabase.inc");
+require_once("include/ceneo/soap.inc.php");
+require_once("include/ftp.inc.php");
+include_once ("config/auto_config/ceneo_config.inc.php");
+
+/**
+ * Klasa OnetLoadOffer
+ *
+ * @package onet
+ * @subpackage admin
+ */
+class CeneoLoadOffer extends SOAP {
+
+    var $ceneo_mode='';                  // tryb ladowania produktow do ceneo_pasaz full - pelny update - przyrostowy
+    var $ceneo_shop_id='';               // id sklepu przyznawany przez administratora z ceneo_pasaz
+    var $www='';                        // adres internetowy sklepu
+    var $count=0;
+    var $partner_name='';               // nazwa partnera
+    var $target='';
+    var $ftp_dir;
+    /**
+	* Konstruktor obiektu ceneoLoadOffer
+	*
+	* @access public
+	*
+	* @author rdiak@sote.pl
+	*
+	* @return boolean true/false
+	*/
+    function ceneoLoadOffer() {
+        global $ceneo_config;
+        global $config;
+
+        $this->ceneo_shop_id=$ceneo_config->ceneo_shop_id;
+        $this->ceneo_mode=@$ceneo_config->ceneo_mode;
+        $this->partner_name=$ceneo_config->ceneo_partner_name;
+        $this->ftp_dir=$config->ftp_dir;
+        $this->target=$this->ftp_dir."/htdocs/plugins/_ceneo";
+        $this->www=$config->www;
+        $this->SOAP();
+        return true;
+    } // end ceneoLoadOffer()
+
+    /**
+	* Funkcja zwaracajaca nalowek pliku xml
+	*
+	* @access public
+	*
+	* @author rdiak@sote.pl
+	*
+	* @return string naglowek pliku xml
+	*
+	*/
+    function ceneo_get_head() {
+        $str="<?xml version=\"1.0\" encoding=\"utf-8\"?><soap:Envelope xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"  xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\"  xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\"><soap:Body>";
+        return $str;
+    } //end ceneo_get_head()
+
+    /**
+	* Funkcja zwraca stopke pliku xml .
+	*
+	* @access public
+	*
+	* @author rdiak@sote.pl
+	*
+	* @return string stopka pliku xml
+	*
+	*/
+    function ceneo_get_foot() {
+        $str="</soap:Body></soap:Envelope>";
+        return $str;
+    } //end ceneo_get_foot()
+
+    /**
+	 * Funkcja zwraca url produktu .
+	 *
+	 * @access public
+	 *
+	 * @return string url
+	 */
+    function ceneo_prepare_url() {
+        global $mdbd;
+        global $config;
+
+        $data=$mdbd->select("partner_id,name","partners","name=?",array($this->partner_name=>"string"));
+        $partner_id=$data['partner_id'];
+        $code=md5("partner_id.$partner_id.$config->salt");                 // wygenerowanie kodu kontrolnego
+        $link="&partner_id=".$partner_id."&code=".$code;    // budowanie linku
+        return $link;
+    }
+
+
+    /**
+	 * Funkcja formuje komunikat xml z oferta sklepu  .
+	 *
+	 * @access public
+	 *
+	 * @author rdiak@sote.pl
+	 *
+	 * @return string stopka pliku xml
+	 *
+	 */
+    function & prepare_offer() {
+        global $database;
+        global $lang;
+        $str='';
+        //$str.=$this->ceneo_get_head();
+        // jest to tablica tablic zawierajaca dane z oferty
+        $dane=$this->get_database();
+        if(empty($dane)) return false;
+
+        // kawalek url odpwiedzialny za prawid³ow± identyfikacjê partnera
+        $code=$this->ceneo_prepare_url();
+        foreach($dane as $data){
+            if($data['onet_category']=='opt') continue;
+            $price=$this->ceneo_currency($data);
+            $url="http://".$this->www."/?id=".$data['user_id'].$code;
+            #$url=$this->chars_to_xml($url);
+            if($data['onet_status'] == 1) {
+                $str.="<offer>\n";
+            } elseif($data['onet_status'] == 0) {
+                $str.="<offer toDelete=\"true\">\n";
+            }
+            $str.="\t<id>".$data['user_id']."</id>\n";
+            $str.="\t<name>".$this->chars_to_xml($this->encoding_iso8859_2_to_utf8($data['name']))."</name>\n";
+            $str.="\t<price>".$price."</price>\n";
+            $str.="\t<url>".$url."</url>\n";
+            $str.="\t<categoryId>".substr($data['onet_category'],0,32)."</categoryId>\n";
+            $xml_description=$this->_cut_html($data['xml_description']);
+            $str.="\t<description>".$this->chars_to_xml($this->encoding_iso8859_2_to_utf8($xml_description))."</description>\n";
+            $str.="\t<maxPrice>".$price."</maxPrice>\n";
+            $str.="\t<producer>".$this->chars_to_xml($data['producer'])."</producer>\n";
+            if(!empty($data['onet_author'])) $str.="\t<author>".$data['onet_author']."</author>\n";
+            if(!empty($data['onet_edition'])) $str.="\t<edition>".$data['onet_edition']."</edition>\n";
+            if($data['onet_image_export'] == 1) {
+                $str.="\t".$this->ceneo_image($data)."\n";
+            }
+            //			$str.="\t<op>".$data['onet_op']."</op>\n";
+            if(!empty($data['ceneo_attrib'])) {
+                $str.="\t<attributes>\n";
+                foreach($data as $key=>$value) {
+                    if(preg_match("/ceneo/",$key) && ($key!='ceneo_export' && $key!='ceneo_attrib')) {
+                        if(!empty($data[$key])) {
+                            $str.="<attribute>\n";
+                            $str.="<name>".$lang->ceneo_attrib[$key]."</name>\n";
+                            $str.="<value>".$this->encoding_iso8859_2_to_utf8($data[$key])."</value>\n";
+                            $str.="</attribute>\n";
+                        }   
+                    }
+                }
+                $str.="\t</attributes>\n";
+            }
+            $str.="</offer>\n\n";
+            $this->count++;
+        }
+        //$str.=$this->onet_get_foot();
+        $offer=&$str;
+        return $offer;
+    } //end prepare_offer()
+
+    /**
+	* Funkcja zapisuje oferte do pliku  .
+	*
+	* @access public
+	*
+	* @author rdiak@sote.pl
+	*
+	* @return string stopka pliku xml
+	*
+	*/
+    function load_offer() {
+        global $DOCUMENT_ROOT;
+        global $lang;
+        global $ceneo_config;
+        global $config;
+
+
+        $offer1="<offers>".$this->prepare_offer()."</offers>";
+        
+        $file_name="xml_offer_ceneo.xml";
+        $offer=$this->ceneo_get_head();
+        $offer.='<ExportCennik xmlns="http://';
+        $offer.=$ceneo_config->ceneo_server;
+        $offer.='/">';
+        $offer.='<idSklep>'.$ceneo_config->ceneo_shop_id.'</idSklep>';
+        $offer.='<Login>'.$ceneo_config->ceneo_login.'</Login>';
+        $offer.='<Password>'.$ceneo_config->ceneo_password.'</Password>';
+        $offer.='<xmlofe>';
+        $offer.=$this->chars_to_xml($offer1);
+        $offer.='</xmlofe>
+        </ExportCennik>';
+
+
+        $offer.=$this->ceneo_get_foot();
+
+        if($offer) {
+            $file=$DOCUMENT_ROOT."/tmp/ceneo.xml";
+            if  ($fd=fopen($file,"w+")) {
+                fwrite($fd,$offer,strlen($offer));
+                fclose($fd);
+            }
+            print $offer;
+            exit;
+            //if($this->load_ftp("ceneo.xml")) {
+            //	print "<center>Plik wygenerowany poprawnie<br> Plik mo¿na sciagnaæ z adresu http://".$config->www."/htdocs/ceneo/ceneo.xml";
+            //}
+            //$content=$this->send_soap_offer($offer);
+            //print $this->encoding_utf8_to_8859_2($this->xml_to_chars($content));
+        } else {
+            print "<br><center>".$lang->onet_load_offer['noprod']."<center>";
+        }
+    } // end load_offer
+
+    /**
+	* Funkcja onet_currency przelicza cene jesli waluta jest inna niz PLN
+	*
+	* @access public
+	*
+	* @author rdiak@sote.pl
+	*
+	* @param  string $price_brutto nazwa zdjecia,
+	*
+	* @return string $price przelicznona cena
+	*
+	*/
+    function ceneo_currency($data) {
+        global $database;
+        $currency=$database->sql_select_data_array("id","currency_val","currency");
+        $id_currency=$data['id_currency'];
+
+        if ( $id_currency > 1 ) {
+            $price_brutto=($data['price_currency']*$currency[$id_currency])*(1+($data['vat']/100));
+            if ($data['discount'] >0 && $data['discount'] <100) {
+                $price_brutto=$price_brutto-(($price_brutto*$data['discount'])/100);
+            }
+        } else {
+            $price_brutto=$data['price_brutto']*1;
+            if ($data['discount'] >0 && $data['discount'] <100) {
+                $price_brutto=$price_brutto-(($price_brutto*$data['discount'])/100);
+            }
+        }
+
+        if(eregi("(^[0-9]{1,}$)",$price_brutto)) {
+            $price_brutto=$price_brutto.".00";
+        }elseif(eregi("(^[0-9]{1,}\.[0-9]{1}$)",$price_brutto)) {
+            $price_brutto=$price_brutto."0";
+        }elseif(eregi("(^[0-9]{1,}\.[0-9]{2}$)",$price_brutto)) {
+            $price_brutto=$price_brutto;
+        }elseif(eregi("^[0-9]{1,}\.[0-9]{0,17}$",$price_brutto)) {
+            preg_match("/^(\d{1,})\.(\d{2})/",$price_brutto,$data_match);
+            $price_brutto=$data_match[1].".".$data_match[2];
+        }
+        return $price_brutto;
+    } // end ceneo_currency
+
+    /**
+	* Funkcja formuje komunikat xml z oferta sklepu  .
+	*
+	* @access public
+	*
+	* @author rdiak@sote.pl
+	*
+	* @return string stopka pliku xml
+	*
+	*/
+    function & get_database() {
+        global $db;
+
+        global $database;
+        
+        $main_param=$database->sql_select_multi_array7("*","main_param","ceneo_export=1","","","user_id");
+        //print "<pre>";
+        //print_r($main_param);
+        //print "</pre>";
+        $product=array();
+        $query="SELECT ";
+        $query.="onet_category, onet_status, onet_image_export, onet_image_desc,onet_image_title,onet_attrib,";
+        $query.="user_id,photo,name_L0,price_brutto,price_currency,xml_description_L0,producer,vat,id_currency,discount,hidden_price ";
+        $query.=" FROM main WHERE onet_export=1";
+
+        $prepared_query=$db->PrepareQuery($query);
+        if ($prepared_query) {
+            $result=$db->ExecuteQuery($prepared_query);
+            if ($result!=0) {
+                $num_rows=$db->NumberOfRows($result);
+                if ($num_rows>0) {
+                    for ($i=0;$i<$num_rows;$i++) {
+                        $data=array();
+                        $data['onet_category']=$db->FetchResult($result,$i,"onet_category");
+                        $data['onet_status']=$db->FetchResult($result,$i,"onet_status");
+                        $data['onet_image_export']=$db->FetchResult($result,$i,"onet_image_export");
+                        $data['onet_image_desc']=$db->FetchResult($result,$i,"onet_image_desc");
+                        $data['onet_image_title']=$db->FetchResult($result,$i,"onet_image_title");
+                        $data['onet_attrib']=$db->FetchResult($result,$i,"onet_attrib");
+
+                        $data['user_id']=$db->FetchResult($result,$i,"user_id");
+                        $data['photo']=$db->FetchResult($result,$i,"photo");
+                        $data['name']=$db->FetchResult($result,$i,"name_L0");
+                        $data['price_brutto']=$db->FetchResult($result,$i,"price_brutto");
+                        $data['price_currency']=$db->FetchResult($result,$i,"price_currency");
+                        $data['xml_description']=$db->FetchResult($result,$i,"xml_description_L0");
+                        $data['producer']=$db->FetchResult($result,$i,"producer");
+                        $data['vat']=$db->FetchResult($result,$i,"vat");
+                        $data['id_currency']=$db->FetchResult($result,$i,"id_currency");
+                        $data['discount']=$db->FetchResult($result,$i,"discount");
+                        $data['hidden_price']=$db->FetchResult($result,$i,"hidden_price");
+                        
+                        foreach($main_param[$data['user_id']] as $key=>$value) {
+                            if(preg_match("/ceneo/",$key)) {
+                                $data[$key]=$main_param[$data['user_id']][$key];
+                            }
+                        }
+                        array_push ($product, $data);
+                    } // end for
+                }
+            } else die ($db->Error());
+        } else die ($db->Error());
+        $data=&$product;
+        return $data;
+    } // end get_database
+
+    /**
+	* Funkcja onet_check_image zwraca gotowy tag xml z parametrami zdj-Bêcia -A
+	*
+	* @access public
+	*
+	* @author rdiak@sote.pl
+	*
+	* @param  string $photo  nazwa zdjecia,
+	* @param  string $url    adres url do zdjecia
+	*
+	* @return string tag xml zawierajacy parametry zdjecia
+	*
+	*/
+    function ceneo_image($data) {
+        $url="http://".$this->www."/photo/".$data['photo'];
+        $size = @getimagesize ($url);
+        $str="<image height=\"".@$size[1]."\" width=\"".@$size[0]."\" title=\"".$data['onet_image_title']. "\" 		description=\"".$data['onet_image_desc']."\">".$url."</image>";
+        return $str;
+    } // end ceneo_image
+
+    /**
+	 * Funkcja ftpuje plik do okrelsonej lokalizacji.
+	 *
+	 * @param  string $file nazwa pliku
+	 *
+	 * @return boolean true/false
+	 */
+    function load_ftp($file) {
+        global $ftp;
+        global $DOCUMENT_ROOT;
+        $ftp->connect();
+        $ftp->put("$DOCUMENT_ROOT/tmp/$file","$this->target","$file");
+        $ftp->close();
+        return true;
+    } // end load_ftp()
+
+    /**
+	 * Wytnij znaczniki html ze stringu
+ 	 *
+     * @return string ciag znakow bez znacznikow html
+     */
+    function _cut_html($str) {
+        $str=preg_replace("'<[\/\!]*?[^<>]*?>'si","",$str);
+        return $str;
+    } // end _cut_html
+    
+    function chars_to_xml($xml) {
+        $xml = eregi_replace('<', '&lt;', $xml);
+        $xml = eregi_replace('>', '&gt;', $xml);
+        $xml = eregi_replace('&', '&amp;', $xml);
+        $xml = eregi_replace('"', '&quot;', $xml);
+        $xml = eregi_replace('\'', '&apos;', $xml);
+        return $xml;
+    } // end chars_to_xml()
+} // end class ceneoLoadOffer
+?>
diff -ruN ../soteesklep3/htdocs/plugins/_ceneo/index.php soteesklep3/htdocs/plugins/_ceneo/index.php
--- ../soteesklep3/htdocs/plugins/_ceneo/index.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/htdocs/plugins/_ceneo/index.php	2006-07-11 14:15:03.000000000 +0200
@@ -0,0 +1,29 @@
+<?php
+/**
+ * Export produktów do ceneo pasaz
+ *
+ * @author  rdiak@sote.pl
+ * @version $Id: export1.php,v 1.1 2006/01/06 13:05:04 scalak Exp $
+* @package    pasaz.ceneo.pl
+ */
+
+$global_database=true;
+$DOCUMENT_ROOT=$HTTP_SERVER_VARS['DOCUMENT_ROOT'];
+require_once ("../../../include/head.inc");
+
+//$theme->head_window();
+//$theme->bar($lang->ceneo_bar['export']);
+
+//print "<br><center>".$lang->ceneo_load_offer['timeout']."<br></center>";
+//flush();
+
+require_once("./include/ceneo_load_offer.inc.php");
+$ceneo_offer=new ceneoLoadOffer;
+$ceneo_offer->load_offer();
+
+//include_once ("./html/ceneo_close.html.php");   
+
+// stopka
+//$theme->foot_window();
+//include_once ("include/foot.inc");
+?>
diff -ruN ../soteesklep3/htdocs/plugins/_ceneo/lang/_en/lang.inc.php soteesklep3/htdocs/plugins/_ceneo/lang/_en/lang.inc.php
--- ../soteesklep3/htdocs/plugins/_ceneo/lang/_en/lang.inc.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/htdocs/plugins/_ceneo/lang/_en/lang.inc.php	2006-07-11 14:15:03.000000000 +0200
@@ -0,0 +1,88 @@
+<?php
+$lang->close="Zamknij okno";
+$lang->onet_bar=array(
+                      "index"=>"Onet Pasa¿",
+                      "config"=>"Onet Pasa¿ - Konfiguracja",
+		      "export"=>"Export oferty do Onet Pasa¿",
+		      "cat"=>"Import kategorii z Onet Pasa¿",
+		      "trans"=>"Export transakcji do Onet Pasa¿"    	
+                      );
+$lang->onet_options=array(
+                          "config"=>"Konfiguracja",
+                          "export"=>"Export produktów",
+                          "category"=>"Import Kategorii",
+                          "trans"=>"Export Transakcji"
+                          );
+$lang->onet_config=array(
+			"options"=>"Opcje Onet Pasa¿",
+			"network"=>"Opcje sieciowe Onet Pasa¿",
+			"id"=>"ID sklepu nadany przez Administratora Onet_Pasa¿",
+			"mode"=>"Tryb ³adowania danych do Onet Pasa¿", 
+			"full"=>"Pe³ny eksport",
+			"update"=>"Przyrostowy eksport",
+			"login"=>"Login",
+			"pass"=>"Has³o",
+			"server"=>"Adres Serwera SOAP",
+			"category"=>"Pobieranie kategorii",
+			"biling"=>"Wysy³anie produktów",
+			"transaction"=>"Potwierdzanie transakcji",
+			"port"=>"Port Server SOAP",
+			"save"=>"Zapisz",
+
+			);
+$lang->onet_soap=array(
+                       "no_header"=>"Brak naglowka odpowiedzi z Onet Pasaz",
+                       "bad_reply"=>"Brak odpowiedzi z serwera SOAP",
+                       "not_connect"=>"Nie mozna polaczyc sie z serwerem",
+                       );
+$lang->onet_get_cat=array(
+			  "parse"=>"Pobranie i parasowanie kategorii - OK",
+			  "loaddb"=>"£adowanie do bazy danych - OK",
+			  "file"=>"Tworzenie pliku z kategoriami - OK",    
+			  "error_file"=>"Tworzenie pliku z kategoriami - Error",    
+			  "error_loaddb"=>"£adowanie do bazy danych - Error",
+			  "error_parse"=>"Pobranie i parasowanie kategorii - Error",
+	                  "timeout"=>"Trwa pobieranie kategorii. Mo¿e to potrwaæ kilka minut.",
+);
+
+$lang->onet_load_offer=array(
+			  "badxml"=>"Nieprawid³owu plik xml z oferta",
+			  "noprod"=>"Brak produktów do wyeksportwania",    
+	                  "timeout"=>"Trwa wysy³anie produktów do Onet Pasa¿. Mo¿e to potrwaæ kilka minut.",
+			  "count"=>"Ilo¶æ produktów przes³anych do Onet Pasa¿",    
+);
+
+$lang->onet_trans=array(
+			"info"=>"Z tego miejsca mo¿na przes³aæ sfinalizowane transakcje ze sklepu do Onet Pasa¿. 
+			Przy transakcjach rozpoczêtych w Onet Pasa¿ znajduje siê specjalne pole do potwierdzania tych transakcji.
+			Zarz±dzaæ transakcjami mo¿esz z tego <b><u><a href=/go/_order>miejsca</a></u></b>",
+			"notrans"=>"Nie ma ¿adnej transakcji do wys³ania",
+			"export"=>"Eksportuj transakcje do <b>Onet Pasa¿</b>.",
+			"submit"=>"Eksport Transakcji",
+	                 "timeout"=>"Trwa wysy³anie transakcji do Onet Pasa¿. Mo¿e to potrwaæ kilka minut.",
+
+			);
+
+$lang->onet_pasaz=array(
+			"title"=>"System <b>Onet Pasa¿</b>, jest przeznaczony do zarz±dzania produktami ze sklepu z Onet Pasa¿.",
+			"config"=>"Je¶li chcesz przeprowadziæ konfiguracje parametrów Onet Pasa¿ wybierz zak³adkê",
+			"export"=>"Je¶li chcesz wyeksportowaæ produkty ze sklepu do Onet Pasa¿ wybierz zak³adkê",
+			"category"=>"Je¶li chcesz pobraæ drzewo kategorii z Onet Pasa¿ wybierz  zak³adkê",
+			"transaction"=>"Je¶li chcesz wykonæ eksport transakcji do Onet Pasa¿ wybierz zak³adke",  
+		        );
+$lang->onet_export=array(
+			"info"=>"Z tego miejsca mo¿na wyeksportowaæ produkty ze sklepu do Onet Pasa¿. 
+			Napierw jednak nale¿y ka¿demu produktowi nadaæ odpowiedni± kategoriê oraz ustawiæ inne parametry exportu.
+			Mo¿esz to zrobic w tym <b><u><a href=/go/_category/all.php>miejscu</a></u></b>",
+			"export"=>"Eksportuj  produkty ze sklepu do <b>Onet Pasa¿</b>.",
+			"submit"=>"Eksport produktów",
+			);
+$lang->onet_category=array(
+			"info"=>"Onet Pasa¿ posiada w³asne drzewo kategorii. ¯eby korzystaæ z kategorii Onet Pasa¿ oraz
+				kwalifikowaæ produkty sklepowe do kategorii Onet Pasa¿, nale¿y do³±czyæ te kategorie do sklepu 
+				Przyporz±dkowaæ produkt ze skelpu do kategorii z Onet Pasa¿ mo¿esz zrobic w tym <b><u><a href=/go/_category/all.php>miejscu</a></u></b>",
+			"category"=>"Pobra¿ kategorie <b>Onet Pasa¿</b> do sklepu.",
+			"submit"=>"Pobierz kategorie",
+			);
+
+?>
diff -ruN ../soteesklep3/htdocs/plugins/_ceneo/lang/_pl/lang.inc.php soteesklep3/htdocs/plugins/_ceneo/lang/_pl/lang.inc.php
--- ../soteesklep3/htdocs/plugins/_ceneo/lang/_pl/lang.inc.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/htdocs/plugins/_ceneo/lang/_pl/lang.inc.php	2006-07-11 14:15:03.000000000 +0200
@@ -0,0 +1,100 @@
+<?php
+$lang->close="Zamknij okno";
+$lang->ceneo_bar=array(
+                      "index"=>"Ceneo",
+                      "config"=>"Ceneo - konfiguracja",
+                      "export"=>"Export oferty do Ceneo",
+                      "cat"=>"Import kategorii z Ceneo",
+                      "trans"=>"Export transakcji do Ceneo"    	
+                      );
+$lang->ceneo_options=array(
+                          "config"=>"Konfiguracja",
+                          "export"=>"Export produktów",
+                          "category"=>"Import Kategorii",
+                          "trans"=>"Export Transakcji",
+                          "help"=>"Pomoc",
+                          );
+$lang->ceneo_config=array(
+                         "options"=>"Opcje Ceneo",
+                         "network"=>"Opcje sieciowe Ceneo",
+                         "id"=>"ID sklepu:",
+                         "mode"=>"Tryb ³adowania danych", 
+                         "full"=>"Pe³ny eksport",
+                         "update"=>"Przyrostowy eksport",
+                         "login"=>"Login",
+                         "pass"=>"Has³o",
+                         "server"=>"Adres serwera SOAP",
+                         "test_server"=>"Adres testowego serwera SOAP",
+                         "get_category"=>"Pobieranie kategorii",
+                         "biling"=>"Wysy³anie produktów",
+                         "transaction"=>"Potwierdzanie transakcji",
+                         "port"=>"Port Server SOAP",
+                         "save"=>"Zapisz",
+                         "category"=>"Kategorie Ceneo*",
+                         "confirm"=>"Adres potwierdzania transakcji",
+                         "load"=>"Tryb pracy modu³u:",
+                         "test"=>"Tryb testowy",
+                         "product"=>"Tryb produkcyjny",
+                         "back"=>"Ostatnie ustawienia",
+                         "partner_name"=>"Nazwa partnera",
+                         );
+$lang->ceneo_soap=array(
+                       "no_header"=>"Brak naglowka odpowiedzi z Ceneo",
+                       "bad_reply"=>"Brak odpowiedzi z serwera SOAP",
+                       "not_connect"=>"Nie mozna polaczyc sie z serwerem",
+                       );
+
+$lang->ceneo_load_offer=array(
+                             "badxml"=>"Nieprawid³owu plik xml z oferta",
+                             "noprod"=>"Brak produktów do wyeksportwania",    
+                             "timeout"=>"Trwa wysy³anie produktów do Ceneo. Mo¿e to potrwaæ kilka minut.",
+                             "count"=>"Ilo¶æ produktów przes³anych do Ceneo",    
+                             );
+
+
+$lang->ceneo_pasaz=array(
+                        "title"=>"System <b>Ceneo</b>, jest przeznaczony do zarz±dzania produktami ze sklepu z Ceneo.",
+                        "config"=>"Je¶li chcesz przeprowadziæ konfiguracje parametrów Ceneo wybierz zak³adkê",
+                        "export"=>"Je¶li chcesz wyeksportowaæ produkty ze sklepu do Ceneo wybierz zak³adkê",
+                        "category"=>"Je¶li chcesz pobraæ drzewo kategorii z Ceneo wybierz  zak³adkê",
+                        "transaction"=>"Je¶li chcesz wykonæ eksport transakcji do Ceneo wybierz zak³adke",  
+                        );
+$lang->ceneo_export=array(
+                         "info"=>"Z tego miejsca mo¿na wyeksportowaæ produkty ze sklepu do Ceneo. 
+			Napierw jednak nale¿y ka¿demu produktowi nadaæ odpowiedni± kategoriê oraz ustawiæ inne parametry exportu.
+			Mo¿esz to zrobic w tym <b><u><a href=/go/_category/all.php>miejscu</a></u></b>",
+                         "export"=>"Eksportuj  produkty ze sklepu do <b>Ceneo</b>.",
+                         "submit"=>"Eksport produktów",
+                         "noproduct"=>"<font color=red>Brak produktów do eksportu.</font>",
+                         );
+$lang->ceneo_attrib=array(
+                'ceneo_export'=>"Eksportuj produkt",
+                'ceneo_attrib'=>"Do³±czyæ atrybuty Ceneo ?",
+                'ceneo_autor'=>"Autor",
+                'ceneo_isbn'=>"ISBN",
+                'ceneo_page'=>"Ilosc_stron",
+                'ceneo_publisher'=>"Wydawnictwo",
+                'ceneo_producer'=>"Producent",
+                'ceneo_size'=>"Rozmiar",
+                'ceneo_rozstaw'=>"Rozstaw_srub",
+                'ceneo_odsadzenie'=>"Odsadzenie",
+                'ceneo_rezyser'=>"Rezyser",
+                'ceneo_obsada'=>"Obsada",
+                'ceneo_nosnik'=>"No¶nik",
+                'ceneo_tytul_org'=>"Tytul_oryginalny",
+                'ceneo_opony_producent'=>"Producent",
+                'ceneo_opony_model'=>"Model",
+                'ceneo_opony_szerokosc'=>"Szerokosc",
+                'ceneo_opony_profil'=>"Profil",
+                'ceneo_opony_srednica'=>"Srednica",
+                'ceneo_opony_predkosc'=>"Predkosc",
+                'ceneo_opony_nosnosc'=>"Nosnosc",
+                'ceneo_opony_sezon'=>"Sezon",
+                'ceneo_opony_typ'=>"Typ_pojazdu",
+                'ceneo_perfumy_producent'=>"Producent",
+                'ceneo_perfumy_model'=>"Model",
+                'ceneo_perfumy_rodzaj'=>"Rodzaj",
+                'ceneo_perfumy_pojemnosc'=>"Pojemnosc"
+                );
+                         
+?>
diff -ruN ../soteesklep3/htdocs/themes/_cz/_html_files/cardpay_info.html soteesklep3/htdocs/themes/_cz/_html_files/cardpay_info.html
--- ../soteesklep3/htdocs/themes/_cz/_html_files/cardpay_info.html	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/htdocs/themes/_cz/_html_files/cardpay_info.html	2006-07-11 14:15:04.000000000 +0200
@@ -0,0 +1,5 @@
+<div align="left">
+Numer karty p³atniczej jest widoczny na froncie karty, zazwyczaj ponad imieniem i nazwiskiem w³a¶ciciela<br>
+Numer cvc/cvv jest widoczny na tyle karty, s± to ostatnie trzy cyfry kodu widocznego na pasku z podpisem w³a¶ciciela<br>
+Data wyga¶niecia karty jest widoczna na froncie karty, podana jest ona zazwyczaj w konwencji miesi±c-rok<br>
+</div>
\ No newline at end of file
diff -ruN ../soteesklep3/htdocs/themes/_cz/_html_files/over_wishlist_text.html soteesklep3/htdocs/themes/_cz/_html_files/over_wishlist_text.html
--- ../soteesklep3/htdocs/themes/_cz/_html_files/over_wishlist_text.html	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/htdocs/themes/_cz/_html_files/over_wishlist_text.html	2006-07-11 14:15:04.000000000 +0200
@@ -0,0 +1,14 @@
+<br>
+Witamy w przechowalni.<br>
+Tutaj mo¿esz przechowywaæ swoje produkty pomiêdzy wizytami w naszym sklepie.
+Aby przenie¶æ przechowywane produkty do koszyka, zaznacz pole "do koszyka" obok wybranego produktu, i kliknij na przycisk akceptuj.
+<br>
+Niektórych produktów nie mo¿na przenie¶æ, te produkty nie maj± pola "do koszyka", nie jest pokazywana ich cena i/lub nie maj± pokazanej nazwy
+ - te produkty mog± byæ ju¿ niedostêpne w sklepie, proszê próbuj dodaæ je ponownie do koszyka przez sklep.
+<br>
+Produkty bêd±ce prezentami nie mog± byæ dodawane do przechowalni.<br>
+<br>
+<center>
+Aktualnie w przechowalni<br>
+<br>
+</center>
\ No newline at end of file
diff -ruN ../soteesklep3/htdocs/themes/_cz/_html_files/wishlist_up_empty.html soteesklep3/htdocs/themes/_cz/_html_files/wishlist_up_empty.html
--- ../soteesklep3/htdocs/themes/_cz/_html_files/wishlist_up_empty.html	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/htdocs/themes/_cz/_html_files/wishlist_up_empty.html	2006-07-11 14:15:04.000000000 +0200
@@ -0,0 +1,7 @@
+<div align="left">
+<br>
+W przechowalni nie masz w tej chwili ¿adnego produktu.
+Aby dodaæ produkt do przechowalni kliknij na ikonê <img src="/themes/base/blue/_img/_bmp/icons/wishlist7.gif">,<br>
+lub zaznacz produkty które chcesz przenie¶æ z <b><a href="/go/_basket/">koszyka</a></b> do przechowalni i kliknij "Akceptuj"<br>
+Produkty bêd±ce prezentami nie mog± byæ dodawane do przechowalni.<br>
+</div>
\ No newline at end of file
diff -ruN ../soteesklep3/htdocs/themes/_de/_html_files/cardpay_info.html soteesklep3/htdocs/themes/_de/_html_files/cardpay_info.html
--- ../soteesklep3/htdocs/themes/_de/_html_files/cardpay_info.html	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/htdocs/themes/_de/_html_files/cardpay_info.html	2006-07-11 14:15:06.000000000 +0200
@@ -0,0 +1,5 @@
+<div align="left">
+Numer karty p³atniczej jest widoczny na froncie karty, zazwyczaj ponad imieniem i nazwiskiem w³a¶ciciela<br>
+Numer cvc/cvv jest widoczny na tyle karty, s± to ostatnie trzy cyfry kodu widocznego na pasku z podpisem w³a¶ciciela<br>
+Data wyga¶niecia karty jest widoczna na froncie karty, podana jest ona zazwyczaj w konwencji miesi±c-rok<br>
+</div>
\ No newline at end of file
diff -ruN ../soteesklep3/htdocs/themes/_de/_html_files/over_wishlist_text.html soteesklep3/htdocs/themes/_de/_html_files/over_wishlist_text.html
--- ../soteesklep3/htdocs/themes/_de/_html_files/over_wishlist_text.html	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/htdocs/themes/_de/_html_files/over_wishlist_text.html	2006-07-11 14:15:06.000000000 +0200
@@ -0,0 +1,14 @@
+<br>
+Witamy w przechowalni.<br>
+Tutaj mo¿esz przechowywaæ swoje produkty pomiêdzy wizytami w naszym sklepie.
+Aby przenie¶æ przechowywane produkty do koszyka, zaznacz pole "do koszyka" obok wybranego produktu, i kliknij na przycisk akceptuj.
+<br>
+Niektórych produktów nie mo¿na przenie¶æ, te produkty nie maj± pola "do koszyka", nie jest pokazywana ich cena i/lub nie maj± pokazanej nazwy
+ - te produkty mog± byæ ju¿ niedostêpne w sklepie, proszê próbuj dodaæ je ponownie do koszyka przez sklep.
+<br>
+Produkty bêd±ce prezentami nie mog± byæ dodawane do przechowalni.<br>
+<br>
+<center>
+Aktualnie w przechowalni<br>
+<br>
+</center>
\ No newline at end of file
diff -ruN ../soteesklep3/htdocs/themes/_de/_html_files/wishlist_up_empty.html soteesklep3/htdocs/themes/_de/_html_files/wishlist_up_empty.html
--- ../soteesklep3/htdocs/themes/_de/_html_files/wishlist_up_empty.html	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/htdocs/themes/_de/_html_files/wishlist_up_empty.html	2006-07-11 14:15:06.000000000 +0200
@@ -0,0 +1,7 @@
+<div align="left">
+<br>
+W przechowalni nie masz w tej chwili ¿adnego produktu.
+Aby dodaæ produkt do przechowalni kliknij na ikonê <img src="/themes/base/blue/_img/_bmp/icons/wishlist7.gif">,<br>
+lub zaznacz produkty które chcesz przenie¶æ z <b><a href="/go/_basket/">koszyka</a></b> do przechowalni i kliknij "Akceptuj"<br>
+Produkty bêd±ce prezentami nie mog± byæ dodawane do przechowalni.<br>
+</div>
\ No newline at end of file
diff -ruN ../soteesklep3/htdocs/themes/_en/_html_files/cardpay_info.html soteesklep3/htdocs/themes/_en/_html_files/cardpay_info.html
--- ../soteesklep3/htdocs/themes/_en/_html_files/cardpay_info.html	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/htdocs/themes/_en/_html_files/cardpay_info.html	2006-07-11 14:15:08.000000000 +0200
@@ -0,0 +1,5 @@
+<div align="left">
+Numer karty p³atniczej jest widoczny na froncie karty, zazwyczaj ponad imieniem i nazwiskiem w³a¶ciciela<br>
+Numer cvc/cvv jest widoczny na tyle karty, s± to ostatnie trzy cyfry kodu widocznego na pasku z podpisem w³a¶ciciela<br>
+Data wyga¶niecia karty jest widoczna na froncie karty, podana jest ona zazwyczaj w konwencji miesi±c-rok<br>
+</div>
\ No newline at end of file
diff -ruN ../soteesklep3/htdocs/themes/_en/_html_files/over_wishlist_text.html soteesklep3/htdocs/themes/_en/_html_files/over_wishlist_text.html
--- ../soteesklep3/htdocs/themes/_en/_html_files/over_wishlist_text.html	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/htdocs/themes/_en/_html_files/over_wishlist_text.html	2006-07-11 14:15:08.000000000 +0200
@@ -0,0 +1,14 @@
+<br>
+Witamy w przechowalni.<br>
+Tutaj mo¿esz przechowywaæ swoje produkty pomiêdzy wizytami w naszym sklepie.
+Aby przenie¶æ przechowywane produkty do koszyka, zaznacz pole "do koszyka" obok wybranego produktu, i kliknij na przycisk akceptuj.
+<br>
+Niektórych produktów nie mo¿na przenie¶æ, te produkty nie maj± pola "do koszyka", nie jest pokazywana ich cena i/lub nie maj± pokazanej nazwy
+ - te produkty mog± byæ ju¿ niedostêpne w sklepie, proszê próbuj dodaæ je ponownie do koszyka przez sklep.
+<br>
+Produkty bêd±ce prezentami nie mog± byæ dodawane do przechowalni.<br>
+<br>
+<center>
+Aktualnie w przechowalni<br>
+<br>
+</center>
\ No newline at end of file
diff -ruN ../soteesklep3/htdocs/themes/_en/_html_files/review_info.html soteesklep3/htdocs/themes/_en/_html_files/review_info.html
--- ../soteesklep3/htdocs/themes/_en/_html_files/review_info.html	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/htdocs/themes/_en/_html_files/review_info.html	2006-07-11 14:15:08.000000000 +0200
@@ -0,0 +1,3 @@
+Poni¿ej mo¿esz zamie¶ciæ swoj± opiniê na temat wybranego produktu.
+<br />
+Zapraszamy do wyra¿ania swoich opinii.aaaaaaaaa
\ No newline at end of file
diff -ruN ../soteesklep3/htdocs/themes/_en/_html_files/wishlist_up_empty.html soteesklep3/htdocs/themes/_en/_html_files/wishlist_up_empty.html
--- ../soteesklep3/htdocs/themes/_en/_html_files/wishlist_up_empty.html	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/htdocs/themes/_en/_html_files/wishlist_up_empty.html	2006-07-11 14:15:08.000000000 +0200
@@ -0,0 +1,7 @@
+<div align="left">
+<br>
+W przechowalni nie masz w tej chwili ¿adnego produktu.
+Aby dodaæ produkt do przechowalni kliknij na ikonê <img src="/themes/base/blue/_img/_bmp/icons/wishlist7.gif">,<br>
+lub zaznacz produkty które chcesz przenie¶æ z <b><a href="/go/_basket/">koszyka</a></b> do przechowalni i kliknij "Akceptuj"<br>
+Produkty bêd±ce prezentami nie mog± byæ dodawane do przechowalni.<br>
+</div>
\ No newline at end of file
diff -ruN ../soteesklep3/htdocs/themes/_ru/_html_files/cardpay_info.html soteesklep3/htdocs/themes/_ru/_html_files/cardpay_info.html
--- ../soteesklep3/htdocs/themes/_ru/_html_files/cardpay_info.html	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/htdocs/themes/_ru/_html_files/cardpay_info.html	2006-07-11 14:15:10.000000000 +0200
@@ -0,0 +1,5 @@
+<div align="left">
+Numer karty p³atniczej jest widoczny na froncie karty, zazwyczaj ponad imieniem i nazwiskiem w³a¶ciciela<br>
+Numer cvc/cvv jest widoczny na tyle karty, s± to ostatnie trzy cyfry kodu widocznego na pasku z podpisem w³a¶ciciela<br>
+Data wyga¶niecia karty jest widoczna na froncie karty, podana jest ona zazwyczaj w konwencji miesi±c-rok<br>
+</div>
\ No newline at end of file
diff -ruN ../soteesklep3/htdocs/themes/_ru/_html_files/over_wishlist_text.html soteesklep3/htdocs/themes/_ru/_html_files/over_wishlist_text.html
--- ../soteesklep3/htdocs/themes/_ru/_html_files/over_wishlist_text.html	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/htdocs/themes/_ru/_html_files/over_wishlist_text.html	2006-07-11 14:15:10.000000000 +0200
@@ -0,0 +1,14 @@
+<br>
+Witamy w przechowalni.<br>
+Tutaj mo¿esz przechowywaæ swoje produkty pomiêdzy wizytami w naszym sklepie.
+Aby przenie¶æ przechowywane produkty do koszyka, zaznacz pole "do koszyka" obok wybranego produktu, i kliknij na przycisk akceptuj.
+<br>
+Niektórych produktów nie mo¿na przenie¶æ, te produkty nie maj± pola "do koszyka", nie jest pokazywana ich cena i/lub nie maj± pokazanej nazwy
+ - te produkty mog± byæ ju¿ niedostêpne w sklepie, proszê próbuj dodaæ je ponownie do koszyka przez sklep.
+<br>
+Produkty bêd±ce prezentami nie mog± byæ dodawane do przechowalni.<br>
+<br>
+<center>
+Aktualnie w przechowalni<br>
+<br>
+</center>
\ No newline at end of file
diff -ruN ../soteesklep3/htdocs/themes/_ru/_html_files/wishlist_up_empty.html soteesklep3/htdocs/themes/_ru/_html_files/wishlist_up_empty.html
--- ../soteesklep3/htdocs/themes/_ru/_html_files/wishlist_up_empty.html	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/htdocs/themes/_ru/_html_files/wishlist_up_empty.html	2006-07-11 14:15:10.000000000 +0200
@@ -0,0 +1,7 @@
+<div align="left">
+<br>
+W przechowalni nie masz w tej chwili ¿adnego produktu.
+Aby dodaæ produkt do przechowalni kliknij na ikonê <img src="/themes/base/blue/_img/_bmp/icons/wishlist7.gif">,<br>
+lub zaznacz produkty które chcesz przenie¶æ z <b><a href="/go/_basket/">koszyka</a></b> do przechowalni i kliknij "Akceptuj"<br>
+Produkty bêd±ce prezentami nie mog± byæ dodawane do przechowalni.<br>
+</div>
\ No newline at end of file
diff -ruN ../soteesklep3/VERSION soteesklep3/VERSION
--- ../soteesklep3/VERSION	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/VERSION	2006-07-11 13:20:46.000000000 +0200
@@ -0,0 +1 @@
+3.5RC13
\ No newline at end of file
