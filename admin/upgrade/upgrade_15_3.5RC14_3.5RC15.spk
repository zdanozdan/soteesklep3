diff -ruN ../soteesklep3/000-upgrade_config.php soteesklep3/000-upgrade_config.php
--- ../soteesklep3/000-upgrade_config.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/000-upgrade_config.php	2006-08-20 15:32:11.000000000 +0200
@@ -0,0 +1,3 @@
+<?php
+define("PATCH_VERSION",15);
+?>
diff -ruN ../soteesklep3/config/config.inc.php soteesklep3/config/config.inc.php
--- ../soteesklep3/config/config.inc.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/config/config.inc.php	2006-08-23 16:27:05.000000000 +0200
@@ -0,0 +1,870 @@
+<?php
+/**
+* Konfiguracja systemowa sklepu.
+*
+* UWAGA! Plik tem mo¿e byæ edytowany tylko przez progamistów, którzy dok³adnie wiedz± co zmieniaj±. Nie jest to
+* plik konfiguracji sklepu dla uzytkowników sklepu.
+*
+* Wiele warto¶ci zdefiniowanych i opisach w klasie Config,
+* jest nadpisywana przez inne pliki konfiguracyjne np. plik tworzony z definicjami w wprowadzanymi w panelu
+* config/auto_config/user_config.inc.php, dlatego te¿ zmiana warto¶ci nie zawsze spodowuje to, czego oczekujemy.
+* Je¶li chcemy wprowadzaæ zmiany to nale¿y dok³adnie prze¶ledziæ ca³± drogê generowania danych dla obiektu
+* $config.
+*
+* @author  m@sote.pl lech@sote.pl
+* @version $Id: config.inc.php,v 2.130 2006/08/16 10:22:14 lukasz Exp $
+*
+* @package    default
+* \@lang
+* \@encoding
+*/
+
+/**
+* G³ówna klasa konfiguracji sklepu.
+* @package config
+* @subpackage base
+*/
+class Config {
+
+    /**
+    * Wersja SOTEeSKLEP. Seria.
+    */
+    var $version="3.5.x";
+
+    /**
+    * Numer pakietu aktualizcyjnego, który ma byæ instalowany dla tej wersji jako pierwszy.
+    * Uwaga! Warto¶c ta MUSI byæ zmieniana przy ka¿dym generowaniu nowego numeru wersji. 
+    * Wstawiamy tu numer kolejnego uaktualnienia, które zostanie wydane po wydaniu wersji.
+    */
+    var $pkg_first_number=16;
+
+    
+    /**
+    * devel=1, wersje debveloperska sklepu.
+    * @ignore
+    * @todo dodac obs³ugê trybu dla developerów
+    */
+    var $devel=1;
+
+    /**
+    * Rodzaj bazy danych; obecnie tylko mysql.
+    */
+    var $dbtype="mysql";
+
+    /**
+    * Nazwa bazy danych. Pod t± zmienn± zostan± podstawione odszyfrowane dane dot. bazy danych.
+    */
+    var $dbname;
+
+    /**
+    * Nazwa u¿ytkownika dostêpu do bazy danych.
+    */
+    var $dbuser;
+
+    /**
+    * Has³o dostêpu do bazy danych.
+    */
+    var $dbpass;
+
+    /**
+    * Serwer bazy danych.
+    */
+    var $dbhost;
+
+    /**
+    * Okre¶lenie czy dana wersja jest demonstracyjn?: yes - wersja demo, no - wersja produkcyjna
+    * Je¶li demo jest w³±czone to panel sklepu jest tylko w trybie do odczytu.
+    * @todo zmieni? "yes"=>1, "no"=>0
+    */
+    var $demo="no";
+
+    /**
+    * Okre¶lenie poziomu logowania. 1 - logowanie w³±czone, 0 - wy³aczone
+    */
+    var $logs=1;                         // poziom logowania
+
+    /**
+    * Okre?lenie trybu parcy sklepu.
+    * Je¶li cd=1 to wy³±czane s± niektóre funkcje, dziêki czemu sklep ³atwiej jest zgraæ na CD.
+    * Opcja ta jest prze³±czana z panelu.
+    */
+    var $cd=0;
+
+    /* @deprecated since 3.0 */
+    var $simple="no";
+
+    /**
+    * Prefix URL do htdocs dla SV
+    * @deprecated since 3.0
+    */
+    var $htdocs_dir="";
+
+    /**
+    * Prefix URL do admin dla SV
+    * @deprecated since 3.0
+    */
+    var $admin_dir="";
+
+    /**
+    * prefix URL = htdocs_dir lub admin_dir
+    * @deprecated since 3.0
+    */
+    var $url_prefix="";
+    // end sv:
+
+    /**
+    * Adres internetowy sklepu. Zmienna konfigurowana z panelu.
+    */
+    var $www;
+
+    /**
+    * @var int category_multi 1 - w³±cz opcjê: 1 produkt w kilku kategoriach, 0 - w p.w.
+    */
+    var $category_multi=1;
+
+    /**
+    * @var int Zmienna odpowiedzialna za wy¶wietlenie w sklepie listy walut do wyboru.
+    */
+
+    var $currency_show_form=1;
+    
+    // ************** LANG
+    var $langs_symbols = array(
+        0 => "pl",
+        1 => "en",
+        2 => "de",
+        3 => "cz",
+        4 => "ru",
+    );
+
+    var $langs_names = array(
+        0 => "Polski",
+        1 => "English",
+        2 => "Deutsch",
+        3 => "Cestina",
+        4 => "Russkij",
+    );
+
+    var $langs_encoding = array(
+        0 => "052|iso-8859-2",
+        1 => "018|iso-8859-1",
+        2 => "031|iso-8859-1",
+        3 => "015|iso-8859-2",
+        4 => "000|utf-8",
+    );
+
+    var $langs_active = array(
+        0 => 1,
+        1 => 1,
+        2 => 1,
+        3 => 1,
+        4 => 1,
+        );
+    
+    var $lang_id = 0;
+
+    // ************** LANG - END
+    
+    /**
+    * Jêzyk w którym bêdzie domy¶lnie pracowaæ sklep. Aktualna warto¶æ jezyka, w którym pracuje sklep.
+    * Po zmianie jêzyka jest modyfikaowana ta zmienna.
+    */
+    var $lang="en";
+
+    /**
+    * Domy¶lny jêzyk w sklepie (nie w panelu). Zmienna ta ma t± sam± warto¶æ co $config->lang.
+    * Jest ona wykorzystywana w panlu do sprawdzenia jêzyka zdefiniowanego dla sklepu, gdy¿
+    * w panelu zmienna $config->lang ma warto¶æ aktualnie wy¶wietlanego jêzyka dla panelu, co
+    * nie musi sie zgadzaæ z ustawieniami dla sklepu.
+    */
+    var $htdocs_lang="en";
+
+    /**
+    * Bazowy jêzyk sklepu. Wed³ug tego jezyka s± przypisywane g³ówne warto¶ci $lang, nastêpnie
+    * odczytywane s± warto¶ci dla jêzyka $config->lang, które nadpisuj± wcze¶niejsze definicje.
+    * Aktualnie zawsze warto¶æ "pl". 
+    */
+    var $base_lang="pl";
+
+    /**
+    * Jêzyk w którym bêdzie domy¶lnie pracowaæ panel administracyjny sklepu.
+    */
+    var $admin_lang="en";
+
+    /**
+    * Dostêpne jêzyki w sklepie. Oznaczenia.
+    */
+    var $languages=array("en","de","pl");
+    /**
+    * Nazwy jêzyków wg oznacze?.
+    */
+    var $languages_names=array
+    (
+    "en"=>"English",
+    "de"=>"Deutsch",
+    "pl"=>"Polski",
+    );
+
+    var $lang_active=array(
+    "pl"=>1,
+    "en"=>1,
+    "de"=>1,
+
+    );
+
+    /**
+    * @var array Zmienna odpowiedzialna za przypisanie odpowiedniej waluty odpowiediej wersji jêzykowej.
+    */
+
+    var $currency_lang_default=array("pl"=>1);
+
+    // start tematy wygl±du sklepu:
+    /**
+    * Nazwa tematu bazowego
+    */
+    var $base_theme="base_theme";
+
+    /**
+    * Nazwa tematu koñcowego(tematu  wygl±du).
+    * temat okre¶la katalog, w którym bêd± wyszukiwane odpowiednie pliki/szablony prezentacji itp.
+    */
+    var $theme="blue";
+
+    /**
+    * Lista dotêpnych tematow wygl±du sklepu
+    */
+    var $themes=array
+    (
+    "redball"=>"redball",
+    "blueball"=>"blueball",
+    "red"=>"red",
+    "blue"=>"blue",
+    "green"=>"green",
+    "brown"=>"brown",
+    "blueday"=>"blueday",
+    "grayday"=>"grayday",
+    "bluelight"=>"bluelight",
+    "pinklight"=>"pinklight",
+    );
+    // end tematy wygl?du sklepu:
+
+    // start tematy wygladu panelu administratora:
+    /**
+    * Nazwa bazowego tematu w panelu amdinistracyjnym.
+    */
+    var $admin_base_theme="base_theme";
+
+    /**
+    * Nazwa tematu koñcowego w panelu amdinistracyjnym.
+    */
+    var $admin_theme="base_theme";
+
+    /**
+    * Lista dotêpnych tematów wygladu panelu administracyjnego.
+    */
+    var $admin_themes=array
+    (
+    "base_theme"=>"standard",
+    "green"=>"jungle",
+    "box"=>"box",
+    );
+    // end tematy wygladu panelu administratora:
+
+    /**
+    * Okre¶lenie czy dla sklepu dostêpna jest obs³uga SSL.
+    */
+    var $ssl=0;
+
+    /**
+    * @var string Domy¶lna waluta, w której bêda prezentowane i zapisywane ceny.
+    *             Jest to waluta rozliczenia.
+    */
+    var $currency="PLN";
+
+    /**
+    * Konto, na które s± wysylane zamówienia.
+    */
+    var $order_email='';
+
+    /**
+    * Od kogo bêd± wysy³ane wiadomo¶ci z zamówieniem.
+    */
+    var $from_email='';
+
+    /**
+    * Dane sprzedawcy - edytowane z panelu.
+    */
+    var $merchant=array();
+
+    /**
+    * @var array lista edytowalnych tematow wygladu sklepu
+    */
+    var $editable_themes=array(
+    "blue"=>"blue",
+    "redball"=>"redball",
+    "blueday"=>"blueday",
+    "grayday"=>"grayday",
+    "bluelight"=>"bluelight",
+    "pinklight"=>"pinklight",
+    );
+
+    /**
+    * Maksymalna wielko?? uploadowanego pliku w bajtach: 1000000=1MB
+    */
+    var $max_file_size=1000000;
+
+
+    // start FTP:
+    // dane konta ftp, na ktorym jest zainstalowany program
+    var $ftp_dir='';
+    var $ftp_password=-1;                // UWAGA! nie wpisywac tu hasla!
+    var $ftp_port="21";
+    // end FTP:
+
+    /**
+    * Dodatkowy klucz wykorzystywany do kodowania.
+    * Po zainstalowaniu sklepu NIE WOLNO zmieniaæ tej warto¶ci.
+    */
+    var $salt='12345678901234567890123456789012';
+
+    /**
+    * Adres servleta eCard
+    * @deprecated since 3.0
+    */
+    var $ecard_servlet="http://adres_servleta_ecardu";
+    // Ujednolicenie kolorów elementach sklepu
+    var $colors=array("light"=>"#E9F0F8",
+    "dark"=>"#6699cc",
+    );
+
+    /**
+    * Opcja okre¶la, czy w sklepie mo¿na do³±czaæ zdêcia do zamówionych produktów np. zdjêcie na nadruki na koszulki.
+    * /go/_basket/_photo zalaczanie zdjec do produktow
+    */
+    var $basket_photo="no";
+
+    /**
+    * Czy zdjêcia robione sa aparatem cyfrowym? Jesli tak to nadawaj automatycznie nazwy zdjeciom wg. id
+    */
+    var $cyfra_photo=1;
+
+    /**
+    * Typ ceny jaki siê ma wyswietlaæ: netto, brutto, netto/brutto
+    */
+    var $price_type="netto/brutto";
+
+    /**
+    * Ilo¶c produktów na listach w zale¿no¶ci od typu listy.
+    * "short" - lista uproszczona bez zdjec i opisu, "long" - pelna lista ze zdjeciami i krotkim opisem
+    */
+    var $products_on_page=array
+    (
+    "short"=>20,
+    "long"=>10
+    );
+
+    /* Domy¶lny rodzaj listy proudktow "short", "long" jw. */
+    var $record_row_type_default="long";
+
+    var $vat_confirm=1;
+
+    /**
+    * Rozmiary du¿ych i ma³ych zdjêæ na listach i w informacjach szczeg³oowych produktów.
+    */
+    var $image=array
+    (
+    "max_size" =>"300",
+    "min_size" =>"115",
+    );
+	
+    /**
+    * Poka¿ numer id produktu w sklepie
+    */
+    
+    var $show_user_id=1;
+    
+    /**
+    * Od jakiego numeru numerowaæ transakcje, domy¶lne id startowe transakcji
+    */
+
+    var $id_start_orders_default=1;
+
+    /**
+    * Okre¶lenie czy wstawiamy okienko newsletter na stronie
+    */
+    var $newsletter=1;
+
+    /**
+    * Okre¶lenie czy wstawiamy newsedit na g³ównej stronie sklepu
+    */
+
+    var $newsedit=0;
+
+    /**
+    * Newsedit w kolumnach jednej czy dwoch
+    */
+
+    var $newsedit_columns_default=1;
+
+    /**
+    * Dpmy¶lna ilo¶æ produktów kolumnach promocje,nowosci itd
+    */
+    var $random_on_page=array("promotion"=>2,
+    "newcol"=>3,
+    "bestseller"=>2,
+    );
+
+    /**
+    * Domy¶lny rodzaj sortowania produktów na listach.
+    */
+    var $main_order_default="name_L0";
+
+    /**
+    * Pola, ktore musz byc zaselectowane do odczytania nazwy produktu, producenta i ceny
+    */
+    var $select_main_price_list="id,user_id,name_L0,name_L1,name_L2,name_L3,name_L4,producer,price_brutto,vat,price_brutto_detal,photo,price_brutto_2,hidden_price,ask4price,discount,price_currency,id_currency,id_category1,id_category2,id_category3,id_category4,id_category5,id_producer,max_discount,points,points_value";
+
+
+    /**
+    * Metody p³atno¶ci dostêpne w sklepie.
+    * UWAGA! Nie mo¿na zmieniaæ ID.
+    */
+    var $pay_method=array
+    (
+    "1"=>"Za zaliczeniem",
+    "2"=>"eCard",
+    "3"=>"PolCard",
+    // "4"=>"Inteligo",
+    // "5"=>"mBank",
+    // "6"=>"CitiConnect",
+    // "7"=>"PayU",
+    // "8"=>"WBK",
+    // "9"=>"SMS",
+    "11"=>"Przelew",
+    "12"=>"Przelewy24",
+    "20"=>"PlatnosciPL",
+    "21"=>"Allpay",
+    "101"=>"PayPal",
+    "110"=>"P³atno¶æ Kart±",
+    // "30"=>"AllPay",
+    "999"=>"DefaultPay",
+    );
+
+    /**
+    *Aktywacja wybranej metody platnosci
+    */
+    var $pay_method_active=array
+    (
+    "1"=>1,
+    "11"=>1,
+    "110"=>0,
+    );
+
+
+
+    /**
+    * Rodzaj prezentacji kategorii
+    * "treeview" - dynamiczne JS+DHTML, "standard" - statyczne z przeladowaniem strony
+    */
+    var $category=array
+    (
+    "type"=>"standard",
+    );
+
+    /**
+    * Przegladarki, ktore nie obs³uguj± javascript wymaganego dla Treeview.
+    *
+    * zachowana dla zgodno?ci
+    * @deprecated since 3.0
+    */
+    var $browsers_nojavascript=array();
+    // var $browsers_nojavascript=array("Mozilla/4","konqueror","safari");
+
+    /**
+    * Dostepno¶æ. Tablica ID->nazwa.
+    * Warto¶æ tablicy jest definiowana dynamicznie w ./auto_config/user_config.inc.php
+    */
+    var $availabale=array();
+
+    /**
+    * @var array tablica ze zmiennymi, ktore sa zpisywane przez uzytkwonika w ./auto_config/user_config.inc.php
+    */
+    var $user_vars=array("db","ftp","salt","md5_pin","license","auth_sign","config_setup",
+    "order_points","available","currency_data","currency_name",
+    "category","stats","merchant","order_email","from_email","newsletter_email",
+    "www","currency","cd_setup","theme","themes_active",
+    "record_row_type_default","producers_category_filter","google",
+    "price_type","currency","products_on_page","google","image",
+    "main_order_default","vat_confirm","id_start_orders_default","newsedit_columns_default",
+    "lang","lang_id","lang_active","currency_lang_default",
+    "category_multi","newsedit","newsletter","currency_show_form","cyfra_photo",
+    "basket_photo","htdocs_lang","pay_method_active","random_on_page","themes","theme","fields",
+    "editable_themes","admin_lang","home","in_category_down","catalog_mode","rss_link","happy_hour"	,"country_select",
+    "langs_symbols","langs_names","langs_active","langs_encoding","users_online","unit","id_shop","ssl","catalog_mode_options",
+    "ranking1_max_length","ranking2_max_length","ranking1_enabled","ranking2_enabled","depository",
+    "basket_ext","basket_wishlist","display_availability","show_user_id", "ssl"
+    );
+
+    // w³±czenie linków rss pod newsami
+    var $rss_link="1";
+	
+    // wy³±czenie poszerzonych informacji o produkcie w koszyku
+    var $basket_ext="0";
+
+    var $themes_active=array();
+    // w³±czenie trybu dla programistu
+    var $debug=0;
+    // w³±czenie trybu katalogowego - wy³±czenie koszyka
+    var $catalog_mode=0;
+    // opcje katalogu
+    var $catalog_mode_options=array(
+    "currency"=>"0",
+    "users"=>"0",
+    "newsletter"=>"0",
+    "newsedit"=>"0",
+    "price"=>"0",
+    );
+    // [1-5] ilosc porownywanych kategorii przy liscie produktow z tej samej kategorii
+    var $in_category_down=3;
+    // czy promocje, nowosci oraz wyszukiwanie maja zalezec od wybranego producenta?
+    var $producers_category_filter="yes";
+    // wprowadz id producenta i odpowiedni dla niego temat
+    var $themes_producers=array("12"=>"art_orange");
+    // wprowadz id kategorii i odpowieni temat dla danej kategorii np. 18, 18_1, 18_1_4 itp.
+    var $themes_category=array("18"=>"art_orange");
+    // end plugins
+
+
+    /**
+    * Ocena ryzyka transakcji  \@depend  $lang->pay_fraud
+    * true - nie wyswietlaj ostrzezenia, false - wyswietl ostrzezenie przy transakcji
+    * wartosc <0 oznacza inne zagrozenia, ktore nalezy zglosic pilnie do amdinistratora
+    */
+    var $pay_fraud=array
+    (
+    "1"=>-1,
+    "2"=>-1,
+    "10"=>-1,
+    "300"=>true,
+    "301"=>true,
+    "302"=>false,
+    "303"=>false
+    );
+
+    /**
+    * Ilosc dni przed koncem terminu rozliczenia transakcji, kiedy system ostrzega sprzedawce o koniecznosci potwierdzenia transakcji
+    */
+    var $order_alert_days=3;
+
+    /**
+    * Ilo¶æ dni, po ktorych transakcja nie bedzie przyjeta wg. id_pay_method
+    */
+    var $order_timeout=array("2"=>7,
+    "3"=>7,
+    "4"=>30
+    );
+
+    /**
+    * Okre¶lenie kolumn sortowania wg parametru $order - dla tablicy main
+    */
+    var $dbedit_order_names=array('main'=>array
+    (
+    "1"=>"name",
+    "-1"=>"name DESC",
+    "2"=>"price_brutto",
+    "-2"=>"price_brutto DESC",
+    "3"=>"producer",
+    "-3"=>"producer DESC",
+    "default"=>"price_brutto"
+    )
+    );
+
+    var $default_country = 'PL';
+
+    /**
+    * Domy¶lna konfiguracja nazwy, tytu³u strony itp.
+    */
+    var $google=array("title"=>"SOTEeSKLEP",
+    "keywords"=>"sklep internetowy",
+    "description"=>"sklep internetowy");
+
+    var $users_online = 1;
+    
+    var $unit = "kg";
+    
+    var $supported_encoding = array (
+    "utf-8" => "000|utf-8",
+    "ISO" => array(
+        "Afrikaans (iso-8859-1 Latin-1)"                              =>  "001|iso-8859-1" ,
+        "Albanian (iso-8859-1 Latin-1)"                               =>  "002|iso-8859-1" ,
+        "Albanian (iso-8859-16 Latin-10 South-Eastern European)"      =>  "003|iso-8859-16",
+        "Arabic (iso-8859-6 Arabic)"                                  =>  "004|iso-8859-6" ,
+        "Azerbaijani (iso-8859-9 Latin-5 Turkish)"                    =>  "005|iso-8859-9" ,
+        "Baltic Rim (iso-8859-13 Latin-7 Baltic Rim)"                 =>  "006|iso-8859-13",
+        "Basque (iso-8859-1 Latin-1)"                                 =>  "007|iso-8859-1" ,
+        "Belarusian (iso-8859-5 Cyrillic)"                            =>  "008|iso-8859-5" ,
+        "Brazilian portuguese (iso-8859-1 Latin-1)"                   =>  "009|iso-8859-1" ,
+        "Breton (iso-8859-14 Latin-8 Celtic)"                         =>  "010|iso-8859-14",
+        "Bulgarian (iso-8859-5 Cyrillic)"                             =>  "011|iso-8859-5" ,
+        "Catalan (iso-8859-1 Latin-1)"                                =>  "012|iso-8859-1" ,
+        "Croatian (iso-8859-2 Latin-2)"                               =>  "013|iso-8859-2" ,
+        "Croatian (iso-8859-16 Latin-10 South-Eastern European)"      =>  "014|iso-8859-16",
+        "Czech (iso-8859-2 Latin-2)"                                  =>  "015|iso-8859-2" ,
+        "Danish (iso-8859-1 Latin-1)"                                 =>  "016|iso-8859-1" ,
+        "Dutch (iso-8859-1 Latin-1)"                                  =>  "017|iso-8859-1" ,
+        "English (iso-8859-1 Latin-1)"                                =>  "018|iso-8859-1" ,
+        "English (iso-8859-15 Latin-9 Latin-0)"                       =>  "019|iso-8859-15",
+        "Esperanto (iso-8859-3 Latin-3 South European)"               =>  "020|iso-8859-3" ,
+        "Estonian (iso-8859-1 Latin-1)"                               =>  "021|iso-8859-1" ,
+        "Estonian (iso-8859-4 Latin-4 North European)"                =>  "022|iso-8859-4" ,
+        "Faroese (iso-8859-1 Latin-1)"                                =>  "023|iso-8859-1" ,
+        "Finnish (iso-8859-1 Latin-1)"                                =>  "024|iso-8859-1" ,
+        "Finnish (iso-8859-16 Latin-10 South-Eastern European)"       =>  "025|iso-8859-16",
+        "French (iso-8859-1 Latin-1)"                                 =>  "026|iso-8859-1" ,
+        "French (iso-8859-15 Latin-9 Latin-0)"                        =>  "027|iso-8859-15",
+        "French (iso-8859-16 Latin-10 South-Eastern European)"        =>  "028|iso-8859-16",
+        "Gaelic (iso-8859-14 Latin-8 Celtic)"                         =>  "029|iso-8859-14",
+        "Galician (iso-8859-1 Latin-1)"                               =>  "030|iso-8859-1" ,
+        "German (iso-8859-1 Latin-1)"                                 =>  "031|iso-8859-1" ,
+        "German (iso-8859-15 Latin-9 Latin-0)"                        =>  "032|iso-8859-15",
+        "German (iso-8859-16 Latin-10 South-Eastern European)"        =>  "033|iso-8859-16",
+        "Greek (iso-8859-7 Greek)"                                    =>  "034|iso-8859-7" ,
+        "Greenlandic (iso-8859-4 Latin-4 North European)"             =>  "035|iso-8859-4" ,
+        "Hebrew (iso-8859-8)"                                         =>  "036|iso-8859-8" ,
+        "Hungarian (iso-8859-2 Latin-2)"                              =>  "037|iso-8859-2" ,
+        "Hungarian (iso-8859-16 Latin-10 South-Eastern European)"     =>  "038|iso-8859-16",
+        "Indonesian (iso-8859-1 Latin-1)"                             =>  "039|iso-8859-1" ,
+        "Icelandic (iso-8859-1 Latin-1)"                              =>  "040|iso-8859-1" ,
+        "Irish (iso-8859-1 Latin-1)"                                  =>  "041|iso-8859-1" ,
+        "Irish Gaelic (iso-8859-16 Latin-10 South-Eastern European)"  =>  "042|iso-8859-16",
+        "Italian (iso-8859-1 Latin-1)"                                =>  "043|iso-8859-1" ,
+        "Italian (iso-8859-16 Latin-10 South-Eastern European)"       =>  "044|iso-8859-16",
+        "Latin (iso-8859-1 Latin-1)"                                  =>  "045|iso-8859-1" ,
+        "Latvian (iso-8859-4 Latin-4 North European)"                 =>  "046|iso-8859-4" ,
+        "Lithuanian (iso-8859-4 Latin-4 North European)"              =>  "047|iso-8859-4" ,
+        "Malay (iso-8859-1 Latin-1)"                                  =>  "048|iso-8859-1" ,
+        "Maltese (iso-8859-3 Latin-3 South European)"                 =>  "049|iso-8859-3" ,
+        "Nordic (iso-8859-10 Latin-6)"                                =>  "050|iso-8859-10",
+        "Norwegian (iso-8859-1 Latin-1)"                              =>  "051|iso-8859-1" ,
+        "Polish (iso-8859-2 Latin-2)"                                 =>  "052|iso-8859-2" ,
+        "Polish (iso-8859-16 Latin-10 South-Eastern European)"        =>  "053|iso-8859-16",
+        "Portuguese (iso-8859-1 Latin-1)"                             =>  "054|iso-8859-1" ,
+        "Portuguese (iso-8859-15 Latin-9 Latin-0)"                    =>  "055|iso-8859-15",
+        "Romanian (iso-8859-1 Latin-1)"                               =>  "056|iso-8859-1" ,
+        "Romanian (iso-8859-2 Latin-2)"                               =>  "057|iso-8859-2" ,
+        "Romanian (iso-8859-16 Latin-10 South-Eastern European)"      =>  "058|iso-8859-16",
+        "Russian (iso-8859-5 Cyrillic)"                               =>  "059|iso-8859-5" ,
+        "Sami (iso-8859-4 Latin-4 North European)"                    =>  "060|iso-8859-4" ,
+        "Scotish (iso-8859-1 Latin-1)"                                =>  "061|iso-8859-1" ,
+        "Serbian (in Latin transcription) (iso-8859-2 Latin-2)"       =>  "062|iso-8859-2" ,
+        "Serbocroatian (iso-8859-2 Latin-2)"                          =>  "063|iso-8859-2" ,
+        "Slovak (iso-8859-2 Latin-2)"                                 =>  "064|iso-8859-2" ,
+        "Slovenian (iso-8859-2 Latin-2)"                              =>  "065|iso-8859-2" ,
+        "Slovenian (iso-8859-16 Latin-10 South-Eastern European)"     =>  "066|iso-8859-16",
+        "Sorbian (Upper and Lower) (iso-8859-2 Latin-2)"              =>  "067|iso-8859-2" ,
+        "Spanish (iso-8859-1 Latin-1)"                                =>  "068|iso-8859-1" ,
+        "Spanish (iso-8859-15 Latin-9 Latin-0)"                       =>  "069|iso-8859-15",
+        "Swahili (iso-8859-1 Latin-1)"                                =>  "070|iso-8859-1" ,
+        "Swedish (iso-8859-1 Latin-1)"                                =>  "071|iso-8859-1" ,
+        "Thai (iso-8859-11)"                                          =>  "072|iso-8859-11",
+        "Turkish (iso-8859-3 Latin-3 South European)"                 =>  "073|iso-8859-3" ,
+        "Turkish (iso-8859-9 Latin-5 Turkish)"                        =>  "074|iso-8859-9" ,
+        "Ukrainian (iso-8859-5 Cyrillic)"                             =>  "075|iso-8859-5" ,
+        "Welsh (iso-8859-14 Latin-8 Celtic)"                          =>  "076|iso-8859-14",
+        "(iso-8859-12)"                                               =>  "077|iso-8859-12",
+        ),
+    "Windows" => array (
+        "Latin I (windows-1252)"                     =>  "078|windows-1252",
+        "Albanian (windows-1250 Central Europe)"     =>  "079|windows-1250",
+        "Arabic (windows-1256)"                      =>  "080|windows-1256",
+        "Bulgarian (windows-1251 Cyrillic)"          =>  "081|windows-1251",
+        "Croatian (windows-1250 Central Europe)"     =>  "082|windows-1250",
+        "Czech (windows-1250 Central Europe)"        =>  "083|windows-1250",
+        "Estonian (windows-1257 Baltic)"             =>  "084|windows-1257",
+        "Greek (windows-1253)"                       =>  "085|windows-1253",
+        "Hebrew (windows-1255)"                      =>  "086|windows-1255",
+        "Hungarian (windows-1250 Central Europe)"    =>  "087|windows-1250",
+        "Latvian (windows-1257 Baltic)"              =>  "088|windows-1257",
+        "Lithuanian (windows-1257 Baltic)"           =>  "089|windows-1257",
+        "Polish (windows-1250 Central Europe)"       =>  "090|windows-1250",
+        "Romanian (windows-1250 Central Europe)"     =>  "091|windows-1250",
+        "Russian (windows-1251 Cyrillic)"            =>  "092|windows-1251",
+        "Serbian (windows-1251 Cyrillic)"            =>  "093|windows-1251",
+        "Slovak (windows-1250 Central Europe)"       =>  "094|windows-1250",
+        "Slovene (windows-1250 Central Europe)"      =>  "095|windows-1250",
+        "Thai (cp874)"                               =>  "096|cp874"       ,
+        "Turkish (windows-1254)"                     =>  "097|windows-1254",
+        "Ukrainian (windows-1251 Cyrillic)"          =>  "098|windows-1251",
+        "Vietnamese (windows-1258)"                  =>  "099|windows-1258",
+        ),
+    "DOS" => array (
+        "Latin US (cp437)"     =>  "100|cp437",
+        "Greek (cp737)"        =>  "101|cp737",
+        "BaltRim (cp775)"      =>  "102|cp775",
+        "Latin1 (cp850)"       =>  "103|cp850",
+        "Latin2 (cp852)"       =>  "104|cp852",
+        "Cyryllic (cp855)"     =>  "105|cp855",
+        "Turkish (cp857)"      =>  "106|cp857",
+        "Portuguese (cp860)"   =>  "107|cp860",
+        "Iceland (cp861)"      =>  "108|cp861",
+        "Hebrew (cp862)"       =>  "109|cp862",
+        "Canada (cp863)"       =>  "110|cp863",
+        "Arabic (cp864)"       =>  "111|cp864",
+        "Nordic (cp865)"       =>  "112|cp865",
+        "Cyryllic (cp866)"     =>  "113|cp866",
+        "Greek2 (cp869)"       =>  "114|cp869",
+        ),
+    "MAC" => array(
+        "x-mac-cyrillic"  => "115|x-mac-cyrillic",
+        "x-mac-greek"     => "116|x-mac-greek",
+        "x-mac-icelandic" => "117|x-mac-icelandic",
+        "x-mac-ce"        => "118|x-mac-ce",
+        "x-mac-roman"     => "119|x-mac-roman",
+        ),
+    "..." => array(
+        "cp037"                       => "120|cp037",
+        "cp424"                       => "121|cp424",
+        "cp500 "                      => "122|cp500",
+        "cp856"                       => "123|cp856",
+        "cp875"                       => "124|cp875",
+        "cp1006"                      => "125|cp1006",
+        "cp1026"                      => "126|cp1026",
+        "koi8-r (Cyrillic)"           => "127|koi8-r",
+        "koi8-u (Cyrillic Ukrainian)" => "128|koi8-u",
+        ),
+    );
+        
+
+    /**
+    * Adres serwisowy dot. komunikatów systemowych.
+    */   
+    var $service_email="service_soteshop@sote.pl";
+    
+    /**
+    * Konfiguracja maksymalnych d³ugo¶ci list produktów polecanych
+    */
+    var $ranking1_max_length=5;
+    var $ranking2_max_length=5;
+    
+    var $ranking1_enabled='1';
+    var $ranking2_enabled='1';
+    
+    var $depository = array(
+        'show_unavailable' => "1",
+        'general_min_num' => "5",
+        'update_num_on_action' => 'on_paid',
+        'return_on_cancel' => "1",
+        'available_type_to_hide'=>"3",
+        'display_availability'=>"1",
+    );
+    
+    var $basket_wishlist = array(
+        'prod_ext_info' => "0",
+    );
+
+/*
+
+ "euc" => "Japanese (ja-euc)",
+ "sjis" => "Japanese (ja-sjis)",
+ "ks_c_5601-1987" => "Korean (ko-ks_c_5601-1987)",
+ "dos-866" => "Russian (ru-dos-866)",
+ "koi8-r" => "Russian (ru-koi8-r)",
+ "tis-620" => "Thai (th-tis-620)",
+    );
+*/  
+    /**
+    * Okresl katalog "tematu"
+    *
+    * @return string katalog np. /home/www/webapps/htdocs/themes/_pl/standard
+    */
+    function theme_dir(){
+        global $_SERVER;
+        $this->theme_dir=$_SERVER['DOCUMENT_ROOT']."/themes/_".$this->lang."/".$this->theme;
+        return $this->theme_dir;
+    } // end theme_dir()
+
+} // end class Config
+
+// ------------------------------ koniec konfiguracji----------------------------------------
+
+// odczytaj konfiguracje wygenerowana automatycznie i utworz obiekt $config
+require_once("config/auto_config/config.inc.php");
+
+
+// odczytaj konfiguracje uzytkownika (ustawiane przez panel on-line)
+require_once("config/auto_config/user_config.inc.php");
+
+
+// odczytaj dane licencji
+$lckey=substr($config->license['nr'],12,2);
+switch ($lckey) {
+    case "01": $__nccp="0x1388";  break;
+    case "11": $__nccp="0x1388";  break;
+    case "02": $__nccp="0x01f4";  break;
+    default: $__nccp="0x01f4"; break;
+}
+// end
+
+// odczytaj konfiguracje nccp
+require_once ("config/auto_config/nccp_config.inc.php");
+
+
+if (empty($config)) {
+    $config =& new Config;
+}
+
+if (!in_array("multi_lang",$config->plugins)) {
+    $config->lang="pl";
+    $config->languages=array("pl");
+    $config->languages_names=array("pl"=>"Polski");
+}
+
+$config->theme_dir();
+
+/**
+* Ustaw odpowiedni jezyk dla panelu
+*/
+if ($shop->admin) {    
+    $config->lang=$config->admin_lang;
+}
+
+
+// sprawdz czy jest zdefiniowany indywidualny klucz aplikacji
+$secure_key=ini_get("disable_function");
+if ((! empty($secure_key)) && (eregi("^[0-9a-z]${32}"))) {
+    $config->salt=$secure_key;
+}
+
+// wlacz demo tylko w panelu demo
+if (ereg("htdocs$",$DOCUMENT_ROOT)) {
+    $config->demo="no";
+}
+
+// sprawdz przegladarke i jesli przegladarka nie obsluguje javascript (tj. treeview) to wlacz statyczne menu
+foreach ($config->browsers_nojavascript as $browser) {
+    if (eregi($browser,$_SERVER['HTTP_USER_AGENT'])) {
+        $config->category['type']="standard";
+    }
+} // end foreach
+
+// start cd:
+if ((in_array("cd",$config->plugins)) && (@$config->cd_setup['cd']==1) && ($_SERVER['REMOTE_ADDR']==@$config->cd_setup['IP']) && ($shop->admin==0))  {
+    $config->cd=1;
+    $config->lang_active=array();         // dezaktywuj linki do roznych wersji jezykowych
+    $config->category['type']="standard"; // wlacz statyczne kategorie
+    // sprawdz jakie ceny maj± byæ wy¶wietlane
+    if ($config->cd_setup['price']=="netto") {
+        $config->price_type="netto";
+    }
+} else $config->cd=0;
+// end cd:
+
+if (!in_array("extbasket",$config->plugins)) {
+    $config->basket_photo=0;
+}
+
+// nowy obiektowy koszyk
+
+ $config->new_basket=true;
+
+// nie wstawiaæ zakoñczenia PHP
diff -ruN ../soteesklep3/htdocs/go/_basket/include/my_ext_basket.inc.php soteesklep3/htdocs/go/_basket/include/my_ext_basket.inc.php
--- ../soteesklep3/htdocs/go/_basket/include/my_ext_basket.inc.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/htdocs/go/_basket/include/my_ext_basket.inc.php	2006-08-23 16:59:14.000000000 +0200
@@ -0,0 +1,1394 @@
+<?php
+require_once("include/cookie.inc");
+
+require_once("./include/my_new_basket.inc.php");
+require_once("./include/points_buy.inc.php");
+/**
+ * Klasa koszyka oraz przechowalni produktów
+ * Zapis do bazy danych, odtwarzanie na podstawie ciastka oraz sesji
+ * Podmieniane podczas logowania uzytkownika
+ * Mo¿liwo¶æ przenoszenia produktów pomiêdzy jednym a drugim
+ * Weryfikacja obecno¶ci produktów w bazie i obecno¶ci poszczególnych opcji produktów
+ * Dodawanie, usuwanie i edycja seryjna
+ *
+ * @author lukasz@sote.pl
+ * @package basket
+ * @version $Id: my_ext_basket.inc.php,v 2.42 2006/08/16 10:22:26 lukasz Exp $
+ *
+ */
+class My_Ext_Basket extends My_New_Basket {
+
+    /**
+    * @var bool czy w tym obiekcie wolno trzymaæ nieaktywne obieky
+    * @access private
+    */
+	var $_allow_not_avail; 
+
+	var $_move_target; // obiekt do którego s± przenoszone produkty je¿eli nie wolno trzymaæ nieaktywnych w tym obiekcie
+
+	var $_id_basket; // id wpisu do bazy danych zaw obecny koszyk
+
+	var $_sess_name; // nazwa bie¿±cego obiektu w sesji i ciastku
+
+	var $_auto_add=false; // czy dodawane produkty sa wewnêtrznie (³adowanie z bazy danych)
+
+	var $_new_on_add=false; // czy stworzyæ nowe wpisy (cookie i baza) przy dodaniu pierwszego produktu
+
+	var $_display_above=true; // czy to jest pierwszy element wy¶wietlany ? (koszyk czy przechowalnia)
+
+	var $_key=''; // hash obiektów
+
+	var $mode=''; // tryb obiektu (punkty/normalny/brak)
+
+	var $point_check; // obiekt sprawdzaj±cy dostêpno¶æ produktu - zale¿nie od trybu ($mode) i innych parametrów.
+
+	var $_error=false; // flaga b³êdu
+
+	var $error_message=''; // je¿eli wyst±pi b³±d to tutaj bêdzie widoczny komunikat tekstowy.
+
+	var $_error_code=0; // kod komunikatu b³êdu
+
+	/**
+	 * Konstruktor
+	 *
+	 * @return My_Ext_Basket
+	 * @param string $type - typ obiektu (wishlist?)
+	 */
+	function My_Ext_Basket($type='') {
+		//okre¶lamy czy dzia³amy na koszyku czy przechowalnu
+		if ($type=='wishlist') {
+			$this->_allow_not_avail=true;
+			$this->mode='standard';
+			$this->_sess_name='global_wishlist_data';
+			$this->_display_above=false;
+		} else {
+			$this->_allow_not_avail=false;
+			$this->mode='unset';
+			$this->_sess_name='global_basket_data';
+		}
+		// obiekt sprawdzaj±cy dostêpno¶æ produktu
+		$this->point_check=& new Points_Buy();
+	}
+
+	/**
+	 * Podstawowe rzeczy które s± konieczne przy prze³adowaniu obiektu
+	 * nie znajduj± sie w konstruktorze poniewa¿ obiekt musi ju¿ istnieæ aby wywo³ywaæ jego metody
+	 * a dodawanie odczytanych z bazy produktów odbywa siê przez wewnêtrzn± metodê
+	 *
+	 */
+	function init() {
+		// sprawdzamy przypadek wywo³ania
+		if ($this->_sess_is_good()) {
+			// jest sesja
+			$this->_load_from_session();
+			if ($this->_display_above) return (0);
+		} else {
+			if ($this->_verify_cookie()) {
+				// jest ciastko
+				$this->_load_from_db();
+			} else {
+				// niema sesji ani ciastka - przy pierwszym dodanym producie dodajemy nowy koszyk/przechowalnie
+				$this->_flush_cookie();
+				$this->_new_on_add = true;
+			}
+		}
+		if ($this->isEmpty() ) {
+			$this->mode='unset';
+//			&& $this->_display_above
+		}
+	}
+
+
+	/**
+	 * Zapisujemy dane w sesji, obliczamy koszta
+	 *
+	 */
+	function register() {
+		global $sess;
+		global $global_wishlist_data;
+		global $global_wishlist_count;
+		global $global_basket_amount,$global_basket_count,$global_order_amount,$global_basket_data,$global_delivery;
+		$this->calc();
+		// niektore rzeczy takie jak liczba produktow w koszyku maja byc widoczne tylko dla koszyka a nie przechowalni
+		if ($this->_display_above) {
+			$global_basket_amount=$this->amount;
+			$global_basket_count=$this->num;
+			$sess->register("global_basket_amount",$global_basket_amount);
+			$sess->register("global_basket_count",$global_basket_count);
+			$global_order_amount=@$global_delivery['cost']+$global_basket_amount;
+			$sess->register("global_order_amount",$global_order_amount);
+		} else {
+			$global_wishlist_count=$this->num;
+			$sess->register("global_wishlist_count",$global_wishlist_count);
+		}
+		// zapamiêtaj stan koszyka w sesji
+		$global_basket_data=array("items"=>$this->items,"count"=>$this->_count,"hash"=>$this->_key,"id_basket"=>$this->_id_basket,"mode"=>$this->mode);
+		$global_wishlist_data=$global_basket_data;
+		if ($this->_sess_name=='global_basket_data') {
+			$sess->register('global_basket_data',$global_basket_data);
+		} else {
+			$sess->register('global_wishlist_data',$global_wishlist_data);
+		}
+		// kwota do zaplazy z kosztami dostawy
+		if (! empty($_SESSION['global_delivery'])) {
+			$global_delivery=$_SESSION['global_delivery'];
+		}
+	}
+
+	/**
+	 * £adujemy dane z sesji
+	 *
+	 * @return void
+	 */
+	function _load_from_session() {
+		global $_SESSION;
+		$basketdata=@$_SESSION[$this->_sess_name];
+		// lista produktów
+		$this->items=$basketdata['items'];
+		// liczba produktów
+		$this->_count=$basketdata['count'];
+		// id koszyka
+		$this->_id_basket=$basketdata['id_basket'];
+		// klucz koszyka
+		$this->_key=@$basketdata['hash'];
+		$this->mode=@$basketdata['mode'];
+
+		return;	
+	}
+
+	/**
+	 * Sprawdzamy czy jest sesja dla tego obiektu
+	 *
+	 * @return bool
+	 */
+	function _sess_is_good() {
+		global $_SESSION;
+		//        return true;
+		// czy istnieje sesja z danymi
+		// i czy zawiera identyfikator koszyka
+		if (isset($_SESSION[$this->_sess_name])) {
+			$basketdata=$_SESSION[$this->_sess_name];
+			if (! empty($basketdata['id_basket']) || $this->_display_above) {
+				return true;
+			}
+		} else {
+			return false;
+		}
+	}
+
+	/**
+	 * Czy¶cimy zawarto¶æ ciastka
+	 * wywo³ywane je¿eli id obiektu w ciastku jest nieprawid³owe
+	 *
+	 */
+	function _flush_cookie() {
+		global $cookie;
+		$cookie->write_array($this->_sess_name,array(""));
+		$this->_new_on_add=true;
+	}
+
+	/**
+	 * Sprawdzamy poprawno¶æ danych w ciastku
+	 * innymi s³owy sprawdzamy czy relacja id do id w bazie i hashe z ciastka siê zgadzaj±
+	 *
+	 * @return bool
+	 */
+	function _verify_cookie() {
+		global $db;
+		global $cookie;
+		// ³adujemy dane z ciastka
+		$id_basket=$cookie->read_array($this->_sess_name);
+		$hash=$cookie->read_array('hash');
+		// sprawdzamy czy podane warto¶ci istniej±
+		if (!empty($id_basket) && !empty($hash)) {
+			// sprawdzamy czy w bazie wszystko jest ok
+			$query="SELECT id FROM basket WHERE id=? AND `hash`=?";
+			$prepared_query=$db->PrepareQuery($query);
+			$db->QuerySetInteger($prepared_query,1,$id_basket);
+			$db->QuerySetText($prepared_query,2,$hash);
+			if ($prepared_query) {
+				$result=$db->ExecuteQuery($prepared_query);
+				if ($result!=0) {
+					$num_rows=$db->NumberOfRows($result);
+					// czy dostali¶my dok³adnie jeden wynik ?
+					if ($num_rows==1) {
+						// good - mo¿na ustawiæ zawarto¶æ ciastka jako aktywne
+						$this->_id_basket=$id_basket;
+						$this->_key=$hash;
+						return true;
+					} else return false;
+				} else return false;
+			} else return false;
+		} else return false;
+	}
+
+	/**
+	 * Zapis ciastka - utworzenie nowego wpisu do bazy danych.
+	 *
+	 * @return bool
+	 */
+	function _write_cookie() {
+		global $cookie;
+		// czytamy klucz z ciastka
+		// istotne bo nie wiemy czy najpierw zapisali¶my klucz do tego obiektu czy do jego brata
+		// (relacja koszyk <=> przechowalnia)
+		$key=$cookie->read_array('hash');
+		// je¿eli jest ju¿ klucz w ciastku to go wykorzystaj
+		// je¿eli nie - wygeneruj nowy
+		if (($key==null) || empty($key)) {
+			// generujemy klucz
+			$key=md5(time().$this->_sess_name);
+		}
+		// zapisujemy klucz obiektu
+		$this->_key=$key;
+		//tworzymy wpis do bazy danych
+		$this->_new_db_basket();
+		// je¿eli poprawnie nadano nowe id to je zapisz
+		if ($this->_id_basket!=0) {
+			// zapisujemy wygenerowane dane do ciastka
+			$cookie->write_array($this->_sess_name,array($this->_id_basket));
+			$cookie->write_array('hash',array($key));
+		} else return false;
+		return true;
+	}
+
+	/**
+	 * Stwórz nowy wpis do bazy danych zawieraj±cy koszyk
+	 * i ustaw $this->_id_basket na tej podstawie
+	 *
+	 */
+	function _new_db_basket() {
+		if ($this->_display_above) {
+			$this->_id_basket=0;
+			return 0;
+		}
+		global $db;
+		$query="INSERT INTO `basket` (`hash`,`date_update`) VALUES (?,NOW());";
+		$prepared_query=$db->PrepareQuery($query);
+		if ($prepared_query) {
+			$db->QuerySetText($prepared_query,1,$this->_key);
+			$db->QuerySetText($prepared_query,2,'NOW()');
+			$db->ExecuteQuery($prepared_query);
+			$query="SELECT max(id) FROM basket";
+			$result_id=$db->Query($query);
+			if ($result_id!=0) {
+				// szukamy ostatniego dodanego wiersza
+				$num_rows=$db->NumberOfRows($result_id);
+				if ($num_rows==1) {
+					$id=$db->FetchResult($result_id,0,'max(id)');
+					$this->_id_basket=$id;
+				} else return 4; // b³±d odczytu nowego pola (z³a liczba pól zwrócona)
+			} else return 5; // b³±d odczytu nowego pola (nie dodano pola ?)
+		} else return 6; //b³±d dodania nowego pola
+		// wszystko posz³o dobrze :)
+		return 1;
+	}
+
+	/**
+	 * £adowanie koszyka/przechowalni z bazy danych
+	 *
+	 */
+	function _load_from_db() {
+		if ($this->_display_above) {
+			//			print "Nic nie ³aduje!!!!";
+			return (0);
+		}
+		global $db;
+		$data='';
+		$query="SELECT data FROM basket WHERE id=?";
+		$prepared_query=$db->PrepareQuery($query);
+		if (!empty($this->_id_basket)) {
+			if ($prepared_query) {
+				// za³aduj dane dot _tego_ obiektu
+				$db->QuerySetInteger($prepared_query,1,$this->_id_basket);
+				$result=$db->ExecuteQuery($prepared_query);
+				if ($result!=0) {
+					$data=$db->FetchResult($result,0,'data');
+					$data=unserialize($data);
+				} else return 2; // brak rezultatów
+			} else return 3;// b³±d zapytania
+		} else return 4;// brak zdefiniowanego id
+		// czy jest co przetwarzaæ ?
+		if (!empty($data)) {
+			// blokada na sprawdzanie xml_options
+			$this->_auto_add=true;
+			foreach ($data as $value=>$key) {
+				if ($data[0]!="Blank") {
+					$user_id=$key['user_id'];
+					$num=$key['num'];
+					$xml_options=@$key['xml_options'];
+					$xml_options=unserialize($xml_options);
+					// w koszyku funkcjonuje id a nie user_id
+					$id=$this->_get_id($user_id);
+					$this->add_prod($id,$num,$xml_options,'','',true);
+				} else {
+					$this->items=array();
+					$this->_count=0;
+					$this->basket_amount=0;
+					$this->num=0;
+					$this->amount=0;
+				}
+			}
+			// zdjêcie blokady
+			$this->_auto_add=false;
+		}
+		return (0);
+	}
+
+	/**
+	 * Zapisujemy wszystko w bazie danych
+	 *
+	 */
+	function _save_to_db() {
+		if ($this->_display_above) {
+			return (0);
+		}
+		global $db;
+		$data=array();
+		if (true) {
+			if (!empty($this->items)) {
+				// zapisujemy dane potrzebne do odtworzenia koszyka
+				foreach ($this->items as $value=>$key) {
+					$num=$key['num'];
+					$id=$key['ID'];
+					if (isset($key['options'])) {
+						$xml_options=$key['options'];
+						$xml_options=serialize($xml_options);
+					} else $xml_options='';
+					// zapisujemy user_id poniewa¿ ono nie ulega zmianom
+					$user_id=$this->_get_user_id($id);
+					$data[]=array("user_id"=>$user_id,"num"=>$num,"xml_options"=>$xml_options);
+				}
+			}
+			if (empty($data)) { $data[]="Blank" ;}
+			$data=serialize($data);
+			$query="UPDATE basket SET data=? WHERE id=?";
+			$prepared_query=$db->PrepareQuery($query);
+			if ($prepared_query && !empty($this->_id_basket)) {
+				$db->QuerySetText($prepared_query,1,$data);
+				$db->QuerySetInteger($prepared_query,2,$this->_id_basket);
+				$result=$db->ExecuteQuery($prepared_query);
+				if ($result!=0) {
+					return 2; // b³±d podczas zapisywania informacji w bazie
+				}
+			} return 3; // b³±d przygotowanego zapytania/puste id koszyka
+		} return 4;// b³±d pobierania listy produktów
+	}
+
+	/**
+	 * Wyci±gnij z bazy danych user_id produktu na podstawie jego id
+	 *
+	 * @param int $id
+	 * @return string
+	 */
+	function _get_user_id($id) {
+		global $mdbd;
+		$user_id='';
+		if (empty($id)) return "unknown";
+		$user_id=$mdbd->select('user_id','main',"id=?",array("$id"=>"int"));
+		return $user_id;
+	}
+
+	/**
+	 * Wyci±gnij z bazy danych id produktu na podstawie jego user_id
+	 *
+	 * @param string $user_id
+	 * @return int
+	 */
+	function _get_id($user_id) {
+		global $mdbd;
+		$id=0;
+		$id=$mdbd->select('id','main','user_id=?',array("$user_id"=>"text"));
+		return $id;
+	}
+
+	/**
+	 * Dodaj produkt do obiektu
+	 *
+	 * @param int $id
+	 * @param int $num
+	 * @param mixed $xml_options
+	 * @param mixed $basket_cat
+	 * @param mixed $ext_basket
+	 * @param bool $ignore_lock
+	 */
+	function add_prod($id,$num=1,$xml_options='',$basket_cat='',$ext_basket='',$ignore_lock=false) {
+		// produkt jest niedostepny do tego stopnia ze w ogole nie figuruje w bazie danych
+		// sprawdz czy produkty maja byc sprawdzane pod katem obecnosci.
+		if ($this->point_check->check_avail($id,$this->mode)!='1') {
+			$this->error($this->point_check->check_avail($id,$this->mode));
+//			$this->_show_error();
+			return (0);
+		}
+		if ($this->mode=='points') {
+			$this->add_for_points($id,$num,$xml_options);
+			return (0);
+		}
+		if (!$this->_allow_not_avail && $this->_auto_add) {
+			if ($this->_get_user_id($id)=='unknown') {
+				// produkt jest niedostepny
+				$this->_move_target->_add_unknown_product($id,$num);
+				return;
+			} else if ($this->_check_avail($id,$xml_options)) {
+				// produkt jest dostepny - dodajemy
+				$this->add($id,$xml_options,$num,$basket_cat,$ext_basket,$ignore_lock);
+			} else {
+				// produkt niedostepny - dodajemy, ale do brata
+				$this->_move_target->add_prod($id,$num,$xml_options,$basket_cat,$ext_basket,$ignore_lock);
+				// zaznaczamy jako niedostepny
+				$this->_move_target->_mark_unavail($this->_count);
+			}
+			// tutaj zaczynamy dzialania na produktach ktore napewno beda dodane do tego obiektu
+		} else if ($this->_auto_add) {
+			if ($this->_get_user_id($id)=='unknown') {
+				// produkt jest niedostepny
+				$this->_add_unknown_product($id,$num);
+			} elseif (!$this->_check_avail($id,$xml_options)) {
+				// produkt jest niedostepny ale istnieje (xml_options)
+				$this->add($id,$xml_options,$num,$basket_cat,$ext_basket,$ignore_lock);
+				$this->_mark_unavail($this->_count);
+			} else {
+				$this->add($id,$xml_options,$num,$basket_cat,$ext_basket,$ignore_lock);
+			}
+		} else {
+			$this->add($id,$xml_options,$num,$basket_cat,$ext_basket,$ignore_lock);
+		}
+		// czy pozwalamy na dodawanie niedostêpnych produktów
+		// i czy dodajemy automatycznie (nie ladujac z bazy danych)
+		// czy to jest pierwsze wywolanie koszyka usera ktory nie ma ciastka, id ani wpisu ?
+		if ($this->_new_on_add) {
+			// wygeneruj id, klucz i zapisz to w ciastku
+			$this->_write_cookie();
+		}
+		// wy³±cz generowanie nowego ciastka
+		$this->_new_on_add=false;
+		// zapisz do bazy i zarejestruj
+		$this->_save_to_db();
+		return (0);
+	}
+
+	/**
+	 * Prze³adowanie zawarto¶ci koszyka - 
+	 * usuniêcie wszystkich produktów które znajduj± siê w obiekcie i ich ponowne dodanie
+	 * celem np. ponownego obliczenia ceny, rabatu itd.
+	 * wykorzystywane przy okazji logowania uzytkownika i wej¶cia w grupe rabatow±.
+	 *
+	 */
+	function reload(){
+		$old_items=$this->items;
+		$this->emptyBasket();
+		if (count($old_items)>=1) {
+			foreach ($old_items as $key=>$value) {
+				$this->add_prod($value['ID'],$value['num'],$value['data']['options'],'','',true);
+			}
+		}
+		$this->register();
+	}
+	
+	/**
+	 * Usuwamy wiele produktów
+	 *
+	 * @param array $items - array($int_id1,$int_id2)
+	 */
+	function del_many_prod($items) {
+		$this->del_many($items);
+		$this->update_points();
+		$this->_save_to_db();
+		if (empty($this->items) && $this->_display_above) {
+			$this->mode='unset';
+		}
+		return (0);
+	}
+
+	/**
+	 * Dodajemy do listy produkt który nie figuruje w bazie danych
+	 *
+	 * @param unknown_type $id
+	 * @param unknown_type $num
+	 */
+	function _add_unknown_product($id,$num) {
+		global $config;
+		global $lang;
+		global $sess;
+		global $_SESSION;
+		$link['before']="<a href=\"/?did=$id\">";
+		$link['after']="</a>";
+		foreach ($config->lang_active as $key=>$value) {
+			$sess_data[$key]=$link['before'].$lang->basket_elements['name_unavailable'].$link['after'];
+			$lang_id=array_search($key,$config->langs_symbols);
+			$sess_data["$lang_id"]=$link['before'].$lang->basket_elements['name_unavailable'].$link['after'];
+		}
+		$lang_names=$_SESSION['products_lang_name'];
+		$lang_names[$lang->basket_elements['name_unavailable']]=$sess_data;
+		$sess->register("products_lang_name",$lang_names);
+		$data=array();
+		$data['vat']=0;
+		$data['weight']=0;
+		$data['options']='';
+		$data['ID']=$id;
+		$data['lang_names']=$sess_data;
+		$data['user_id']="unavailable";
+		$this->items[++$this->_count]=array("ID"=>$id,"name"=>$lang->basket_elements['name_unavailable'],"num"=>$num,"price"=>'0',"data"=>$data,"unavail"=>1);
+		return (0);
+	}
+
+	/**
+	 * Zaznacz produkt jako niedostepny
+	 *
+	 * @param int $int_id - wewnetrzne id produktu w tabeli items
+	 */
+	function _mark_unavail($int_id) {
+		$this->items[$int_id]["unavail"]="1";
+		return (0);
+	}
+
+	/**
+	 * Zaznacz produkt jako dostepny
+	 *
+	 * @param int $int_id - wewnetrzne id produktu w tabeli items
+	 */
+	function _mark_avail($int_id) {
+		unset($this->items[$int_id]["unavail"]);
+		return (0);
+	}
+
+
+	/**
+	 * Przenosimy produkty z jednego obiektu do drugiego
+	 *
+	 * @param array $items - array ($int_id_in_basket => $is_checked)
+	 */
+	function move_many_prod($items) {
+		foreach ($items as $key => $value) {
+			$int_id=key($value);
+			$id=$this->items[$int_id]['ID'];
+			$xml_options=$this->items[$int_id]['options'];
+			$num=$this->items[$int_id]['num'];
+			$this->_move_target->add_prod($id,$num,$xml_options,'','',true);
+		}
+		$this->del_many_prod($items);
+		$this->_save_to_db();
+		return (0);
+	}
+
+	/**
+	 * Sprawd¼ czy produkt jest dostêpny
+	 *
+	 * @param int $id - id produktu
+	 * @param string $xml_options - opcje xml produktu
+	 * @return bool
+	 */
+	function _check_avail($id,$xml_options='') {
+		global $db;
+		$is_xml=false;
+		// czy s± jakie¶ opcje xml
+		if (!empty($xml_options)) {
+			// czy s± zapisane w tablicy
+			if (is_array($xml_options)) {
+				foreach ($xml_options as $key) {
+					// czy s± ró¿ne od zera ?
+					if ($key!="") $is_xml=true;
+				}
+			}
+		}
+		if ($is_xml && $this->_auto_add) return false;
+		$sql="SELECT id FROM main WHERE id=? AND active=1 AND ask4price!=1 AND hidden_price!=1";
+		$prepared_query=$db->PrepareQuery($sql);
+		if ($prepared_query) {
+			$db->QuerySetInteger($prepared_query,1,$id);
+			$result=$db->ExecuteQuery($prepared_query);
+			if ($result!=0) {
+				$num_rows=$db->NumberOfRows($result);
+				if ($num_rows==1) {
+					return true; // znaleziono dok³adnie jeden produkt który spe³nia kryteria;
+				}
+			}
+		}
+		return false;
+	}
+
+	
+	/**
+	 * Aktualizacja liczby produktów na stronie.
+	 *
+	 * @param array $items array (array($id=>$num),array($id2=>$num),[...])
+	 */
+	function update_many($items) {
+		// je¿eli operujemy na produktach punktowych to aktualizujemy liczbe punktów
+		if ($this->mode=='points') {
+			foreach ($items as $key) {
+				$id=key($key);
+				$value=$key[$id];
+				// nie pozwalamy na ujemne warto¶ci liczby produktów
+				// ¿eby nie umo¿liwiæ wygenerowania -1000 punktów i skorzystania z ró¿nicy aby wk³adaæ do koszyka kolejne produkty
+				if ($value<0) {
+					$value=0;
+				}
+				// aktualna liczba punktów w warto¶æ punktowa produktu (liba punktów obecnie/liczba produktów obecnie) * nowa ilo¶æ produktów
+				$this->items[$id]['points_value']=$this->items[$id]['points_value']/$this->items[$id]['num']*$value;
+			}
+		}
+		// lepiej nie ryzykowaæ
+		reset($items);
+		if ($this->mode=="points") {
+			// to wszystko robimy tylko je¿eli jestesmy w trybie punktowym
+			// w przeciwny wypadku mielibysmy zera i cholera wie co siê stanie
+			$this->update_points();
+			$total_points=@$_SESSION['form']['points']+@$_SESSION['form']['points_reserved'];
+			if ($this->_points_value>$total_points) {
+				// jest za ma³o punktów - wiêc wywo³ujemy b³êda
+				$this->error(302);
+				// i ³adujemy dane z sesji jeszcze raz - bo juz je zmienili¶my w obiekcie
+				$this->_load_from_session();
+				// i jeszcze raz przeliczamy punkty
+				$this->update_points();
+			} else {
+				// wywo³ujemy metode rodzica - po co pisaæ to jeszcze raz jak ju¿ jest i dzia³a ? :)
+				parent::update_many($items);
+			}
+		} else {
+			parent::update_many($items);
+		}
+		// aktualizujemy liczbe dostêpnych punktów
+	}
+
+	/**
+	 * Aktualizujemy liczbe punktów w sesji
+	 * Uwaga!
+	 * Jako ¿e mo¿liwe s± tutaj nadu¿ycia, konieczna jest weryfikacja sumy punktów
+	 * zarezerwowanych i wolnych pod koniec zamówienia - czy te dane zgadzaj± sie z zawarto¶ci± bazy!
+	 *
+	 */
+	function update_points($update_session=true) {
+		global $sess;
+		$points_total=0;
+		reset ($this->items);
+		// sumujemy punkty produktów które s± w sesji
+		foreach ($this->items as $key=>$value) {
+			$points_total=$points_total+@$value['points_value'];
+		}
+		reset($this->items);
+		// czytamy dane które z sesji które bêdziemy aktualizowaæ
+		$points_reserved=@$_SESSION['form']['points_reserved'];
+		$points=@$_SESSION['form']['points'];
+		// zuzytych jest wiecej punktow niz zapisanych w sesji
+		// dodano produkt - zwiekszono jego ilosc
+		if ($points_total>$points_reserved) {
+			$points=$points-($points_total-$points_reserved);
+			$points_reserved=$points_total;
+		// zuzytych jest mniej punktow niz zapisanych w sesji
+		// usunieto produkt - zmniejszono jego ilosc
+		} else if ($points_total<$points_reserved) {
+			$points=$points+($points_reserved-$points_total);
+			$points_reserved=$points_total;
+		}
+		// je¿eli nie zaszed³ ¿aden z schematów opisanych powy¿ej - niema potrzeby czegokolwiek zmieniaæ
+		// tworzymy kopie form z sesji
+		$form=@$_SESSION['form'];
+		// aktualizujemy dane
+		$form['points']=$points;
+		$form['points_reserved']=$points_reserved;
+		$this->_points_value=$points_reserved;
+		// zapisujemy w sesji
+		if ($update_session) {
+			$sess->register("form",$form);
+		}
+		// sprawdzamy czy nie trzeba zmieniæ trybu:
+		// istotne tylko przy pustym koszyku
+		if ($this->_display_above && $this->isEmpty()) {
+			$this->mode='unset';
+		}
+	}
+
+	/**
+	 * Dodawanie produktów za punkty do listy
+	 * Metoda jest w sumie zmodyfikowan± metod± add_produkt w której za³adowana jest "stara" zawarto¶æ basket_add.inc.php
+	 *
+	 * @param int $id - id produktu który ma zostaæ dodany
+	 * @param int $num - ilo¶æ danego produktu
+	 * @param string $xml_options - opcje xml do danego produtku (musz± byæ puste)
+	 * @param bool $igonre_lock - czy zignorowaæ dodawanie tego produktu podczas pobytu w koszyku ?
+	 */
+	function add_for_points($id,$num=1,$xml_options='',$ignore_lock=false) {
+		global $global_prev_request_md5;
+		global $global_request_md5;
+		global $sess;
+		global $config;
+		global $db;
+		if ($xml_options!='') {
+			// do koszyka w trybie punktowym nie wolno dodawaæ produktów z xml_options!!!
+			$this->error("103");
+			return;
+		}
+		$reload=false;
+		if (! empty($global_prev_request_md5)) {
+			if ($global_prev_request_md5==$global_request_md5) {
+				// wywolano reload w koszyku, zapamietaj zeby nie dodawac produktu
+				$reload=true;
+			}
+		}
+		$ignore_lock=true;
+		if ($num==0) $num=1;
+		// sprawdzamy czy wolno nam dodaæ produkt - czy nie ma prze³adowania strony itd.
+		if ((($reload==false) && (@$_SESSION['basket_add_lock']!=1)) || $ignore_lock) {
+			// tutaj zaczynamy dodawanie
+			// w³±czamy blokade
+			$basket_add_lock=1;
+			$sess->register("basket_add_lock",$basket_add_lock);
+
+			// zapytanie o wlaciwosci rekordu
+			$query = "SELECT * FROM main WHERE id=? AND active=1";
+			$prepared_query=$db->PrepareQuery($query);
+			$db->QuerySetText($prepared_query,1,"$id");
+			$result=$db->ExecuteQuery($prepared_query);
+
+			// tutaj skorzystamy z mo¿liwo¶ci dodanej obs³ugi b³êdów do koszyka...
+			if ($result==0) {
+				// nie ma takiego produktu lub b³±d w zapytaniu
+				$this->error("102");
+				return;
+			}
+			// je¿eli dot±d by³o ok - to lecimy dalej
+			$id=$db->FetchResult($result,0,"id");
+			$user_id=$db->Fetchresult($result,0,"user_id");
+
+			// odczytaj nazwy w aktywnych jezykach
+			$name=$db->FetchResult($result,0,"name_L0");
+			for($i = 0; $i < count($config->langs_active); $i++) {
+				if($config->langs_active[$i] == 1) {
+					$lang_name[$config->langs_symbols[$i]]=$db->FetchResult($result,0,"name_L" . $i);
+					$lang_name[$i]=$lang_name[$config->langs_symbols[$i]];
+					if (empty($lang_name[$config->langs_symbols[$i]])) {
+						$lang_name[$config->langs_symbols[$i]] = $name;
+						$lang_name[$i] = $name;
+					}
+				}
+			}
+			// zapamiêtaj w sesji t³umaczenia zakupionych produktów
+			if (! empty($_SESSION['products_lang_name'])) {
+				$products_lang_name=$_SESSION['products_lang_name'];
+			} else $products_lang_name=array();
+			$products_lang_name[$name]=$lang_name;
+			$sess->register("products_lang_name",$products_lang_name);
+			// end
+
+			$producer=$db->FetchResult($result,0,"producer");
+			$points_value=$db->FetchResult($result,0,"points_value");
+			// zapamietaj do jakiej kategorii nalezy dodawany produkt; informacja ta bedzie wykorzytana
+			// do stworzenia linku do kategorii produtku w celu kontynuwoania zakupow w danej kategorii
+			$__add_basket_category['id_category1']=$db->Fetchresult($result,0,"id_category1");
+			$__add_basket_category['id_category2']=$db->Fetchresult($result,0,"id_category2");
+			$__add_basket_category['id_category3']=$db->Fetchresult($result,0,"id_category3");
+			$__add_basket_category['id_category4']=$db->Fetchresult($result,0,"id_category4");
+			$__add_basket_category['id_category5']=$db->Fetchresult($result,0,"id_category5");
+			$__add_basket_category['category1']=$db->Fetchresult($result,0,"category1");
+			$__add_basket_category['category2']=$db->Fetchresult($result,0,"category2");
+			$__add_basket_category['category3']=$db->Fetchresult($result,0,"category3");
+			$__add_basket_category['category4']=$db->Fetchresult($result,0,"category4");
+			$__add_basket_category['category5']=$db->Fetchresult($result,0,"category5");
+			$__add_basket_category['id_producer'] =$db->Fetchresult($result,0,"id_producer");
+			$__add_basket_category['producer'] =$db->Fetchresult($result,0,"producer");
+			$data['category']=$__add_basket_category;
+
+			// dodatkowe atrybuty rekordu zapamietywane w koszyku
+			// niektóre s± niepotrzebne i dla pewno¶ci zerowane
+			$data['currency']=$config->currency;
+			$data['vat']=0;
+			$data['user_id']=$user_id;
+			$data['weight']=0;
+			$data['lang_names'] = $lang_name;
+			// dodajemy obs³uge punktów
+			
+			// a teraz w³a¶ciwe dodawanie:
+			//sprawdzamy czy produkt dodaæ, czy tylko zwiêkszyæ liczbe ju¿ istniej±cego?
+			$pos=$this->getId($id,$data);
+			// nie jest konieczna weryfikacja opcji koszyka tak jak by¶my to robili normalnie
+			// poniewa¿ produkty punktowe nie mog± mieæ xml_options
+			if ($pos>0) {
+				// tutaj obs³uga zwiêkszania ilo¶ci
+				$this->items[$pos]['num']++;
+				$this->items[$pos]['points_value']=$points_value*$this->items[$pos]['num'];
+				$this->update_points();
+			} else {
+				// poprostu dodajemy
+				// dodaj produkt do koszyka
+				$this->items[++$this->_count]=array("ID"=>$id,"name"=>$name,"num"=>$num,"price"=>0,"points_value"=>$points_value,"data"=>$data);
+				// zaznaczamy produkt tak ¿eby nie mo¿na by³o go przenosiæ miêdzy przechowalni± a koszykiem
+				$this->_mark_unavail($this->_count);
+				// przenosimy odliczamy punkty (w sesji)
+				$form=$_SESSION['form'];
+				
+				$form['points_reserved']=@$form['points_reserved']+$points_value;
+				if ((empty($form['points_left']) && @$form['points_left']!=0) || @$form['points_left']<0) {
+					$form['points_left']=$form['points'];
+				}
+				$form['points']=$form['points']-$points_value;
+//				$form['points_left']=$form['points_left']-$points_value;
+				$sess->register("form",$form);
+			}
+		}
+	}
+
+	/**
+	 * Pokazujemy kominikat b³êdu nad koszykiem, wraz z przyciskiem kontynuuj zakupy
+	 *
+	 * @return bool - true je¿eli wyst±pi³ b³±d, false je¿eli nie.
+	 */
+	function _show_error() {
+		global $theme;
+		global $lang;
+		// dodajemy obs³uge b³êdów
+		if ($this->_error) {
+			// dodatkowy b³±d widoczny tylko w przechowalni
+			// ¿eby pokazaæ ¿e do przechowalni nie mozna dodawac prezentow
+			if (!$this->_display_above && $this->_error_code=="2") {
+				$this->error("002");
+			}
+			print "<p>\n";
+			print "<div align=\"left\">\n";
+			print "<table cellspacing=\"0\" cellpadding=\"0\" border=\"0\">\n";
+			print "  <tr>\n";
+			print "    <td valign=\"top\" align=\"left\">";
+			// button kontynuuj zakupy
+			if ($this->display=='form') {
+				$theme->button($lang->basket_order_continue,"/",220);
+			}
+			print "</td>\n";
+			print "  </tr>\n";
+			print "</table>\n";
+			print "<table cellspacing=\"0\" cellpadding=\"0\" border=\"0\">\n";
+			print "  <tr>\n";
+			print "    <td>\n";
+			// pokaz kategorie dodawanego produktu - linki do ketegorii
+			$this->add_category_links();
+			print "<td>\n";
+			print "  </tr>\n";
+			print "</table>\n";
+			print "</div>\n";
+			print "<br><br>";
+			print "<center>$this->error_message</center>";
+			//			print "<b>$this->_error</b>";
+			return true;
+		}
+		return false;
+	}
+
+	/**
+    * Formularz z zawartoscia koszyka.
+    * Wyswo³anie funckji powoduje wy¶wietlenie na stronie koszyka + elementów formularza (zmiana ilo¶ci).
+    * Funkcja wywo³uje tabelke z opisem oraz pe³ny formularz <form> ... </form>. WY¶wietlane te¿ s±
+    * informacje o dostawie i promocjach, które mo¿na wybraæ w koszyku.
+    *
+    * @return wartosc zamowienia, bez kosztow dostawy
+    * \@global object $basket        obiekt klasy Basket
+    * \@global object $delivery_obj  obiekt z klasy Delivery
+    */
+	function showBasketForm() {
+		global $theme;
+		global $lang;
+		global $delivery_obj;
+		global $global_basket_calc_button;
+		global $config;
+		global $shop;
+		// je¶li koszyk jest pusty to poka¿ odpowiedni komunikat
+		if ($this->_display_above) {
+			$formname="basketForm";
+		} else {
+			$formname="wishlistForm";
+			if ($this->display!="form") {
+				return;
+			}
+		}
+		if (empty($this->items)) {
+			if ($this->_display_above) {
+				if ($this->_error) {
+					$theme->bar($lang->$formname);
+					$this->_show_error();
+					return;
+				}
+				$theme->basket_empty();
+				$theme->file("basket_up_empty.html");
+			} else {
+				if ($this->_error) {
+					$theme->bar($lang->$formname);
+					$this->_show_error();
+					return;
+				}
+				global $submit_type;
+				if (!empty($submit_type)) {
+					global $sess;
+					$sid=$sess->param."=".$sess->id;
+					print "
+				<script language=\"JavaScript\">\n
+				window.location.href='/go/_basket/?$sid';
+				</script>
+				";
+				}
+				$theme->wishlist_empty();
+				$theme->file("wishlist_up_empty.html");
+			}
+			return;
+		}
+		$theme->bar($lang->$formname);
+		if ($this->_show_error()) {
+			return;
+		}
+		if ($this->display=="form") {
+			print "
+			<script language=\"JavaScript\">\n
+			function toggleAll(sender,id,formname) {\n
+			    check_yes_no = sender.checked;\n
+			    for(i = 0; i < document.forms[formname].elements.length; i++) {\n
+			        if((document.forms[formname].elements[i].type == 'checkbox') && (document.forms[formname].elements[i].name != \"toggle_all\") && (document.forms[formname].elements[i].id == id))\n
+			            document.forms[formname].elements[i].checked = check_yes_no;\n
+			    }\n
+			}\n
+			</script>\n";
+		}
+		// pasek "bar" koszyka
+		//		$theme->bar($lang->$formname);
+
+		//		if ($this->_display_above) {
+		print "<p>\n";
+		print "<div align=\"left\">\n";
+		print "<table cellspacing=\"0\" cellpadding=\"0\" border=\"0\">\n";
+		print "  <tr>\n";
+		print "    <td valign=\"top\" align=\"left\">";
+		// button kontynuuj zakupy
+		if ($this->display=='form') {
+			$theme->button($lang->basket_order_continue,"/",220);
+		}
+		print "</td>\n";
+		print "  </tr>\n";
+		print "</table>\n";
+		print "<table cellspacing=\"0\" cellpadding=\"0\" border=\"0\">\n";
+		print "  <tr>\n";
+		print "    <td>\n";
+		// pokaz kategorie dodawanego produktu - linki do ketegorii
+		$this->add_category_links();
+		print "<td>\n";
+		print "  </tr>\n";
+		print "</table>\n";
+		print "</div>\n";
+		//		}
+		print "<div align=left>";
+		if ($this->display=='form') {
+			if ($this->_display_above) {
+				$theme->theme_file("basket_up.html.php");
+			} else {
+				$theme->theme_file("wishlist_up.html.php");
+			}
+		}
+		
+		if ($_SESSION['depository_status'] == false and isset($_SESSION['depository_status']))
+		{
+			print "<center><font color=\"red\"><b>$lang->basket_depository_error</b></font></center>";
+			//print "<br>".$_SESSION['depository_error_id'];
+		}
+		
+		if ($this->mode!="points") {
+			print "<br>".$lang->basket_currency.": ".$shop->currency->currency;
+		}
+		
+
+		
+		print "</div>";
+		if ($this->display=="form") {
+			if ($this->_display_above) {
+				// obs³uga ssl'a - tylko w koszyku
+				if ($config->ssl) {
+					global $sess;
+					print "<form action=\"https://".$_SERVER['HTTP_HOST']."/go/_basket/index.php\" method=\"post\" name=\"$formname\">\n";
+					// koniecznie przekazaæ sid przy takim przej¶ciu !
+					print "<input type=\"hidden\" name=\"sid\" value=".$sess->id.">\n";
+				} else {
+					print "<form action=\"index.php\" method=\"post\" name=\"$formname\">\n";
+				}
+			} else {
+				print "<form action=\"index3.php\" method=\"post\" name=\"$formname\">\n";
+			}
+			print "<input name=\"formName\" id=\"formName\" value=\"$formname\" type=hidden>\n";
+		}
+		
+		// start koszyk lista produktów
+		print  "<table border=\"0\" cellspacing=\"2\" cellpadding=\"2\" align=\"center\" width=\"100%\">\n";
+		$this->basket_th($this->display,$this->_display_above);
+
+		/* uaktualnij warto¶c zakupów i dodatkowe dane prodyuktów */
+		$this->calc();
+
+		// wy¶wietl pozycje z koszyka w wierszach
+		reset($this->items);
+		foreach ($this->items as $id=>$item) {
+			$this->_row($id,$item);
+		}
+
+		print "</table>\n";
+		// end koszyk lista produktów
+		print "<div align=\"right\"><br>";
+		if ($this->display=="form") {
+			print $lang->check_uncheck_all;
+			print $lang->to_be_deleted;
+			print "<input type=\"checkbox\" name=\"toggle_all\" id=\"toggle_all\" onclick=\"toggleAll(this,'del','$formname')\"><br>";
+			print $lang->check_uncheck_all;
+			if ($this->_display_above) {
+				print $lang->to_be_moved;
+			} else {
+				print $lang->to_be_moved_2basket;
+			}
+
+			print "<input type=\"checkbox\" name=\"toggle_all\" id=\"toggle_all\" onclick=\"toggleAll(this,'move','$formname')\"><br><br>";
+		}
+		if (! empty($global_basket_calc_button)) {
+			// przycisk podsumuj
+			print $lang->basket_order_update_note."&nbsp;&nbsp;";
+			$theme->calc_button();
+			print "<br><br><br><br>";
+			print "</div>";
+
+		}
+		if (($this->display=="form") && ($this->_display_above) && ($this->mode=='standard')) {
+			// pokaz: suma zamowienia, podsumuj wprowadzone zmiany, zaplac, powrot
+			$delivery_obj->show_country();
+			print "<div align=left>";
+			$delivery_obj->show();
+			print "</div>";
+			$this->order_amount=$this->amount+$delivery_obj->delivery_cost;
+			$theme->basket_submit($theme->price($this->amount),$theme->price($this->order_amount),
+			$delivery_obj->delivery_name,$delivery_obj->delivery_cost);
+			print "</form>\n";
+
+			// pokaz dostepne promocje
+			global $config;
+			if ((in_array("promotion",$config->plugins)) && ($this->_display_above)) {
+				$theme->showPromotions();
+			}
+		} else if (($this->display=="form") && ($this->mode=='points')) {
+			$delivery_obj->show_country();
+			print "<div align=left>";
+			$delivery_obj->show();
+			print "</div>";
+			$theme->basket_points_submit($theme->price($this->amount),$theme->price(@$this->order_amount),
+			$delivery_obj->delivery_name,$delivery_obj->delivery_cost);
+			print "</form>\n";
+		} else {
+			print "<p>";
+		}
+		//        if ($this->_display_above) $this->_move_target->showBasketForm();
+		return $this->amount;
+	} // end showBasketForm()
+
+	/**
+    * Przedstaw pozycje/wiersz z koszyka w formacie html
+    *
+    * @param int   $id   id systemowe koszyka, pozycja w koszyku
+    * @param array $item dane dot. produktu
+    *
+    * @access private
+    * @return none
+    */
+	function _row($id,$item) {
+		global $theme, $config, $lang, $mdbd;
+		if ($this->_display_above) {
+			$formname="basketForm";
+		} else {
+			$formname="wishlistForm";
+		}
+		// przet³umacz nazwê
+		$name=$item['data']['lang_names'][$config->lang_id];
+		$user_id=$this->_get_user_id($item['ID']);
+		$namelink="<a href=\"/?id=$user_id\">$name</a>";
+		$points_value=$item['points_value'];
+		if ($this->mode!="points" && $config->basket_wishlist['prod_ext_info']==1) {
+			$namelink.="<br>".$lang->basket_products_extra['user_id'].": $user_id, ".$lang->basket_products_extra['points_value'].": $points_value";
+		}
+		print "<tr bgcolor=" . @$config->theme_config['colors']['basket_td'] . ">\n";
+		print "<td>".$namelink;
+		if (! empty($item['data']['options'])) {
+			$options=$item['data']['options'];
+			$this->_showOptions($options,"html");
+		}
+		print "</td>\n";
+
+		// start waluty:
+		global $shop;
+		$shop->currency();
+		$item2=$item;
+		if ($shop->currency->changed()) {
+			$item2['price']=$shop->currency->price($item2['price']);
+			$item2['price_netto']=$shop->currency->price($item2['price_netto']);
+			$item2['sum_brutto']=$shop->currency->price($item2['sum_brutto']);
+		}
+		// end waluty:
+		if ($this->mode!='points') {
+			print "<td align=\"center\">".$item2['price_netto']."</td>\n";
+			print "<td align=\"center\">".$item['data']['vat']."</td>\n";
+			print "<td align=\"center\">".$item2['price']."</td>\n";
+		}
+		if ($this->display=="form") {
+			if ($_SESSION['depository_status'] == false and isset($_SESSION['depository_status']))
+			{
+				$num_max = $mdbd->select("num","depository","user_id_main=?",array($user_id=>"int"),"","auto");
+				$num_id = explode(" ",$_SESSION['depository_error_id']);
+				for ($i=0;$i<=count($num_id)-1;$i++)
+				{
+					if ($user_id == $num_id[$i]) $item['num'] = $num_max;
+				}
+			}
+			print "<td align=\"center\">
+            <input type=\"text\" size=\"4\" maxsize=\"6\" name=\"num[$id]\" value=\"".$item['num']."\">";
+			if ($_SESSION['depository_status'] == false and isset($_SESSION['depository_status'])) {
+				for ($i=0;$i<=count($num_id)-1;$i++)
+				{
+					if ($user_id == $num_id[$i] and $num_max != 0){ print "<br /><font color=\"red\"><b>($num_max $lang->basket_max)</b></font>"; break; } 
+					elseif ($user_id != $num_id[$i] and $num_max != 0) { print "<br />($num_max $lang->basket_max)"; break; }
+				} 
+			}
+			
+			print "</td>\n";
+			
+		} else {
+			print "<td align=\"center\">".$item['num']."</td>\n";
+		}
+		if ($this->mode!='points') {
+			print "<td align=\"center\">".$item2['sum_brutto']."</td>\n";
+		}
+		// je¿eli tryb punktów to poka¿ te dane
+		if ($this->mode=='points') {
+			print "<td align=\"center\">".$item['points_value']."</td>";
+		}
+		$target_mode=@$this->_move_target->mode;
+		$compatible_target=false;
+		if ($this->mode==$target_mode) {
+			$compatible_target=true;
+		} else if ($this->mode=="unset" || $target_mode=="unset") {
+			$compatible_target=true;
+		}
+		// checkboxy usuñ i do przechowalni
+		if ($this->display=="form") {
+			// w trybie punktowym nie mo¿na przenosiæ
+			if ($this->mode!='points') {
+				// nie wy¶wietlaj opcji przeniesienia produktu je¿eli jest on zaznaczony jako niedostêpny
+				if ((@$this->items[$id]['unavail']!=1) && $compatible_target) {
+					print "<td align=\"center\"><input class=\"border0\" type=\"checkbox\" id=\"move\" name=\"move[$id]\" ></td>\n";
+				} else print "<td></td>";
+				//onClick=\"this.form.submit();
+			}
+			print "<td align=\"center\"><input class=\"border0\" type=\"checkbox\" id=\"del\" name=\"del[$id]\" ></td>\n";
+
+		}
+		print "</tr>\n";
+		return;
+	} // end _row()
+
+
+	/**
+    * Wyswietl nazwy pol formularza w koszyku. Jesli jest to prezentacja z formularzem
+    * to dodaj pole "usun"
+    * funkcja przeniesiona z theme.inc.php dla zachowania spójno¶ci koszyka i umo¿liwenia dynamicznego pokazywania kolumn.
+    *
+    * @param string $display "form" - wyswietl naglowek "usun" do tabeli z lista produktow w koszyku
+    */
+	function basket_th($display="",$is_basket=true) {
+		global $lang, $config;
+		global $shop;
+		// poprawiamy szeroko¶æ nazwy przy trybie punktowym
+		if ($this->mode!='points') {
+			$proc="40%";
+		} else $proc="70%";
+		// jesli koszyk jest do wydruku to nie wyswietlaj kolorów i usuñ
+		if ($config->theme!='print'){
+			print "<tr bgcolor='"; echo $config->theme_config['colors']['basket_th']; echo "'>
+                 <th width=$proc>$lang->basket_th_product_name</th>";
+            if ($this->mode!='points') {
+				print "     
+		         <th>$lang->basket_th_netto</th>
+                 <th>$lang->basket_th_vat</th>
+		         <th>$lang->basket_th_brutto</th>";
+            }
+		    print "<th>$lang->basket_th_count</th>";
+		    if ($this->mode!='points') {
+				print "<th>$lang->basket_th_sum</th>";
+		    } else {
+				print "<th>$lang->basket_th_points</th>";
+			}
+			if ($display=="form") {
+				// w trybie punktowym nie mo¿na przenosiæ
+				if ($this->mode!='points') {
+					if ($is_basket) {
+						print "<th>$lang->basket_th_move</th>\n";
+					} else {
+						print "<th>$lang->wishlist_th_move</th>\n";
+					}
+				}
+				print "<th>$lang->basket_th_delete</th>";
+			}
+
+		}else{
+			// to jest przypadek w którym wy¶wietlamy liste do wydruku
+			print "<tr>
+                 <th width=$proc>$lang->basket_th_product_name</th>";
+				if ($this->mode!='points') {
+	                 print "
+			         <th>$lang->basket_th_netto ".$shop->currency->currency."</th>
+	                 <th>$lang->basket_th_vat</th>
+	                 <th>$lang->basket_th_brutto ".$shop->currency->currency."</th>
+	                 <th>$lang->basket_th_count</th>
+			         <th>$lang->basket_th_sum ".$shop->currency->currency."</th>";
+				}
+			if ($this->mode=='points') {
+				print "<th>$lang->basket_th_sum ".$shop->currency->currency."</th>";
+				print "<th>$lang->basket_th_points</th>";
+			}
+			print "</tr>";
+		}
+		return(0);
+
+	} // end basket_th()
+
+	/**
+    * Oproznij koszyk
+    *
+    * @access public
+    * @return none
+    */
+	function emptyBasket() {
+		$this->amount=0;
+		$this->_item=array();
+		$this->items=array();		
+		$this->_count=0;             // #3012 poprawka dodawania pustego wiersza do zamowienia m@sote.pl		
+		$this->basket_data_txt="";
+		$this->_save_to_db();
+		if ($this->_display_above) {
+			$this->mode='unset';
+		}
+		$this->register();
+		return(0);
+	} // end empty_basket()
+	
+	
+	/**
+	 * Przedstaw zawartosc koszyka w TXT, ale w tym wypadku z produktami punktowymi.
+	 * Informacje te sa dodawane do maila z zamowieniem.
+	 *
+	 */
+	function basket_txt_points() {
+		global $lang;
+		// obliczamy warto¶æ zamówienia w punktach, ale nie zapisujemy danych do sesji
+		// bo w sesji liczniki s± ju¿ pokasowane i ich aktualizacja spowoduje dublowanie siê kosztów punktowych
+		$this->update_points(false);
+		
+		$this->basket_data_txt.=$lang->basket_txt_title.":\n";
+        reset($this->items);$this->_pos=1;
+        foreach ($this->items as $id=>$item) {
+            $this->basket_data_txt.=$this->_rowTXT_points($item);
+            $this->_pos++;
+        }
+        $o=$this->basket_data_txt;
+        $o.=$lang->basket_amount_name."\n";
+        $o.=$lang->basket_points_cost.": ".$this->_points_value."\n";
+        $o.=$lang->basket_points_left.": ".$_SESSION['form']['points']."\n";
+        return $o;
+	}
+
+	
+    /**
+    * Przedstaw zawartosc koszyka w postaci TXT. Informacja ta zostanie dodana do
+    * maila z zamowieniem
+    *
+    * proste przeci±¿enie metody ¿eby mo¿na by³o w inny sposób wy¶wietlaæ produkty punktowe
+    * @access public
+    * @return string zwraca zawartosc calego goszyka w formacie TXT
+    */
+    function basket_txt() {
+        global $lang;
+        global $_SESSION;
+        global $config;
+        if ($this->mode=="points") {
+        	return ($this->basket_txt_points());
+        }
+        $this->calc();
+        
+        $global_delivery=$_SESSION['global_delivery'];
+        $global_order_amount=$_SESSION['global_order_amount'];
+        
+        $this->basket_data_txt.=$lang->basket_txt_title.":\n";
+        reset($this->items);$this->_pos=1;
+        foreach ($this->items as $id=>$item) {
+            $this->basket_data_txt.=$this->_rowTXT($item);
+            $this->_pos++;
+        }
+        
+        
+        // start waluty:
+        global $shop;
+        $shop->currency();
+        
+        $curr_delivery_cost=$shop->currency->price($global_delivery['cost']);
+        $curr_amount=$shop->currency->price($this->amount);
+        $curr_order_amount=$shop->currency->price($global_order_amount);
+        
+        // end waluty:
+        
+        $o=$this->basket_data_txt;
+        $o.="\n".$lang->basket_delivery_name.": ".$global_delivery['name'].", ";
+        $o.=$lang->basket_delivery_cost.": ".$curr_delivery_cost." ".$shop->currency->currency."\n";
+        $o.=$lang->basket_amount_name.": ".$curr_amount." ".$shop->currency->currency."\n";
+        $o.=$lang->basket_order_amount_name.": ".$curr_order_amount." ".$shop->currency->currency."\n";
+        
+        global $shop;
+        $shop->promotions();
+        $o.=$shop->promotions->txtInfo();
+        
+        return $o;
+    } // end basket_txt()
+    
+        
+    /**
+    * Dane rekordu z koszyka w postaci TXT dla produtków punktowych
+    *
+    * @param array $item dane produktu
+    *
+    * @access private
+    * @return string dane produktu w TXT
+    */
+    function _rowTXT_points($item) {
+        global $lang;
+        
+        // przet³umacz nazwê produktu
+        $name=LangF::name($item['name']);
+        
+        $o="";
+        $nr=$this->_pos;
+        $o.="$nr ".$lang->basket_elements['name'].": ".$name;
+        
+        $o.="\n";
+        $o.="\t".$lang->basket_elements['user_id'].": ".$item['data']['user_id']."\n";
+        $o.="\t".$lang->basket_elements['points_value'].": ".$item['points_value']."\n";
+        $o.="\t".$lang->basket_elements['num'].": ".$item['num']."\n";
+//        $o.="\t".$lang->basket_elements['sum_brutto'].": ".$item['sum_brutto']." ".$shop->currency->currency."\n\n";
+        
+        return $o;
+    } // end _row_txt()
+
+    
+	/**
+	 * Obs³uga b³êdów koszyka
+	 * za³o¿enie jest takie ¿e wywo³ujemy t± metodê je¿eli sta³o siê co¶ nie tak
+	 * kody b³êdów s± przechowywane w langach modu³u, ka¿demu kodowi odpowiada komunikat
+	 * kody b³êdów powinny zaczynaæ siê od ??2, ¿eby zachowaæ zgodno¶æ z typem bool.
+	 * na zasadzie ¿e je¿eli funkcja zaraca true lub false - jest ok, ale je¿eli zwraca integera wyst±pi³ b³±d o tym numerze.
+	 *
+	 * @param int $error_id - id b³êdu którego opis znajduje siê w langach
+	 */
+	function error($error_id) {
+//		print "<pre>";
+//		print_r (debug_backtrace());
+//		print "</pre>";
+		global $lang;
+		$this->error_message=@$lang->basket_error[$error_id];
+		$this->_error=true;
+		$this->_error_code=$error_id;
+	}
+} // end class MyExtBasket
+?>
\ No newline at end of file
diff -ruN ../soteesklep3/htdocs/go/_basket/include/my_new_basket.inc.php soteesklep3/htdocs/go/_basket/include/my_new_basket.inc.php
--- ../soteesklep3/htdocs/go/_basket/include/my_new_basket.inc.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/htdocs/go/_basket/include/my_new_basket.inc.php	2006-08-23 16:59:14.000000000 +0200
@@ -0,0 +1,408 @@
+<?php
+
+require_once ("./include/my_basket.inc.php");
+
+require_once ("./include/basket_options.inc.php");
+
+/**
+ * Wrapper do istniej±cych (starych) funkcji koszyka - emulacja postów, getów i requestów
+ * Nadaje koszykowi w³a¶ciwo¶ci obiektowe.
+ *
+ * @author lukasz@sote.pl
+ * @package basket
+ * @since 3.1RC9-devel
+ * @version $Id: my_new_basket.inc.php,v 2.13 2006/08/16 10:22:26 lukasz Exp $
+ *
+ */
+class My_New_Basket extends MyBasket {
+
+	/**
+	 * Blokada wywo³añ - czy wowo³aæ rodzica, czy lokaln± metode
+	 *
+	 * @var bool
+	 */
+	var $local_lock = false;
+
+	/**
+	 * Tablica przechowywanych $_POST'ow
+	 *
+	 * @var array
+	 */
+	var $POST;
+
+	/**
+	 * Tablica przechowywanych $_GET'ow
+	 *
+	 * @var array
+	 */
+	var $GET;
+
+	/**
+	 * Tablica przechowywanych $_REQUEST'ow
+	 *
+	 * @var array
+	 */
+	var $REQUEST;
+
+
+	/**
+	 * Zapisuwanie napisywanie wszystkich elementow $_POST odpowiednimi elementami z $items, zapisujac stare wartosci w $this->POST
+	 *
+	 * @param array $items
+	 */
+	function _switch_POST (&$items) {
+		foreach ($items as $name => $value) {
+			$this->POST[$name] = @$_POST[$name];
+			unset($_POST[$name]);
+			if (!empty($value)) {
+				$_POST[$name]=$value;
+			}
+		}
+	}
+
+	/**
+	 * Odtwarzanie elemetow $_POST okreslonych w $items, na podstawie $this->POST
+	 *
+	 * @param array $items
+	 */
+	function _restore_POST (&$items) {
+		foreach ($items as $name => $value) {
+			unset ($_POST[$name]);
+			$_POST[$name]=$this->POST[$name];
+		}
+	}
+
+	/**
+	 * Zapisuwanie napisywanie wszystkich elementow $_POST odpowiednimi elementami z $items, zapisujac stare wartosci w $this->POST
+	 *
+	 * @param array $items
+	 */
+	function _switch_REQUEST (&$items) {
+		foreach ($items as $name => $value) {
+			$this->REQUEST[$name] = @$_REQUEST[$name];
+			unset($_REQUEST[$name]);
+			if (!empty($value)) {
+				$_REQUEST[$name]=$value;
+			}
+		}
+	}
+
+	/**
+	 * Odtwarzanie elemetow $_POST okreslonych w $items, na podstawie $this->POST
+	 *
+	 * @param array $items
+	 */
+	function _restore_REQUEST (&$items) {
+		foreach ($items as $name => $value) {
+			unset ($_REQUEST[$name]);
+			$_REQUEST[$name]=$this->REQUEST[$name];
+		}
+	}
+
+	/**
+	 * Zapisuwanie napisywanie wszystkich elementow $_GET odpowiednimi elementami z $items, zapisujac stare wartosci w $this->GET
+	 *
+	 * @param array $items
+	 */	
+	function _switch_GET (&$items) {
+		foreach ($items as $name => $value) {
+			$this->GET[$name] = @$_GET[$name];
+			unset($_GET[$name]);
+			if (!empty($value)) {
+				$_GET[$name]=$value;
+			}
+		}
+	}
+
+	/**
+	 * Odtwarzanie elemetow $_GET okreslonych w $items, na podstawie $this->GET
+	 *
+	 * @param array $items
+	 */
+	function _restore_GET (&$items) {
+		foreach ($items as $name => $value) {
+			unset ($_GET[$name]);
+			$_GET[$name]=$this->GET[$name];
+		}
+	}
+
+	/**
+	 * Dodawanie produktu do koszyka
+	 *
+	 * @param int $id id produku - ¿ywcem z bazy danych
+	 * @param array $options - tablica opcji (zaawansowanych atrybutów)
+	 * @param int $num - ilo¶æ dodwanych produktów (s± bugi warstwe ni¿ej)
+	 * @param array $basket_cat - lista produktów dodanych (przez xml_options)
+	 * @param array $ext_basket - dodatkowe produkty dodane do koszyka (akcesoria)
+	 * @param bool $ignore_lock - ignoruj blokadê dodawania produktów gry jest siê w koszyku (wymagane do wielokrotnego dodawania)
+	 */
+	function add($id,$options='',$num='',$basket_cat='',$ext_basket,$ignore_lock=false) {
+		global $_SESSION;
+		global $global_secure_test, $sess, $global_request_md5, $global_prev_request_md5, $db, $mdbd;
+		// sprawdzamy blokade - czy wywo³aæ dodawanie u rodzica
+		if ($this->local_lock) {
+			$this->items[++$this->_count]=array("ID"=>$id,"name"=>$options,"num"=>$num,"price"=>$basket_cat,"data"=>$ext_basket,"points_value"=>$ignore_lock);
+			//			$this->register();
+		} else {
+			// ignorujemy zabezpieczenie przed dodawaniem wielu produktów do koszyka (np przez od¶wierzanie)
+			if ($ignore_lock) {
+				$_basket_add_lock=@$_SESSION['basket_add_lock'];
+				unset($_SESSION['basket_add_lock']);
+				$_global_prev_request_md5=$global_prev_request_md5;
+				$global_prev_request_md5='false';
+			}
+			// tablica podmienianych elemetów
+			$items= array (
+			'id'=>"$id",
+			'num'=>"$num",
+			'basket_cat'=>$basket_cat,
+			'options'=>$options,
+			'basket'=>$ext_basket,
+			);
+			// podmieniam i zapamiêtuje requesty
+			$this->_switch_REQUEST($items);
+
+			// blokada, wywo³ania, blokada
+			$this->local_lock=true;
+			$basket=$this;
+//			print getcwd();
+			$old_dir=getcwd();
+			global $DOCUMENT_ROOT;
+			$path_to_basket=$DOCUMENT_ROOT."/go/_basket/";
+			chdir($path_to_basket);
+			require_once("./include/container.inc.php");
+			$container=& new Basket_Container();
+			require("./include/basket_add.inc.php");
+			$container->me=&$this;
+			$container->me=$basket;
+			chdir($old_dir);
+//			$this=$basket;
+			$this->local_lock=false;
+
+			// odtwarzam requesty z przed wywo³ania
+			$this->_restore_REQUEST($items);
+			// odtwarzamy zabezpieczenie
+			if ($ignore_lock) {
+				$sess->register("basket_add_lock",$_basket_add_lock);
+				$global_prev_request_md5=$_global_prev_request_md5;
+			}
+		}
+	}
+
+	/**
+	 * Usuwamy produkt o wewnêtrznym id koszyka (Basket->items)
+	 *
+	 * @param int $id
+	 */
+	function del ($id) {
+		// sprawdzamy blokade - czy wywo³aæ usuwanie u rodzica
+		if ($this->local_lock) {
+			unset($this->items[$id]);
+		} else {
+			global $global_secure_test, $sess;
+			// generujemy tablice do posta
+			// i zapisujemy num ¿eby nie wywo³ywaæ aktualizacji liczby produktów
+			$int_prod_id=key($id);
+			$items=array(
+			'del' => array( "$int_prod_id" => "on" ),
+			'num' => '',
+			);
+
+			// podmieniamy posty
+			$this->_switch_POST($items);
+
+			// blokada, wywo³anie, blokada
+			$this->local_lock=true;
+			$basket=$this;
+			$old_dir=getcwd();
+			global $DOCUMENT_ROOT;
+			$path_to_basket=$DOCUMENT_ROOT."/go/_basket/";
+			chdir($path_to_basket);
+			require_once("./include/container.inc.php");
+			$container=& new Basket_Container();
+			include("./include/basket_update.inc.php");
+			$container->me=&$this;
+			$container->me=$basket;
+			
+			chdir($old_dir);
+			
+			$this->local_lock=false;
+
+			// odtwarzamy posty i zmienne
+			$this->_restore_POST($items);
+		}
+	}
+
+	/**
+	 * Aktualizujemy liczbe sztuk produktu o wewnêtrznym id koszyka (Basket->items)
+	 *
+	 * @param int $id
+	 * @param int $num
+	 */
+	function update($id,$num) {
+		global $global_secure_test, $sess;
+
+		// nie sprawdzamy locka poniewa¿ nie istnieje taka metoda w ¿adnym z rodziców
+		// ale i tak bêdziemy musieli go w³±czyæ na czas wykonywania w³a¶ciwej procedury.
+
+		// generujemy tablice do posta
+		// i zapisujemy del ¿eby nie usuwaæ produktów
+
+		$items=array(
+		'num' => array( "$id" => "$num" ),
+		'del' => '',
+		);
+
+		// podmieniamy posty
+		$this->_switch_POST($items);
+
+		// blokada, wywo³anie, zdjecie blokady
+		$this->local_lock=true;
+		$basket=$this;	
+		$old_dir=getcwd();
+		global $DOCUMENT_ROOT;
+		$path_to_basket=$DOCUMENT_ROOT."/go/_basket/";
+		chdir($path_to_basket);
+		require_once("./include/container.inc.php");
+		$container=& new Basket_Container();
+		include("include/basket_update.inc.php");
+		chdir($old_dir);
+		$container->me=&$this;
+		$container->me=$basket;
+			
+//		$this=$basket;
+		$this->local_lock=false;
+
+		// odtworzenie postów
+		$this->_restore_POST($items);
+	}
+
+	//num - to tablica elementów do zaktualizowania liczby
+	//del - to tablica elementów do usuniêcia
+	// zachowane dla pe³nej emulacji
+	/**
+	 * Po przej¶cie do kolejnego etapu zamawiania
+	 * Zastosowanie wszystkich zmian wprowadzonych do formularza (usuniêcia, zmiany w ilo¶ci) oraz obliczenie kosztów dostawy
+	 *
+	 * @param array $num
+	 * @param array $del
+	 */
+	function proceed($num='', $del='') {
+		global $delivery_obj, $global_delivery, $theme, $sess, $mdbd, $db;
+		
+		$i=0;
+		$_SESSION['depository_status'] = "";
+		$_SESSION['depository_error_id'] = "";
+		foreach($_SESSION['global_basket_data']['items'] as $key => $value ){
+
+			$item_id = $mdbd->select("user_id","main","id=?",array($value['ID']=>"int"),"","auto");
+			$select = $mdbd->select("num","depository","user_id_main=?",array($item_id=>"int"),"","auto");
+
+			//echo "select: ".$select."; ".$item_id;
+			if ($select == 0) $select="n";
+			if ($select >= $num[$i][$key] or $select == "n") 
+			{
+				$_SESSION['depository_status'] = true;
+			}
+			else
+			{
+				$_SESSION['depository_status'] = false;
+				$_SESSION['depository_error_id'].= $item_id." ";
+				if ($i == count($_SESSION['global_basket_data']['items'])-1) return false;
+			} 
+			$i++;
+		}
+			/* zapisz dane koszyka w sesji */
+		// aktualizujemy wszystkie produkty którym chcemy zmieniæ ilo¶æ
+		$this->update_many($num);
+		// usuwamy wszystkie zaznaczone produkty
+		if (is_array($del)) {
+			$this->del_many($del);
+		} else if (is_int($del)) {
+			$this->del($id);
+		}
+		// oblicz koszty dostawy
+		// #505 local
+		$this->calc();
+		$this->register();
+		$this->calc_delivery();
+		/**
+	    * Zapisz dane koszyka w sesji 
+	    * Dane s± zapisuwane przed head(), gdy¿ s± one wykorzystywane m.in. do pokazania ilo¶ci produktów w koszyku itp.
+	    * w nag³ówku.
+	    */
+		$this->register();
+		// end #505 local
+		$basket=$this;
+		$my_basket=&$basket;
+		// wywolaj nowy skrypt
+		include_once("go/_register/index.php");
+		// zakoncz dzialanie tego skryptu
+		exit;
+	}
+
+	/**
+	 * Oblicz koszta dostawy
+	 *
+	 */
+	function calc_delivery() {
+		global $delivery_obj, $global_delivery, $theme, $sess;
+		$delivery_obj->calc();
+		$global_delivery=array();
+		$global_delivery['id']=$delivery_obj->delivery_id;
+		$global_delivery['name']=$delivery_obj->delivery_name;
+		$global_delivery['cost']=$theme->price($delivery_obj->delivery_cost);
+		$global_delivery['pay']=$delivery_obj->delivery_pay;
+		$sess->register("global_delivery",$global_delivery);
+	}
+
+	/**
+	 * Aktualizacja wielu produktów naraz
+	 *
+	 * @param array $items
+	 */
+	function update_many($items) {
+		foreach ($items as $key) {
+			$id=key($key);
+			$value=$key[$id];
+			$this->update($id,$value);
+		}
+	}
+
+	/**
+	 * Usuwanie wielu produktów naraz
+	 *
+	 * @param array $items ($int_id1,$int_id2)
+	 */
+	function del_many($items) {
+		foreach ($items as $id) {
+			$this->del($id);
+		}
+	}
+
+	/**
+	 * Dodanie wielu produktów naraz
+	 * Tablica wej¶æiowa: 
+	 *	 array ('1' => array (
+	 *			 	"id" => id produktu (z bazy danych),
+	 *			 	"options" => xml_options,
+	 *			 	"num" => liczba produktow,
+	 *			 	"bakset_cat" => nieznana (przekazywana w ciemno),
+	 *			 	),
+	 *			 )
+	 *	Dane przekazywane bez zmian do $this->add	 	
+	 *
+	 * @param array $items
+	 * @param bool $ignore_lock
+	 */
+	function add_many($items,$ignore_lock) {
+		foreach ($items as $key) {
+			$id=$items[$key]['id'];
+			$options=$items[$key]['options'];
+			$num=$items[$key]['num'];
+			$basket_cat=$items[$key]['basket_cat'];
+			$this->add($id,$options,$num,$basket_cat,$ignore_lock);
+		}
+	}
+}
+?>
\ No newline at end of file
diff -ruN ../soteesklep3/htdocs/go/_basket/index2.php soteesklep3/htdocs/go/_basket/index2.php
--- ../soteesklep3/htdocs/go/_basket/index2.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/htdocs/go/_basket/index2.php	2006-08-23 16:59:14.000000000 +0200
@@ -0,0 +1,180 @@
+<?php
+/**
+* Zawarto¶æ koszyka.
+* Przedstawienie stanu koszyka, podliczenie zawartosci, dodanie produktu do koszyka, wybor dostawcy towaru. <br>
+* <br /><br />
+* \@session real $global_basket_amount warto¶æ zamówienia, bez kosztów dostawy<br />
+* \@session int  $global_basket_count ilo¶æ produktów w koszyku<br />
+* \@session bool $global_lock_register=false nie zezwalaj na przej¶cie do wys³ania zamówienia bez przej¶cia przez strone _register<br />
+* \@session bool  $global_lock_send=false zezwalaj na wyslanie zamowienia w tej sesji<br />
+* \@session array $basket_data dane koszyka<br />
+* \@session array $wishlist_data dane przechowalni<br />
+*
+* @author  lukasz@sote.pl
+* @version $Id: index2.php,v 2.8 2006/08/16 10:22:26 lukasz Exp $
+* @package    basket
+*/
+
+// blokada przed back z formularza zamówienia
+$__basket_add_lock=true;
+
+$global_database=true;
+$global_secure_test=true;
+$DOCUMENT_ROOT=$HTTP_SERVER_VARS['DOCUMENT_ROOT'];
+/**
+* Nag³ówek skryptu
+*/
+require_once ("../../../include/head.inc");
+
+// nowy koszyk
+/**
+* Nowy koszyk - klasa My_Ext_Basket, obs³uga produktów, wy¶wietlanie ich listy, modyfikacja tej listy, zapis danych w sesji, bazie danych i pliku cookie - itp.
+*
+*/
+require_once("./include/my_ext_basket.inc.php");
+// tworzymy koszyk
+$basket=& new My_Ext_Basket();
+// wymagane przez temat aby wy¶wietliæ poprawnie liste
+$my_basket=&$basket;
+// przechowalnia - konieczna do przenoszenia produtków
+$wishlist=& new My_Ext_Basket('wishlist');
+// tworzymy relacje miêdzy jednym a drugim
+$basket->_move_target=&$wishlist;
+$wishlist->_move_target=&$basket;
+// inicjujemy - ³adujemy informacje z bazy/sesji
+$wishlist->init();
+$basket->init();
+// end nowy koszyk
+
+/**
+* Klasa funckji: oblicz koszty dostawy, wy¶wietl listê dostawców itp.
+*/
+require_once("./include/delivery.inc.php");
+
+// odczytaj numer id produktu, ktory jest dodawany do koszyka
+// jesli id nie jest puste, to produkt jest dodawany do ksozyka,
+// w przeciwnym razie przedstawiany jest tylko status koszyka
+$id="";
+if (!empty($_REQUEST['id'])) {
+    $id=$_REQUEST['id'];
+}
+// odczytaj wybranego dostawce, o ile user wybral zmiane dostawcy
+if (! empty($_REQUEST['delivery'])) {
+    $delivery=$_REQUEST['delivery'];
+} else $delivery=array();
+
+if (! empty($_SESSION['global_delivery'])) {
+    $global_delivery=$_SESSION['global_delivery'];
+}
+
+// tworzymy tablice nowych ilo¶ci produktów (je¿eli s± one ustawione)
+if (empty($id) && isset($_POST['num'])) {
+	foreach ($_POST['num'] as $int_id => $val) {
+		$num[] = array( $int_id => "$val");
+	}
+}
+
+// przypisujemy odpowiedni± warto¶æ do wewnêtrznego id usuwanego produktu
+if (empty($id) && isset($_POST['del'])) {
+	foreach ($_POST['del'] as $int_id => $val) {
+		$del[] = array( $int_id => "$val");
+	}
+}
+// tworzymy tablice produktów do przeniesienia
+if (empty($id) && isset($_POST['move'])) {
+	foreach ($_POST['move'] as $int_id => $val) {
+		$move[] = array( $int_id => "$val");
+	}
+}
+// ustawiamy pozosta³e zmienne o ile istniej±
+$options=@$_POST['options'];
+$basket_cat=@$_POST['basket_cat'];
+$ext_basket=@$_POST['basket'];
+
+/**
+* Sprawdz jaki jest rodzaj wywolania skryptu.
+* Czy jest to dodanie do koszyka, update koszyka, czy przejscie dalej do formularza z danymi
+* itp.
+*/
+$submit_type="";
+if (! empty($_POST['submit_update'])) {
+    $submit_type="update";  // podlicz
+}
+if (! empty($_POST['submit_proceed'])){
+	$submit_type="proceed"; // dalej
+}
+if (! empty($_POST['del'])) {
+    $submit_type="delete";  // kasuj wybrany produkt
+}
+if (!empty($_POST['move'])) {
+	$submit_type="move";
+}
+if ((empty($submit_type)) && (! empty($id))) {
+    $submit_type="add";
+}
+$basket_change=false;
+// koszyk rejestrujemy po ka¿dym dzia³aniu - aby mia³o to miejsce minimum razy - czasem nie robimy tego tutaj
+switch ($submit_type) {
+    case "update":
+    $_SESSION['depository_status']="true";
+    $basket_change=true;
+    $basket->update_many($num);
+    $basket->_save_to_db();
+    break;
+    case "delete":
+	$basket_change=true;
+    $basket->del_many_prod($del);
+    $basket->register();
+    break;
+    case "move":
+    $basket_change=true;
+    $basket->move_many_prod($move);
+    // rejestrujemy przechowalnie
+    $wishlist->register();
+    // tutaj nie rejestrujemy koszyka - odbywa siê to podczas aktualizacji produktów w basket_update
+//    $basket->register();
+    break;
+    case "proceed":
+    $basket_change=true;
+    $basket->proceed(@$num,@$del);
+    $basket->register();
+    break;
+    case "add":
+    $basket_change=true;
+    $basket->add_prod($id,@$num,$options,$basket_cat,$ext_basket);
+    $basket->register();
+    break;
+}
+// Czy zmieinono zawartosc koszyka? Jesli tak, to wyzeruj numer order_id, o ile takowy jest zapamietany w sesji
+// sytuacja, kiedy np. po przejsciu do autoryzacji kart, ktos wraca do sklepu i zmienia zawartsoc ksozyka
+// w takiej sytuacji traktujemy to jako nowa transakcje, dlatego wyzerowujemy order_id. Dzieki temu przy
+// reallizacji zamowienia zostanie wygenerowany nowy numer order_id.
+if ($basket_change==true) {
+    $sess->unregister("global_order_id");
+    $sess->unregister("global_order_id_date");
+}
+
+// oblicz koszty dostawy
+$basket->calc_delivery();
+
+// naglowek
+$theme->head();
+
+$global_basket_calc_button=true; // pokaz przycisk podsumuj pod zawartoscia koszyka
+
+$theme->page_open_object("show_form",$my_basket,"page_open_2");
+
+// zapamietaj wywolanie tej strony
+$global_lock_basket=true;
+$sess->register("global_lock_basket",$global_lock_basket);
+
+// jesli wczesniej byly zapamietane wywolania register i send, to anuluj je
+$global_lock_register=false;
+$global_lock_send=false;
+$sess->register("global_lock_register",$global_lock_register);
+$sess->register("global_lock_send",$global_lock_register);
+
+// stopka
+$theme->foot();
+include_once ("include/foot.inc");
+?>
\ No newline at end of file
diff -ruN ../soteesklep3/htdocs/go/_basket/lang/_pl/lang.inc.php soteesklep3/htdocs/go/_basket/lang/_pl/lang.inc.php
--- ../soteesklep3/htdocs/go/_basket/lang/_pl/lang.inc.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/htdocs/go/_basket/lang/_pl/lang.inc.php	2006-08-23 16:59:14.000000000 +0200
@@ -0,0 +1,27 @@
+<?php
+$lang->basket_continue_in_category="Kontynuuj zakupy w kategori";
+$lang->basket_order_update="Akceptuj";
+$lang->basket_order_update_note="W celu potwierdzenia zmian kliknij na przycisk \"Akceptuj\"";
+$lang->basket_take_order="Realizuj zamówienie";
+$lang->search_empty_list2="ww";
+$lang->basket_delivery_name="Dostawca";
+$lang->basket_elements=array(
+                'name'=>"Nazwa",
+                );
+$lang->basket_order_amount_name="Warto¶æ zamówienia";
+$lang->basket_error=array(
+					"2"=>"W koszyku nie mog± znajdowaæ siê jednocze¶nie produkty za punkty i normalne produkty!",
+					"3"=>"Masz zbyt ma³o punktów na koncie.",
+					"4"=>"W koszyku nie mog± znajdowaæ siê jednocze¶nie produkty za punkty i normalne produkty!",
+					"5"=>"Masz zbyt ma³o punktów na koncie.",
+					"12"=>"Aby dokonywaæ zakupów produktów za punkty nale¿y byæ zalogowanym",
+					"13"=>"Masz zbyt ma³o punktów na koncie.",
+					"002"=>"Do przechowalni nie mo¿na dodawaæ produkty za punkty.",
+					"102"=>"Produktu nie znaleziono w sklepie...",
+					"103"=>"Produkty za punkty nie mog± mieæ ustawionych atrybutów zaawansowanych!",
+					"202"=>"Wyst±pi³y problemy z realizacj± zamówienia.<br>Ilo¶æ punktów dostêpnych dla u¿ytkownika nie zgadza siê.<br> Proszê spróbowaæ ponownie z³o¿yæ zamówienie.",
+					"302"=>"Masz zbyt ma³o punktów na koncie.",
+		);
+$lang->basket_depository_error="Sklep aktualnie nie posiada ilo¶ci zamówionych produktów.";
+$lang->basket_max="max.";
+?>
\ No newline at end of file
diff -ruN ../soteesklep3/htdocs/go/_register/include/message.inc.php soteesklep3/htdocs/go/_register/include/message.inc.php
--- ../soteesklep3/htdocs/go/_register/include/message.inc.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/htdocs/go/_register/include/message.inc.php	2006-08-23 16:59:15.000000000 +0200
@@ -0,0 +1,170 @@
+<?php
+/**
+* Generowanie tresci zamowienia.
+*
+* @author m@sote.pl
+* @version $Id: message.inc.php,v 2.14 2006/08/16 10:34:47 lukasz Exp $
+* @package    register
+*/
+
+class Message {
+    
+    function order2txt($order_id) {
+        global $form,$form_cor;
+        global $lang;
+        global $config;
+        global $_SESSION;
+        
+        if ((empty($form)) && (! empty($_SESSION['form']))) {
+            $form=$_SESSION['form'];
+        }
+        if ((empty($form_cor)) && (! empty($_SESSION['form_cor']))) {
+            $form_cor=$_SESSION['form_cor'];
+        }
+        
+        $this->order_id=$order_id;
+        
+        $o="";
+        
+        $o.=$lang->form_title_addr.":\n";
+        // dane bilingowe
+        $b="";
+        if (! empty($form['firm']))
+        $b.=$lang->form_name['firm'].": ".$form['firm']."\n";
+        $b.=$lang->form_name['name'].": ".$form['name']."\n";
+        $b.=$lang->form_name['surname'].": ".$form['surname']."\n";
+        $b.=$lang->form_name['street'].": ".$form['street']." ";
+        $b.=$form['street_n1'];
+        if (! empty($form['street_n2'])) {
+            $b.=" / ".$form['street_n2']."\n";
+        } else {
+            $b.="\n";
+        }
+        $b.=$lang->form_name['postcode'].": ".$form['postcode']."\n";
+        $b.=$lang->form_name['city'].": ".$form['city']."\n";
+        $b.=$lang->form_name['country'].": ".$lang->country[$form['country']]."\n";
+        $b.=$lang->form_name['phone'].": ".$form['phone']."\n";
+        if (! empty($form['nip']))
+        $b.=$lang->form_name['nip'].": ".$form['nip']."\n";
+        $b.=$lang->form_name['email'].": ".$form['email']."\n";
+        
+        // adres billingowy txt
+        $this->addr=$b;
+        
+        $o.=$b;
+        
+        // czy podano odzielny adres korespondencyjny?
+        if ((@$form['cor_addr']=="no") && (! empty($form_cor['name']))) {
+            $o.="\n".$lang->form_title_addr_cor.":\n";
+            $c="";
+            if (! empty($form_cor['firm']))
+            $c.=$lang->form_name['firm'].": ".$form_cor['firm']."\n";
+            $c.=$lang->form_name['name'].": ".$form_cor['name']."\n";
+            $c.=$lang->form_name['surname'].": ".$form_cor['surname']."\n";
+            $c.=$lang->form_name['street'].": ".$form_cor['street']." ";
+            $c.=$form_cor['street_n1'];
+            if (! empty($form_cor['street_n2'])) {
+                $c.=" / ".$form_cor['street_n2']."\n";
+            } else {
+                $c.="\n";
+            }
+            $c.=$lang->form_name['postcode'].": ".$form_cor['postcode']."\n";
+            $c.=$lang->form_name['city'].": ".$form_cor['city']."\n";
+            $c.=$lang->form_name['country'].": ".$lang->country[$form_cor['country']]."\n";
+            if (! empty($form_cor['phone']))
+            $c.=$lang->form_name['phone'].": ".$form_cor['phone']."\n";
+            if (! empty($form_cor['email']))
+            $c.=$lang->form_name['email'].": ".$form_cor['email']."\n";
+            
+            // adres korespondencyjny txt
+            $this->addr_cor=$c;
+            
+            $o.=$c;
+            
+        } else {
+            $o.="\n".$lang->form_title_one_addr."\n\n";
+        }
+        
+        $o.=$lang->form_name['description'].": ".@$form['description']."\n";
+        
+        // dodatkowe informacje o zmowieniu wprowadzane w dodatkwoym oknie z koszyka
+        if (! empty($_SESSION['global_order_ext_description'])) {
+            $o.="\n ".$_SESSION['global_order_ext_description']."\n";
+        }
+        
+        if ($config->basket_photo==true) {
+            $o.="\n";
+            $o.=$this->basket_photo();
+        }
+        
+        return $o;
+    } // end order2txt()
+    
+    
+    /**
+    * Dodaj linki do zalaczonych do zamowienia zdjec
+    *
+    * @param int $order_id
+    * @return string (txt) linki do zdjec produktow
+    */
+    function basket_photo() {
+        global $db,$sess;
+        global $lang;
+        global $_SERVER;
+        global $_SESSION;
+        global $config;
+        
+        // nazwa hosta
+        $host=$_SERVER['HTTP_HOST'];
+        
+        if (empty($this->order_id)) die ("Error: Zamówienie nie zosta³o wys³ane/Error: Order wasn't sent.");
+        $order_id=$this->order_id;
+        
+        $o=$lang->message_basket_photo_title;
+        $query="SELECT user_id,name FROM basket_photo WHERE session_id=?";
+        $prepared_query=$db->PrepareQuery($query);
+        if ($prepared_query) {
+            $db->QuerySetText($prepared_query,1,$sess->id);
+            $result=$db->ExecuteQuery($prepared_query);
+            if ($result!=0) {
+                $num_rows=$db->NumberOfRows($result);
+                for ($i=0;$i<$num_rows;$i++) {
+                    $user_id=$db->FetchResult($result,$i,"user_id");
+                    $name=$db->FetchResult($result,$i,"name");
+                    $o.=$user_id." http://$host".$config->url_prefix."/go/_basket/_photo/tmp_photos/$name\n";
+                } // end for
+            } else die ($db->Error());
+        } else die ($db->Error());
+        
+        return $o;
+    } // end basket_photo
+    
+    
+    /**
+    * Zloz tresc calego zamowienia
+    *
+    * @param string $basket_add zawartosc koszyka w formacie txt
+    * @param string $body dane zamaiwajacego, adres korepsondencyjny
+    * @param int    $order_id numer zamowienia
+    * @return string tresc zamowienia
+    */
+    function order_body(&$basket_txt,&$body,$order_id,&$pay_name) {
+        global $lang,$config;
+        global $_SESSION;
+        global $global_id_pay_method;
+        
+        $this->order_id=$order_id;
+        
+        $o="";
+        $o.=$lang->order_id.": $order_id\n";
+        $o.=$lang->pay_method_title.": ".
+        $lang->pay_method[$global_id_pay_method]."\n\n";
+        $o.=$basket_txt;
+        $o.="\n";
+        $o.=$body;
+        
+        return $o;
+    } // end order_body()
+    
+} // end class Message
+?>
diff -ruN ../soteesklep3/htdocs/go/_register/include/order_register.inc.php soteesklep3/htdocs/go/_register/include/order_register.inc.php
--- ../soteesklep3/htdocs/go/_register/include/order_register.inc.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/htdocs/go/_register/include/order_register.inc.php	2006-08-23 16:59:15.000000000 +0200
@@ -0,0 +1,70 @@
+<?php
+/**
+* Zapisz transakcje w bazie danych
+*
+* \@session int $order_id
+* \@session string $order_id_date
+* \@session int $global_id_pay_method numer id rodzaju platbosci 1- zalicznie, 2 - eCard, 3 - PolCard
+* \@session string $global_pay_name nzwa metody platnosci
+*
+* @author  m@sote.pl
+* @version $Id: order_register.inc.php,v 2.20 2006/08/16 14:31:00 lukasz Exp $
+* @package    register
+*/
+
+if (@$global_secure_test!=true) {
+    die ("Forbidden");
+}
+
+/**
+* Dodaj dodatkow± obs³ugê Metabase.
+*/
+global $database;
+require_once ("include/metabase.inc");
+
+// zapisz wybrana forme platnosci
+$sess->register("global_id_pay_method",$global_id_pay_method);
+$global_pay_name=$config->pay_method[$global_id_pay_method];
+$sess->register("global_pay_name",$global_pay_name);
+
+/**
+* Dodaj klasê obs³ugi transakcji.
+*/
+require_once ("include/order/order.inc");
+$ord_reg =& new OrderRegister;
+
+// dodaj transakcje do bazy, generuj numer transakcji
+if (! $ord_reg->getOrderID()) {
+    $ord_reg->insert();
+    
+} else {    
+    // aktualizuj id_pay_method, na wypadek, gdyby uzytlownik np. wybral platnsoc karta
+    // nie dokonczyl platnosci i pozniej wybral inna forme zaplaty
+    
+    // sprawdz czy uzytkownik nie wybral wczesniej platnosci karta kredytowa
+    $my_order_id=$ord_reg->getOrderID();
+    
+    // odczytaj, czy wczesniej nie bylo zdefinowanej metody platnosci
+    // (np. kleint nie dokonczyl autoryzacji karte itp.)
+    $prev_id_pay_method=$database->sql_select("id_pay_method","order_register","order_id=$my_order_id");
+    
+    // przekaz zmienna do pliku _post/index.php
+    // sprawdz czy klient zmienil metode platnosci
+    if (($prev_id_pay_method!=$global_id_pay_method) && ($prev_id_pay_method>1)) {
+        $__check=1;
+    } else $__check=0;
+	if (empty($_SESSION['order_session'])) {
+		$_SESSION['order_session']=$sess->id;
+	} else {
+		$_SESSION['order_session']=md5(time());
+	}    
+    $ord_reg->update($ord_reg->getOrderID());  
+} 
+
+
+
+// wstaw numer order_id do zalaczonych zdjec, o ile opcja taka jest dostepna w sklepie
+if ($config->basket_photo==true) {
+    require_once("./include/basket_photo_update.inc.php");
+}
+?>
diff -ruN ../soteesklep3/htdocs/lang/_cz/lang.inc.php soteesklep3/htdocs/lang/_cz/lang.inc.php
--- ../soteesklep3/htdocs/lang/_cz/lang.inc.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/htdocs/lang/_cz/lang.inc.php	2006-08-23 16:59:16.000000000 +0200
@@ -0,0 +1,735 @@
+<?php
+$lang->encoding="ISO-8859-2";
+$lang->shop="SOTEeSKLEP";
+$lang->date="Datum";
+$lang->back="Návrat";
+$lang->search="Hledej";
+$lang->add="Pøidej";
+$lang->help="Nápovìda";
+$lang->symbol_add="+";
+$lang->symbol_del="-";
+$lang->del="Odstraò";
+$lang->next="Dal¹í";
+$lang->send="Po¹li";
+$lang->more="Informace";
+$lang->recommend="Doporuè obchod (napi¹ e-mail)";
+$lang->basket_add="Pøidej do ko¹íku";
+$lang->wishlist_add="Dodat do úschovny";
+$lang->time_execute="èas generování strany";
+$lang->go=">>";
+$lang->producer_select="V¹ichni výrobci";
+$lang->category_select="V¹echny kategorie";
+$lang->choose_producer="Kategorie";
+$lang->page="Strana";
+$lang->records="Rekordy";
+$lang->empty_list_message="®ádné rekordy";
+$lang->first="Zaèátek";
+$lang->bool=array(
+                '1'=>"ano",
+                '0'=>"ne",
+                );
+$lang->head_home="Home";
+$lang->head_help="Nápovìda";
+$lang->head_contact="Kontakt";
+$lang->head_about_shop="O obchodu";
+$lang->head_your_basket="Tvùj ko¹ík";
+$lang->head_login_register="Logování, registrace";
+$lang->head_my_account="Mé konto";
+$lang->head_terms="Obchodní podmínky";
+$lang->head_soteshop="SOTEeSKLEP 2";
+$lang->head_in_basket="Hodnota";
+$lang->head_products_count="Poèet produktù";
+$lang->head_shop="Obchod";
+$lang->head_search="Hledej";
+$lang->head_promotions="Akce";
+$lang->head_news="Novinky";
+$lang->head_about_company="O firmì";
+$lang->head_users_online="U¾ivatelé online";
+$lang->head_register="Zaregistruj se";
+$lang->head_simple_title="Obchod";
+$lang->google=array(
+                'title'=>"",
+                'keywords'=>"",
+                'description'=>"",
+                );
+$lang->foot_main_page="Hlavní strana";
+$lang->foot_promotions="Akce";
+$lang->foot_news="Novinky";
+$lang->foot_about="O firmì";
+$lang->foot_terms="Obchodní podmínky";
+$lang->foot_basket_state="Aktuální stav ko¹íku";
+$lang->foot_help="Nápovìda";
+$lang->foot_soft="systémové nároky";
+$lang->cols=array(
+                'name'=>"Název",
+                'producer'=>"Výrobce",
+                'price'=>"Cena",
+                'price_brutto'=>"Cena vèetnì DPH",
+                'price_netto'=>"Cena bez DPH",
+                'price_nettobrutto'=>"Cena bez DPH/vèetnì DPH",
+                'category'=>"Kategorie",
+                'discount'=>"Sleva",
+                'price_brutto_detal'=>"Stará cena",
+                'points'=>"Body",
+                'm_points'=>"Bodù",
+                );
+$lang->main_recommend="Doporuèujeme";
+$lang->main_news="Nejnovìj¹í zprávy";
+$lang->left_choose_category="Vyber kategorii";
+$lang->right_choose_layout="Zvol si vzhled obchodu";
+$lang->right_send="Po¹li";
+$lang->right_news="Novinky";
+$lang->random_discount="Rabat";
+$lang->random_price_brutto="Cena vèetnì DPH";
+$lang->random_price_netto="Cena bez DPH";
+$lang->info_price_detal="Cena bez DPH";
+$lang->record_price_netto="Cena bez DPH";
+$lang->record_price_brutto="Cena vèetnì DPH";
+$lang->discount="rabat";
+$lang->calculate_order="Spoèítej";
+$lang->take_order="Realizuj objednávku";
+$lang->delivery_cost="Náklady dodání";
+$lang->shopping_amount="Hodnota nákupu";
+$lang->total_order_amount="Celkem k zaplacení";
+$lang->register_info="Pokud nejsi registrovaným u¾ivatelem, mù¾e¹ se zaregistrovat.";
+$lang->register_now="Zaregistruj se";
+$lang->register_fill_gaps="V¹echny tuènì vypsané údaje jsou povinné";
+$lang->register_nip_desc="pokud chce¹ obdr¾et <br>fakturu DPH";
+$lang->register_cor_desc="Vý¹e uvedená adresa <BR>je i adresou pro doruèení?";
+$lang->register_news_desc="Pøejete si dostávat informace z prodejny?";
+$lang->register_newsletter="Chce¹ dostávat informace o akcích<BR> a novinkách na e-mail.";
+$lang->register_bil_cor_data="Fakturaèní údaje a korespondenèní adresa";
+$lang->register_bil_data="Fakturaèní údaje";
+$lang->register_cor_address="Adresa dodání";
+$lang->register_post_payment="Po¹li objednávku na dobírku";
+$lang->register_ecard_payment="Platba kreditní kartou - systém eCard";
+$lang->register_polcard_payment="Platba kreditní kartou - systém PolCard";
+$lang->register_polcard_cards="Akceptované karty: VISA, MasterCard, PolCard, JCB, Diners Club, Styl";
+$lang->register_citi_payment="Platba kreditní kartou - systém CitiConnect";
+$lang->register_paypal_payment="Platím systémem PayPal";
+$lang->register_paypal_info="Po kliknutí klávesy budete pøesmìrováni do systému platby PayPal";
+$lang->register_payu_payment="Platím systémem PayU";
+$lang->register_transfer_payment="Platím pøevodem";
+$lang->register_post_order="Objednej na zálohu";
+$lang->register_ecard_order="Platím kartou - eCard";
+$lang->register_polcard_order="Platím kartou - PolCard";
+$lang->register_citi_order="Platím kartou - CitiConnect";
+$lang->register_paypal_order="Platím systémem PayPal";
+$lang->register_payu_order="Platím systemém PayU";
+$lang->register_transfer_order="Platím pøevodem";
+$lang->users_login_name="Objednej na zálohu";
+$lang->users_login_email="Login nebo e-mail";
+$lang->users_password="Heslo";
+$lang->users_login="Pøihlá¹ený";
+$lang->users_logout="Odhla¹ se";
+$lang->users_change_personal_data="Zmìò svá data";
+$lang->users_your_points="Tvùj aktuální poèet bodù";
+$lang->users_register_desc="Jestli jsi nový zákazník, mù¾e¹ se zaregistrovat";
+$lang->users_register="Zaregistruj se";
+$lang->users_sales="Obchodník";
+$lang->users_order_register_desc="Pokud chce¹ nyní zrealizovat svou objednávku, klikni na tlaèítko.";
+$lang->users_take_order="Realizuj objednávku";
+$lang->users_bar_auth="Autorizace";
+$lang->users_login_error="Chybná autorizace!";
+$lang->users_login_error_advice="Zkus se znovu pøihlásit";
+$lang->users_user="U¾ivatel ";
+$lang->users_loginok_desc=" je korektnì pøihlá¹en :)";
+$lang->users_change_data="Edituj data";
+$lang->users_points="Rabaty";
+$lang->users_points="Body";
+$lang->users_trans="Transakce";
+$lang->users_trans_history="Historie transakcí";
+$lang->users_password_confirm="Opakuj heslo";
+$lang->users_continue="Dal¹í";
+$lang->users_already_registered="Pokud jsi ji¾ zaregistrovaný klient, tak";
+$lang->users_logout_action="byl odhlá¹en";
+$lang->users_registered="Tvá data byla zaregistrována";
+$lang->login_ok="jje pøihlá¹en";
+$lang->users_address_book="Adresáø";
+$lang->users_reminder="Termináø";
+$lang->basket_delivery_name_unknown="Nepopsaný";
+$lang->basket_delivery_country="Zemì dodávky";
+$lang->basket_delivery_cost="Náklady dodání";
+$lang->basket_photo_description="<B>Popis objednaného produktu (uwagi):</b>";
+$lang->basket_upload="Pøipoj soubor";
+$lang->basket_upload_file_exists="Pøipojený soubor ji¾ existuje, zmìò název souboru ";
+$lang->basket_photo_submit="Aktualizuj zmìny/pøipoj soubory";
+$lang->basket_total_order_amount="Celkem k zaplacení";
+$lang->basket_bar_title="Obsah ko¹íku";
+$lang->basket_order_continue="Pokraèuj v nákupech";
+$lang->basket_delivery_name="Dodavatel";
+$lang->basket_order_amount_name="Kwota do zap³aty";
+$lang->basket_txt_title="Obsah ko¹íku";
+$lang->basket_amount_name="Hodnota nákupu";
+$lang->basket_elements=array(
+                'name'=>"název",
+                'user_id'=>"ID",
+                'num'=>"poèet/mno¾ství",
+                'price_netto'=>"cena bez DPH",
+                'price_brutto'=>"cena vèetnì DPH",
+                'price_nettobrutto'=>"cena bez DPH/vèetnì DPH",
+                'vat'=>"DPH",
+                'sum_brutto'=>"èástka vèetnì DPH",
+                'name_unavailable'=>"Zkontrolujte dostupnost Výrobku",
+                'points_value'=>"bodù",
+                );
+$lang->basket_attach_images_order="Pøipoj obrázky k objednávce";
+$lang->basket_attach_file_desc1="Pokud chce¹ pøipojit obrázky k danému produktu, vyber soubor a klikni na tlaèítko";
+$lang->basket_attach_file="Pøipoj soubor";
+$lang->basket_attach_file_desc2="Pokud je pro nìkolik produktù stejný obrázek, pøipoj pouze jeden a pro zbylé vyber název ze seznamu a potvrd";
+$lang->basket_check_attach="Zkontroluj/Pøipoj obrázek k objednávce";
+$lang->promotions_basket_name="Akce, kterou vyu¾ívá¹";
+$lang->promotions_basket_amount="Hodnopta nákupu po slevì, v akci";
+$lang->promotions_order_amount="Cena k zaplacení po slevì, v akci";
+$lang->promotions_basket_discount="rabat";
+$lang->promotions_mail_name="Akce";
+$lang->promotions_select="Dostupné akce";
+$lang->promotions_submit="Vyu¾ij akci";
+$lang->promotions_go2basket="Realizuj objednávku";
+$lang->promotions_code="Zadej kód akce";
+$lang->promotions_title="Akce";
+$lang->promotions_all="Seznam se s popisy akcí";
+$lang->choose="Vyber";
+$lang->short_list="Struèný seznam";
+$lang->full_list="Kompletní seznam s obrázky";
+$lang->producers="Výrobci";
+$lang->sort="Tøídìní";
+$lang->all="V¹ichniy";
+$lang->trans_desc="Kliknutím na id transakce získá¹ podrobné informace !";
+$lang->trans_id="Id transakce";
+$lang->trans_date="Datum transakce";
+$lang->trans_amount="Èástka";
+$lang->trans_stat="Statut";
+$lang->trans_pay_conf="Zaplacena";
+$lang->trans_payment="Platba";
+$lang->trans_ask4trans="Polo¾ otázku prodejci";
+$lang->basket_th_product_name="název produktu";
+$lang->basket_th_netto="bez DPH";
+$lang->basket_th_vat="DPH";
+$lang->basket_th_brutto="vèetnì DPH";
+$lang->basket_th_count="mno¾ství";
+$lang->basket_th_sum="èástka";
+$lang->basket_th_delete="odstraò";
+$lang->yes="ano";
+$lang->no="ne";
+$lang->delete="odstraò";
+$lang->basket_title="Obsah ko¹íku";
+$lang->bar_title=array(
+                'promotion'=>"Akce-promoce",
+                'newcol'=>"Novinky",
+                'bestseller'=>"Bestseller",
+                'main_page'=>"Zveme na nákupy",
+                'users'=>"Logování, registrace",
+                'register_confirm'=>"Ovìøit zapsané údaje, vybrat zpùsob platby",
+                'register_cor'=>"Adresa zásilky",
+                'register_billing'=>"Billingové údaje",
+                'search'=>"Výsledek hledání pro",
+                'polcard'=>"Platba kreditní kartou - systém <a href=http:// www.polcard.com.pl target=polcard>PolCard</a>",
+                'ecard'=>"Platba kreditní kartou - systém <a href=http:// www.ecard.pl target=ecard>eCard</a>",
+                'newsletter'=>"Newsletter",
+                'firm'=>"Pøihlá¹ení pro velkoodbìratele",
+                'themes'=>"Zmìna vzhledu strany",
+                'account'=>"Mé konto",
+                'trans'=>"Mé transakce",
+                'trans_products'=>"Obsah transakce èíslo:",
+                'info'=>"Informace",
+                'address_book'=>"Adresáø",
+                'reminder'=>"Termináø",
+                'contact'=>"Kontakt",
+                'about_shop'=>"O obchodu",
+                'help'=>"Nápovìda",
+                'about_company'=>"O firmì",
+                'terms'=>"Obchodní podmínky",
+                'points'=>"Moje body",
+                );
+$lang->register_billing_form_errors=array(
+                'name'=>"chybí jméno",
+                'surname'=>"chybí pøíjmení",
+                'street'=>"chybí ulice",
+                'street_n1'=>"chybí èíslo popisné",
+                'postcode'=>"chybí po¹tovní smìrovací èíslo",
+                'city'=>"chybí mìsto",
+                'phone'=>"chybí telefon",
+                'email'=>"nesprávná e-mailová adresa/nebo adresa ji¾ existuje v databázi",
+                );
+$lang->register_cor_form_errors=array(
+                'name'=>"chybí jméno",
+                'surname'=>"chybí pøíjmení",
+                'street'=>"chybí ulice",
+                'street_n1'=>"chybí èíslo popisné",
+                'postcode'=>"chybí po¹tovní smìrovací èíslo",
+                'city'=>"chybí mìsto",
+                'email'=>"nesprávná e-mailová adresa",
+                );
+$lang->form_name=array(
+                'firm'=>"firma",
+                'name'=>"jméno",
+                'surname'=>"pøíjmení",
+                'street'=>"ulice",
+                'street_n1'=>"èíslo popisné",
+                'street_n2'=>"èíslo bytu",
+                'postcode'=>"po¹tovní smìrovací èíslo",
+                'city'=>"mìsto",
+                'phone'=>"telefon",
+                'email'=>"e-mail",
+                'country'=>"zemì",
+                'nip'=>"DIÈ",
+                'description'=>"poznámky",
+                );
+$lang->select_country="Vyberte zemi dodávky";
+$lang->form_title_addr="Fakturaèní údaje";
+$lang->form_title_addr_cor="Korespondenèní adresa";
+$lang->form_title_one_addr="Korespondenèní adresa je shodná s fakturaèní adresou";
+$lang->basket_empty="Ko¹ík je prázdný";
+$lang->order_continue="Pokraèuj v nákupech";
+$lang->order_subject="Objednávka z obchodu";
+$lang->order_confirm_subject="Potvrzení objednávky";
+$lang->search_empty_query="Chyba vyhledávání. Zadej název hledaného produktu.";
+$lang->search_empty_title="Vyhledávání";
+$lang->search_category="hledej v kategorii";
+$lang->search_description="hledej v popisech";
+$lang->search_advanced="Pokroèilé vyhledávání";
+$lang->delivery_name="Dodavatel";
+$lang->delivery_name_unknown="Nedefinovaný";
+$lang->order_amount_name="Èástka k zaplacení";
+$lang->users_new_form_errors=array(
+                'login'=>"chybné pøihla¹ovací jméno",
+                'password'=>"chybné heslo, zadej min. 6 znakù",
+                'password2'=>"chybnì opakované heslo",
+                );
+$lang->users_log_in="Pøihla¹ se";
+$lang->users_change_password="Zmìò heslo";
+$lang->pay_method=array(
+                '1'=>"Pøi odbìru",
+                '2'=>"eCard",
+                '3'=>"PolCard",
+                '4'=>"Inteligo",
+                '5'=>"mBank",
+                '6'=>"CitiConnect",
+                '7'=>"PayU",
+                '11'=>"Pøevod",
+                '20'=>"PlatbyPL",
+                '110'=>"Platba kartou",
+                );
+$lang->pay_method_title="Zpùsob platby";
+$lang->pay_method_status_off="Zku¹ební re¾im";
+$lang->upload="Pøipoj soubor";
+$lang->upload_photo="Pøipojený soubor";
+$lang->upload_file_exists="Pøipojený soubor ji¾ existuje, zmìò název souboru ";
+$lang->upload_name_info="zadej název souboru";
+$lang->message_basket_photo_title="Fotografie k produktùm: ";
+$lang->newsletter="Newsletter";
+$lang->newsletter_list_info="Novinky";
+$lang->info_options="Vyber funkce: ";
+$lang->mp3=array(
+                'title'=>"Zvukové soubory ve formátu MP3",
+                'ftp'=>"stáhni player mp3\"",
+                );
+$lang->points_category="Nákupy za body";
+$lang->points_show="Poèet tvých bodù";
+$lang->available="Dostupnost:";
+$lang->available_online=array(
+                '1'=>"produkt dostupný on-line",
+                '0'=>"je, ale není dostupný on-line",
+                );
+$lang->ask4price_mail="Zeptat se na cenu produktu";
+$lang->ask4price="Zeptej se na cenu";
+$lang->ask4price_list="Otázky ohlednì ceny";
+$lang->ask4price_empty_list="Nejsou otázky ohlednì ceny";
+$lang->close="Zavøít";
+$lang->order_by=array(
+                'name'=>"Název",
+                'price'=>"Cena",
+                'producer'=>"Výrobce",
+                'SCORE'=>"Pøizpùsobení",
+                );
+$lang->in_category="Jiné produkty ze stejné kategorie";
+$lang->accessories="Pøíslu¹enství";
+$lang->full_description="Úplný popis";
+$lang->write_up="Recenze produktu";
+$lang->order_names=array(
+                'order_id'=>"Èíslo transakce",
+                'amount'=>"Èástka k zaplacení",
+                'delivery_cost'=>"Cena dodání",
+                'id_currency'=>"Mìna",
+                'id_pay_method'=>"Splatnost",
+                'date_add'=>"Datum transakce",
+                'time_add'=>"Hodina",
+                'xml_description'=>"objednávka",
+                'id_user'=>"id u¾ivatele",
+                'xml_user'=>"data objednavatele",
+                'name'=>"objednavatel",
+                'id_delivery'=>"Dodavatel",
+                'id_status'=>"Statut",
+                'confirm'=>"Zaplacena",
+                'confirm_user'=>"Potvrzena e-mailem",
+                'description'=>"Doplòkové informace",
+                'status'=>"Statut",
+                'checksum'=>"skontrolní èástka transakce",
+                'send_date'=>"Datum odeslání zásilky",
+                'send_number'=>"Èíslo zásilky",
+                'send_confirm'=>"Zásilka odeslána",
+                );
+$lang->users_bar="Vítejte v u¾ivatelském panelu !";
+$lang->order_basket=array(
+                'name'=>"název produktu",
+                'options'=>"funkce",
+                'user_id'=>"id",
+                'price_netto'=>"cena bez DPH",
+                'vat'=>"DPH",
+                'num'=>"mno¾ství",
+                'price_brutto'=>"cena vèetnì DPH",
+                'sum'=>"èástka",
+                );
+$lang->send_link="Za úèelem potvrzení objednávky klikni na ní¾e uvedený odkaz";
+$lang->register_send_title="Odeslání objednávky";
+$lang->register_send_confirm_ok="Dìkujeme za uskuteènìné nákupy.";
+$lang->register_send_confirm_ok_add_info="<BR><b>UPOZORNÌNÍ!</b> Byl zmìnìn zpùsob platby.<BR>
+Pokud do¹lo k autorizaci transakce jiným zpùsobem platby, zbo¾í ti bude zaslo bez zálohy.<BR><BR>";
+$lang->register_send_order_error="Bohu¾el se nepodaøilo odeslat objednávku. <BR>
+Kontaktuj prodejce na adrese  ";
+$lang->send_add_info="UPOZORNÌNÍ! U¾ivatel zmìnil zpùsob platby. Zkontroluj na stránce administrace POLCARD'u jestli byla transakce autorizována. ";
+$lang->trans_link="K zobrazení podrobností, týkajících se Tvé transakce klikni na ní¾e uvedený odkaz";
+$lang->main_keys_empty="v databázi nejsou kódy k tomuto produktu, <br> správný kód obdr¾í¹ e-mailem";
+$lang->main_keys_code="Kódy k objednávce";
+$lang->main_keys_cols=array(
+                'name'=>"Název produktu",
+                'info'=>"Hlá¹ení",
+                );
+$lang->main_keys_errors_title="Doplòkové informace o realizaci objednávky";
+$lang->main_keys_title="Doplòková data do objednávky";
+$lang->main_keys_mail=array(
+                'subject'=>"Doplòková data do objednávky",
+                'title'=>"Ní¾e jsou kódy pro objednávku v internetovém obchodu",
+                'user_id'=>"ID",
+                'name'=>"Název",
+                );
+$lang->main_keys_download="stáhni soubor";
+$lang->main_keys_demo_title="Bezplatné soubory ke sta¾ení:";
+$lang->main_keys_download_title="Stahování souborù";
+$lang->main_keys_download_not_found="Oznaèený soubor neexistuje. Kontaktuj prodejce";
+$lang->month_name=array(
+                '1'=>"Leden",
+                '2'=>"Únor",
+                '3'=>"Bøezen",
+                '4'=>"Duben",
+                '5'=>"Kvìten",
+                '6'=>"Èerven",
+                '7'=>"Èervenec",
+                '8'=>"Srpen",
+                '9'=>"Záøí",
+                '10'=>"Øíjen",
+                '11'=>"Listopad",
+                '12'=>"Prosinec",
+                );
+$lang->currency_select="Vyber mìnu";
+$lang->infoOnPageURI=array(
+                'name'=>"Více",
+                );
+$lang->printPage=array(
+                'button'=>"Tisk.",
+                'info'=>"Vytisknout stranu?",
+                );
+$lang->newsletter_add=" Pøidej ";
+$lang->newsletter_remove=" Odstraò ";
+$lang->wp_store_trans=array(
+                '-1'=>"Server SOAP je nedostupný.",
+                '0'=>"OK",
+                '1'=>"Chyba autorizace.",
+                '2'=>"Operace se èásteènì zdaøila",
+                '3'=>"Operace se nezdaøila.",
+                );
+$lang->users_forgot_password="Nepamatuje¹ si heslo?";
+$lang->users_click_here="Klikni tady.";
+$lang->country_user_def="Vyber stát.";
+$lang->delivery_country="Vyber stát.";
+$lang->country=array(
+                'AF'=>"Afghánistán",
+                'AL'=>"Albánie",
+                'DZ'=>"Al¾írsko",
+                'AS'=>"Americká Samoa",
+                'UM'=>"Americké men¹i zámoøské ostrovy",
+                'AD'=>"Andorra",
+                'AO'=>"Angola",
+                'AI'=>"Anguilla",
+                'AQ'=>"Antarktika",
+                'AG'=>"Antigua a Barbuda",
+                'AR'=>"Argentina",
+                'AM'=>"Arménie",
+                'AW'=>"Aruba",
+                'AU'=>"Austrálie",
+                'AZ'=>"Ázerbajd¾án",
+                'BS'=>"Bahamy",
+                'BH'=>"Bahrajn",
+                'BD'=>"Bangladé¹",
+                'BB'=>"Barbados",
+                'BY'=>"Bìlorusko",
+                'BE'=>"Belgie",
+                'BZ'=>"Belize",
+                'BJ'=>"Benin",
+                'BM'=>"Bermudy",
+                'BT'=>"Bhútán",
+                'IO'=>"Britské indickooceánské teritorium",
+                'BN'=>"Brunej Darussalam",
+                'BO'=>"Bolívie",
+                'BA'=>"Bosna a Hercegovina",
+                'BV'=>"Bouvet Island",
+                'BW'=>"Botswana",
+                'BR'=>"Brazílie",
+                'BF'=>"Burkina Faso",
+                'BG'=>"Bulharsko",
+                'BI'=>"Burndi",
+                'KH'=>"Kambod¾a",
+                'CM'=>"Kamerun",
+                'CA'=>"Kanada",
+                'CV'=>"Kapverdy",
+                'KY'=>"Kajmanské ostrovy",
+                'CF'=>"Støedoafrická republika",
+                'TD'=>"Èad",
+                'CL'=>"Chile",
+                'CN'=>"Èína",
+                'CX'=>"Vánoèní ostrov (v Indickém oceánu)",
+                'HR'=>"Chorvatsko",
+                'CC'=>"Kokosové ostrovy",
+                'CO'=>"Kolumbie",
+                'KM'=>"Komory",
+                'CG'=>"Kongo",
+                'CD'=>"Kongo (Demokratická republika Kongo)",
+                'CR'=>"Kostarika",
+                'CK'=>"Cookovy ostrovy",
+                'CU'=>"Kuba",
+                'CY'=>"Kypr",
+                'CZ'=>"Èeská republika",
+                'DK'=>"Dánsko",
+                'DJ'=>"D¾ibuti",
+                'DM'=>"Dominika",
+                'DO'=>"Dominikánská republika",
+                'TP'=>"Východní Timor",
+                'EC'=>"Ekvádor",
+                'EG'=>"Egypt",
+                'SV'=>"Salvador",
+                'GQ'=>"Rovníková Guinea",
+                'ER'=>"Eritrea",
+                'EE'=>"Estonsko",
+                'ET'=>"Etiopie",
+                'FK'=>"Falklandy",
+                'FO'=>"Faerské ostrovy",
+                'FJ'=>"Fid¾i",
+                'FI'=>"Finsko",
+                'FR'=>"Francie",
+                'FX'=>"Francie (European Territory)",
+                'GF'=>"Francouzská Guyana",
+                'TF'=>"Francouzská ji¾ní území",
+                'GA'=>"Gabun",
+                'GM'=>"Gambie",
+                'DE'=>"Nìmecko",
+                'GE'=>"Gruzie",
+                'GH'=>"Ghana",
+                'GI'=>"Gibraltar",
+                'GB'=>"Spojené království",
+                'GR'=>"Øecko",
+                'GL'=>"Grónsko",
+                'GD'=>"Grenada",
+                'GP'=>"Guadeloupe (Francouzská)",
+                'GT'=>"Guatemala",
+                'GN'=>"Guinea",
+                'GU'=>"Guam (USA)",
+                'GW'=>"Guinea Bissau",
+                'GY'=>"Guyana",
+                'HT'=>"Haiti",
+                'HM'=>"Heardùv ostrov a McDonaldovy ostrovy",
+                'HN'=>"Honduras",
+                'HK'=>"Hongkong",
+                'HU'=>"Maïarsko",
+                'IS'=>"Island",
+                'IN'=>"Indie",
+                'ID'=>"Indonézie",
+                'IQ'=>"Irák",
+                'IR'=>"Írán",
+                'IE'=>"Irsko",
+                'IL'=>"Izrael",
+                'IT'=>"Itálie",
+                'JM'=>"Jamajka",
+                'JP'=>"Japonsko",
+                'YE'=>"Jemen",
+                'JO'=>"Jordánsko",
+                'YU'=>"Jugoslávie",
+                'QA'=>"Katar",
+                'KZ'=>"Kazachstán",
+                'KE'=>"Keòa",
+                'KI'=>"Kiribati",
+                'KW'=>"Kuvajt",
+                'KG'=>"Kyrgyzstán",
+                'LA'=>"Laos",
+                'LV'=>"Loty¹sko",
+                'LB'=>"Libanon",
+                'LS'=>"Lesotho",
+                'LR'=>"Libérie",
+                'LY'=>"Libye",
+                'LI'=>"Lichten¹tejnsko",
+                'LT'=>"Litva",
+                'LU'=>"Lucembursko",
+                'MO'=>"Makao",
+                'MK'=>"Makedonie",
+                'MG'=>"Madagaskar",
+                'MY'=>"Malajsie",
+                'MW'=>"Malawi",
+                'MV'=>"Maledivy",
+                'ML'=>"Mali",
+                'MT'=>"Malta",
+                'MH'=>"Marshallovy ostrovy",
+                'MR'=>"Mauretánie",
+                'MU'=>"Mauricius",
+                'MQ'=>"Martinique (Francouzská)",
+                'YT'=>"Mayotte",
+                'MX'=>"Mexiko",
+                'FM'=>"Mikronésie",
+                'MD'=>"Moldavsko",
+                'MC'=>"Monako",
+                'MN'=>"Mongolsko",
+                'MS'=>"Montserrat",
+                'MA'=>"Maroko",
+                'MZ'=>"Mosambik",
+                'MM'=>"Myanmar",
+                'NA'=>"Namíbie",
+                'NR'=>"Nauru",
+                'NP'=>"Nepál",
+                'NI'=>"Nikaragua",
+                'NE'=>"Niger",
+                'NG'=>"Nigérie",
+                'NU'=>"Niue",
+                'NL'=>"Nizozemí",
+                'AN'=>"Nizozemské Antily",
+                'NC'=>"Nová Kaledonie",
+                'NZ'=>"Nový Zéland",
+                'NO'=>"Norsko",
+                'KP'=>"Korea (Korejská lidovì demokratická republika)",
+                'MP'=>"Severní Mariany",
+                'OM'=>"Omán",
+                'PK'=>"Pákistán",
+                'PW'=>"Palau",
+                'PA'=>"Panama",
+                'PG'=>"Papua Nová Guinea",
+                'PY'=>"Paraguay",
+                'PE'=>"Peru",
+                'PH'=>"Filipíny",
+                'PN'=>"Pitcairnovy ostrovy",
+                'CI'=>"Pobøe¾í slonoviny",
+                'PL'=>"Polsko",
+                'PF'=>"Francouzská Polynézie",
+                'PT'=>"Portugalsko",
+                'PR'=>"Portoriko",
+                'AT'=>"Rakousko",
+                'RE'=>"Réunion",
+                'RO'=>"Rumunsko",
+                'RU'=>"Rusko",
+                'RW'=>"Rwanda",
+                'GS'=>"Ji¾ní Georgie a Ji¾ní Sandwichovy ostrovy",
+                'SH'=>"Svatá Helena",
+                'KN'=>"Saint Kitts and Nevis Anguilla",
+                'LC'=>"Svatá Lucie",
+                'PM'=>"Svatý Petr a Mikelon",
+                'ST'=>"Svatý Tomá¹ a Princùv ostrov",
+                'VC'=>"Svatý Vincenc a Grenadiny",
+                'WS'=>"Samoa",
+                'SM'=>"San Marino",
+                'SA'=>"Saúdská Arábie",
+                'SN'=>"Senegal",
+                'SC'=>"Seychely",
+                'SL'=>"Sierra Leone",
+                'SG'=>"Singapur",
+                'SK'=>"Slovensko",
+                'SI'=>"Slovinsko",
+                'SB'=>"©alomounovy ostrovy",
+                'ZA'=>"Ji¾ní Afrika",
+                'KR'=>"Korea (Korejská republika)",
+                'SO'=>"Somálsko",
+                'ES'=>"©panìlsko",
+                'AE'=>"Spojené arabské emiráty",
+                'US'=>"Spojené státy americké",
+                'LK'=>"Sri Lanka",
+                'SD'=>"Súdán",
+                'SR'=>"Surinam",
+                'SZ'=>"Svazijsko",
+                'SE'=>"©védsko",
+                'CH'=>"©výcarsko",
+                'SY'=>"Sýrie",
+                'TJ'=>"Tád¾ikistán",
+                'TW'=>"Tchajwan",
+                'TZ'=>"Tanzánie",
+                'TH'=>"Thajsko",
+                'TG'=>"Togo",
+                'TK'=>"Tokelau",
+                'TO'=>"Tonga",
+                'TT'=>"Trinidad a Tobago",
+                'TN'=>"Tunisko",
+                'TR'=>"Turecko",
+                'TM'=>"Turkmenistán",
+                'TC'=>"Turks a Caicos",
+                'TV'=>"Tuvalu",
+                'UG'=>"Uganda",
+                'UA'=>"Ukrajina",
+                'UY'=>"Uruguay",
+                'UZ'=>"Uzbekistán",
+                'VU'=>"Vanuatu",
+                'VA'=>"Vatikán",
+                'VE'=>"Venezuela",
+                'VN'=>"Vietnam",
+                'VG'=>"Panenské ostrovy (britiské)",
+                'VI'=>"Panenské ostrovy (USA)",
+                'WF'=>"Wallis a Futuna",
+                'EH'=>"Západní Sahara",
+                'ZR'=>"Zair",
+                'ZM'=>"Zambie",
+                'ZW'=>"Zimbabwe",
+                'NT'=>"Neutral Zone",
+                );
+$lang->google_product_list="Seznam výrobkù";             
+$lang->google_categories="Kategorie";
+$lang->google_main_page="Výrobky doporuèované";
+$lang->google_files="Textové strany, informace";
+$lang->google_up_link="Mapa servisu";
+$lang->order_confirm_ok="Va¹e transakce byla potvrzena !<br /> Dìkujeme.";
+$lang->order_confirm_error="Va¹e transakce nemù¾e být potvrzena.<br /> Ovìøit link.";
+$lang->order_confirm_error1="Va¹e transakce není v databázi.<br /> Ovìøit link.";
+$lang->order_confirm_error2="Va¹e transakce byla u¾ døíve potvrzena !<br /> Dìkujeme.";
+$lang->order_confirm_error3="Chybné èíslo transakce !<br /> Ovìøit link.";
+$lang->trans_error="Informace o Va¹i transakci nemohou být zobrazené.<br /> Ovìøit link.";
+$lang->trans_error1="Va¹e transakce u¾ není v databázi.<br /> Omlouváme se.";		
+$lang->google_up_link="Mapa servisu";	
+$lang->ranking_title="Klienti, kteøí koupili prezentovaný výrobek, koupili rovnì¾ ní¾e uvedené:";		
+$lang->products4u_title="Výrobky pro Tebe";		
+$lang->check_uncheck_all="V¹echny výrobky ";
+$lang->to_be_deleted=" odstranit: ";	
+$lang->to_be_moved=" do úschovny: ";	
+$lang->to_be_moved_2basket=" do ko¹íku: ";	
+$lang->basket_th_move="do úschovny";
+$lang->wishlist_th_move="do ko¹íku";
+$lang->info_attrib_wishlist="Do úschovny";
+$lang->tooltip=array (
+					'wishlist'=>'Dodat do úschovny',
+					'wishlist_head'=>'Úschovna',
+					'basket'=>'Dodat do ko¹íku',
+					'basket_head'=>'Ko¹ík',
+					'info'=>'Plný popis');
+$lang->head_wishlist="Úschovna";
+$lang->points_action="Akce";
+$lang->points_time="Èas provedení";
+$lang->points_id_product="ID Výrobku";
+$lang->user_points=array(
+				    'decrease'=>"zmen¹ení",
+					'add'=>"zvìt¹ení",
+					'for_recommend'=>"za <b>pøíkaz</b> výrobku",
+					'for_product'=>"za <b>koupì</b></b>",
+					'for_review'=>"za dodání <b>recenze</b>",
+					);
+$lang->basket_points_amount_name="Hodnota nákupu";
+$lang->basket_points_cost="Hodnota objednávky v bodech";
+$lang->basket_points_left="K vyu¾ití zùstaly body";					
+$lang->basket_currency="Cìna platná v prodejnì je";
+$lang->basket_products_extra=array(
+								  "user_id"=>"ID",
+								  "points_value"=>"pkt"
+								  );
+$lang->order_id="Order number";								  
+?>
diff -ruN ../soteesklep3/htdocs/lang/_de/lang.inc.php soteesklep3/htdocs/lang/_de/lang.inc.php
--- ../soteesklep3/htdocs/lang/_de/lang.inc.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/htdocs/lang/_de/lang.inc.php	2006-08-23 16:59:16.000000000 +0200
@@ -0,0 +1,741 @@
+<?php
+$lang->search_empty_query="Durchsuchen erfolglos oder falsch";
+$lang->encoding="ISO-8859-1";
+$lang->shop="SOTEeShop";
+$lang->date="Datum";
+$lang->back="Zurück";
+$lang->search="suchen";
+$lang->add="Einfügen";
+$lang->symbol_add="+";
+$lang->symbol_del="-";
+$lang->del="Löschen";
+$lang->next="Weiter";
+$lang->send="Senden";
+$lang->recommend="Seite empfehlen (Email angeben)";
+$lang->wishlist_add="Zu Merkliste hinzufügen";
+$lang->basket_add="In den Warenkorb legen";
+$lang->time_execute="Exekutionszeit";
+$lang->go=">>";
+$lang->producer_select="Alle Hersteller";
+$lang->category_select="Alle Kategorien";
+$lang->choose_producer="Produzent, Kategorie";
+$lang->head_home="Anfangsseite";
+$lang->head_help="Hilfe";
+$lang->head_contact="Kontakt";
+$lang->head_about_shop="Über Shop";
+$lang->head_your_basket="Dein Warenkorb";
+$lang->head_login_register="Login, Registration";
+$lang->head_my_account="Meine Bankverbindung";
+$lang->head_terms="AGB";
+$lang->head_soteshop="SOTEeSKLEP 2";
+$lang->head_in_basket="im Warenkorb";
+$lang->head_products_count="Anzahl der Produkte";
+$lang->head_shop="Shop";
+$lang->head_search="Suchen";
+$lang->head_promotions="Angebote";
+$lang->head_news="Neuheiten";
+$lang->head_about_company="Über Shop";
+$lang->head_users_online="Benutzer online";
+$lang->head_simple_title="Shop";
+$lang->foot_main_page="Hauptseite";
+$lang->foot_promotions="Angebote";
+$lang->foot_news="Neuheiten";
+$lang->foot_about="Über Shop";
+$lang->foot_terms="AGB";
+$lang->foot_basket_state="Aktueller Warenkorb Bestand";
+$lang->foot_help="Hilfe";
+$lang->foot_soft="Software";
+$lang->main_recommend="Wir empfehlen";
+$lang->main_news="Neuste Nachrichten";
+$lang->left_choose_category="Kategorie wählen";
+$lang->right_choose_layout="Aussehen der Seite wählen<BR>";
+$lang->right_send="Senden";
+$lang->right_news="Neuheiten";
+$lang->random_discount="Rabatt";
+$lang->random_price_brutto="Bruttopreis";
+$lang->record_price_netto="Nettopreis";
+$lang->record_price_brutto="Bruttopreis";
+$lang->discount="Rabatt";
+$lang->calculate_order="Addiere";
+$lang->take_order="Bestellung realisieren";
+$lang->delivery_cost="Lieferungskosten";
+$lang->shopping_amount="Einkaufswert";
+$lang->total_order_amount="Zu bezahlen";
+$lang->register_info="Wenn Sie nicht registrierter Benutzer sind, können Sie sich registrieren";
+$lang->register_now="Registrieren";
+$lang->register_fill_gaps="Bitte füllen Sie die fett gedrückten Felder aus.";
+$lang->register_nip_desc="Falls Sie eine Rechnung wollen";
+$lang->register_cor_desc="Ist oben genannte Adresse auch Ihre Korrespondenzadresse?";
+$lang->register_bil_cor_data="Verrechnungsdaten und Korrespondenzadresse";
+$lang->register_bil_data="Verrechnungsdaten";
+$lang->register_cor_address="Korrespondenzadresse";
+$lang->register_news_desc="Wünschen Sie Informationen aus dem Shop zu erhalten?";
+$lang->register_post_payment="Bestellung per Nachnahme verschicken";
+$lang->register_ecard_payment="Bezahlung per Kreditkarte eCard.pl";
+$lang->register_polcard_payment="Bezahlung per Kreditkarte PolCard.pl";
+$lang->register_post_order="Bestellung via Vorauskasse";
+$lang->register_ecard_order="Zahlung mit Kreditkarte eCard.pl";
+$lang->register_polcard_order="Zahlung mit PolCard";
+$lang->register_polcard_cards="Akzeptierte Kreditkarten: VISA, MasterCard, PolCard, JCB, Diners Club, Sty";
+$lang->register_paypal_payment="Zahlung in  PayPal System";
+$lang->register_paypal_info="Klick hier, Verbindung zu PayPal wird hergestellt";
+$lang->register_paypal_order="Zahlung in  PayPal System";
+$lang->register_transfer_payment="Zahlung per Überweisung";
+$lang->register_transfer_order="Zahlung per Überweisung";
+$lang->users_login_name="Login angeben";
+$lang->users_login_email="Login oder Email";
+$lang->users_password="Password";
+$lang->users_logout="Logout";
+$lang->users_change_personal_data="Datenänderung";
+$lang->users_your_points="Anzahl Ihrer Punkte";
+$lang->users_register_desc="Falls Sie ein neuer Kunde sind, können sie sich registrieren";
+$lang->users_register="Registrieren";
+$lang->users_order_register_desc="Zum Ausführen Ihrer Bestellung unten angegebene Taste drücken";
+$lang->users_take_order="Bestellung realisieren";
+$lang->users_bar_auth="Autorisierung";
+$lang->users_login_error="Fehlautorisierung";
+$lang->users_login_error_advice="Versuchen Sie sich noch mal registrieren";
+$lang->users_user="Benutzer";
+$lang->users_loginok_desc=" wurde korrekt registriert";
+$lang->users_change_data="Daten ändern";
+$lang->users_points="Punkte";
+$lang->users_trans="Transaktionen";
+$lang->users_trans_history="Verlauf der Transaktion";
+$lang->users_password_confirm="Password wiederholen";
+$lang->users_continue="Weiter";
+$lang->users_already_registered="Falls Sie schon registrierter Kunde sind";
+$lang->users_logout_action="logout";
+$lang->users_registered="Kunde wurde registriert";
+$lang->users_address_book="-";
+$lang->users_reminder="-";
+$lang->login_ok="registriert";
+$lang->basket_delivery_name_unknown="Unbekannt";
+$lang->basket_delivery_country="Land der Lieferung";
+$lang->basket_delivery_cost="Lieferungskosten";
+$lang->basket_delivery_name="Lieferant";
+$lang->basket_order_amount_name="Summe zu bezahlen";
+$lang->basket_bar_title="Bestand des Warenkorbs";
+$lang->basket_order_continue="Einkauf weiterleiten";
+$lang->basket_txt_title="Bestand des Einkaufskorbs";
+$lang->basket_amount_name="Wert der eingekauften Waren";
+$lang->basket_elements=array(
+                'name'=>"Name",
+                'user_id'=>"ID",
+                'num'=>"Menge",
+                'price_netto'=>"Nettopreis",
+                'price_brutto'=>"Bruttopreis",
+                'vat'=>"Mehrwertsteuer",
+                'sum_brutto'=>"Bruttosumme",
+                'name_unavailable'=>"Überprüfe liefebarkeit des Produkts",
+                'points_value'=>"Punkte",
+                );
+$lang->order_points_update="Produkte für Prämienpunkte erwerben";            
+$lang->basket_photo_description="Beschreibung des bestellten Produkts";
+$lang->basket_upload="Datei hinzufügen";
+$lang->basket_upload_file_exists="Angegebene Datei existiert bereit, ändern Sie die Dateiname";
+$lang->basket_photo_submit="Äderungen aktualisieren/Dateien zusammen hinzufügen";
+$lang->basket_total_order_amount="Insgesamt zu zahlen";
+$lang->basket_attach_images_order="Bilder zur Bestellung hinzufügen";
+$lang->basket_attach_file_desc1="Um das Bild des Produkts hinzufügen Datei auswählen und klicken";
+$lang->basket_attach_file="Datei hinzufügen";
+$lang->basket_attach_file_desc2="Falls für mehrere Produkte dasselbe Foto vorhanden ist, nur eins einfügen und für restliche Produkte den Nehmen von der Liste auswählen, klicken";
+$lang->basket_check_attach="überprüfe/einfüge zur Bestellung";
+$lang->choose="Wählen";
+$lang->short_list="Kurzliste";
+$lang->full_list="Vollständige Liste mit Fotos";
+$lang->producers="Hersteller ";
+$lang->sort="Sortieren";
+$lang->all="Alle";
+$lang->trans_desc="Ausführliche Informationen sind in ID Transaktion zu bekommen";
+$lang->trans_id="ID Transaktion";
+$lang->trans_date="Transaktionsdatum";
+$lang->trans_amount="Summe";
+$lang->trans_stat="Status";
+$lang->trans_pay_conf="Bezahlt";
+$lang->trans_payment="Zahlungsart";
+$lang->trans_ask4trans="Fragen an Verkäufer";
+$lang->basket_th_product_name="Produktname";
+$lang->basket_th_netto="Netto";
+$lang->basket_th_vat="Steuer";
+$lang->basket_th_brutto="Brutto";
+$lang->basket_th_count="Menge";
+$lang->basket_th_sum="Summe";
+$lang->basket_th_delete="löschen";
+$lang->yes="ja";
+$lang->no="nein";
+$lang->delete="löschen";
+$lang->basket_title="Bestand des Warenkorbs";
+$lang->basket_th_points="punkte";
+$lang->bar_title=array(
+                'promotion'=>"Angebote",
+                'newcol'=>"Neuheiten",
+                'bestseller'=>"Bestseller",
+                'main_page'=>"Viel Spaß beim Einkaufen!",
+                'users'=>"Login, Registrierung",
+                'register_confirm'=>"Angegebene Daten überprüfen, Zahlungsart wählen",
+                'register_cor'=>"Korrespondenzadresse",
+                'register_billing'=>"Verrechnungsdaten",
+                'search'=>"Suchergebnis",
+                'polcard'=>"Zahlung per Kreditkarte PolCard.pl",
+                'ecard'=>"Zahlung per Kreditkarte - eCard.pl",
+                'newsletter'=>"Newsletter",
+                'firm'=>"Registrierung für Großhändler",
+                'themes'=>"Aussehen der Seite ändern",
+                'account'=>"Meine Bankverbindung",
+                'trans'=>"Meine Transaktionen",
+                'trans_products'=>"Bestand der Transaktion Nummer:",
+                'info'=>"Information",
+                'address_book'=>"Adressbuch",
+                'reminder'=>"Organizer",
+                'contact'=>"Kontakt",
+                'about_shop'=>"Über Shop",
+                'help'=>"Hilfe",
+                'about_company'=>"Über Shop",
+                'terms'=>"Bedigungen",
+                'points'=>"Meine Punkte",
+                );
+$lang->register_billing_form_errors=array(
+                'name'=>"Der Vorname fehlt",
+                'surname'=>"Der Nachname fehlt",
+                'street'=>"Die Strasse fehlt",
+                'street_n1'=>"Die Hausnummer fehlt",
+                'postcode'=>"Die Postleitzahl fehlt",
+                'city'=>"Die Stadt fehlt",
+                'phone'=>"Die Telefonnummer fehlt",
+                'email'=>"Die Emailadresse fehlt",
+                );
+$lang->register_cor_form_errors=array(
+                'name'=>"fehlender Vorname",
+                'surname'=>"fehlender Nachname",
+                'street'=>"fehlender Strasse",
+                'street_n1'=>"fehlende Hausnummer",
+                'postcode'=>"fehlende Postleitzahl",
+                'city'=>"fehlende Stadt",
+                'email'=>"fehlender email",
+                );
+$lang->form_name=array(
+                'firm'=>"Firma",
+                'name'=>"Vorname",
+                'surname'=>"Nachname",
+                'street'=>"Strasse",
+                'street_n1'=>"Hausnummer",
+                'postcode'=>"Postleitzahl",
+                'city'=>"Stadt",
+                'phone'=>"Telefonnummer",
+                'email'=>"Email",
+                'country'=>"Country",
+                'nip'=>"Steuernummer",
+                'description'=>"Bemerkungen",
+                );
+$lang->select_country="Land der Lieferung wählen";
+$lang->form_title_addr="Verrechnungsdaten";
+$lang->form_title_addr_cor="Korrespondenzadresse";
+$lang->form_title_one_addr="Korrespondenzadresse und Verrechnungsadresse (z.B. Sitz der Firma) stimmen überein";
+$lang->basket_empty="Der Einkaufskorb ist leer";
+$lang->order_continue="Einkaufen fortfahren";
+$lang->order_subject="Bestellung aus dem Shop";
+$lang->order_confirm_subject="Bestellungsbestätigung";
+$lang->search_empty_title="Durchsuchen";
+$lang->search_category=array(
+                'products'=>"Suche in Produkten",
+                'products_desc'=>"Suche in Produkten und Beschreibungen",
+                'all'=>"Alle",
+                );
+$lang->search_description="Suche in Beschreibungen";
+$lang->search_advanced="Erweiterte Suche";
+$lang->delivery_name="Lieferant";
+$lang->delivery_name_unknown="Unbekannt";
+$lang->order_amount_name="Summe zu bezahlen";
+$lang->users_new_form_errors=array(
+                'login'=>"falscher Login",
+                'password'=>"falsches Passwort, bitte wenigstens 6 Zeichen eingeben",
+                'password2'=>"Passwort wiederholen",
+                );
+$lang->users_log_in="Login";
+$lang->pay_method=array(
+                '1'=>"bei Lieferung",
+                '2'=>"per eCard",
+                '3'=>"per PolCard",
+                '4'=>"per Inteligo",
+                '5'=>"per mBank",
+                '6'=>"per CitiConnect",
+                '7'=>"per PayU",
+                '11'=>"per Überweisung",
+                '20'=>"Zahlung PL",
+                '110'=>"Kreditkartenzahlung",                
+                );
+$lang->pay_method_title="Zahlungsmethode";
+$lang->upload="Datei	hinzufügen";
+$lang->upload_photo="Datei hinzugefügt";
+$lang->upload_file_exists="Hinzugefügte Datei existiert bereit, Dateiname ändern";
+$lang->upload_name_info="Dateiname eingeben";
+$lang->message_basket_photo_title="Bilder zu Produkten";
+$lang->newsletter="Newsletter";
+$lang->newsletter_list_info="Neuheiten";
+$lang->info_options="Option wählen";
+$lang->mp3=array(
+                'title'=>"Dateien zum abhören im Format MP3",
+                'ftp'=>"MP3 Player laden",
+                );
+$lang->points_category="Punkte für Einkäufe";
+$lang->points_show="Summe Ihrer Punkte";
+$lang->available="Zugang";
+$lang->ask4price_mail="nach dem Preis fragen/Emailtitel";
+$lang->ask4price="Preis zeigen";
+$lang->ask4price_list="Preisanfrage";
+$lang->ask4price_empty_list="Keine Preiauskunft";
+$lang->close="Schliessen";
+$lang->order_by=array(
+                'name'=>"Name",
+                'price'=>"Preis",
+                'producer'=>"Hersteller",
+                'SCORE'=>"Anpassen",
+                );
+$lang->in_category="Andere Produkte der selben Kategorie";
+$lang->accessories="Accessoires";
+$lang->order_basket=array(
+                'name'=>"Produktname",
+                'options'=>"Optionen",
+                'user_id'=>"ID",
+                'price_netto'=>"Nettopreis",
+                'vat'=>"Mehrwertsteuer",
+                'num'=>"Menge",
+                'price_brutto'=>"Bruttopreis",
+                'sum'=>"Summe",
+                );
+$lang->order_names=array(
+                'order_id'=>"Transaktionsnummer",
+                'amount'=>"zu bezahlen",
+                'delivery_cost'=>"Lieferungskosten",
+                'id_currency'=>"Währung ",
+                'id_pay_method'=>"Zahlungsart",
+                'date_add'=>"Transaktionsdatum",
+                'time_add'=>"Zeit",
+                'xml_description'=>"Bestellung",
+                'id_user'=>"Kunden ID",
+                'xml_user'=>"Daten des Bestellers",
+                'name'=>"Besteller",
+                'id_delivery'=>"Lieferant",
+                'id_status'=>"Status",
+                'confirm'=>"Bezahlt",
+                'confirm_user'=>"Emailbestätigung",
+                'description'=>"Zusätzliche Informationen",
+                'status'=>"Status",
+                'checksum'=>"Zwischensumme",
+                'send_date'=>"Sendedatum",
+                'send_number'=>"Sendungsnummer",
+                'send_confirm'=>"Sendungsbestätigung",
+                );
+$lang->users_bar="Willkommen im Nützerpanel";
+$lang->send_link="Bestellungsbestätigung, hier klicken";
+$lang->trans_link="Detailinformationen über Ihre Transaktion, hier klicken";
+$lang->bool=array(
+                '1'=>"ja",
+                '0'=>"nein",
+                );
+$lang->month_name=array(
+                '1'=>"1",
+                '2'=>"2",
+                '3'=>"3",
+                '4'=>"4",
+                '5'=>"5",
+                '6'=>"6",
+                '7'=>"7",
+                '8'=>"8",
+                '9'=>"9",
+                '10'=>"10",
+                '11'=>"11",
+                '12'=>"12",
+                );
+$lang->printPage=array(
+                'button'=>"Drucken",
+                'info'=>"Seite drucken?",
+                );
+$lang->promotions_basket_discount="rabatt";
+$lang->main_keys_cols=array(
+                'name'=>"Produktname",
+                'info'=>"Mitteilung",
+                );
+$lang->cols=array(
+                'name'=>"Name",
+                'producer'=>"Hersteller",
+                'price'=>"Preis",
+                'price_brutto'=>"Bruttopreis",
+                'price_netto'=>"Nettopreis",
+                'price_nettobrutto'=>"Nettopreis/Bruttopreis",
+                'category'=>"Kategorie",
+                'discount'=>"Rabatt",
+                'price_brutto_detal'=>"Altpreis",
+                'points'=>"Punkte",
+                'm_points'=>"Punkte",
+                );
+$lang->help="Hilfe";
+$lang->more="Info";
+$lang->page="Seite";
+$lang->records="Eintrag";
+$lang->empty_list_message="Kein Eintrag";
+$lang->first="Anfang";
+$lang->head_register="Registrieren";
+$lang->google=array(
+                'title'=>"Internet Shop",
+                'keywords'=>"Internet Shop",
+                'description'=>"Internet Shop",
+                );
+$lang->random_price_netto="Nettopreis";
+$lang->info_price_detal="Einzelpreis";
+$lang->register_newsletter="Informationen über Angebote und Neuheiten per Email";
+$lang->register_citi_payment="Zahlung per Kreditkarte - System CitiConnect";
+$lang->register_payu_payment="Zahlung in System PayU";
+$lang->register_citi_order="Zahlung per Kreditkarte CitiConnect";
+$lang->register_payu_order="Zahlung per PayU";
+$lang->users_login="Einlogen";
+$lang->users_sales="Händler";
+$lang->promotions_basket_name="Angebot, das Sie nutzen";
+$lang->promotions_basket_amount="Summe inklusive Rabatt des Angebots";
+$lang->promotions_mail_name="Angebot";
+$lang->promotions_select="Angebotsliste";
+$lang->promotions_submit="Nutzen Sie das Angebot";
+$lang->promotions_go2basket="Bestellung realisieren";
+$lang->promotions_order_amount="Gesamtsumme zu zahlem inklusive Rabatt auf Produkte im Angebot";
+$lang->promotions_code="Angebotskode eintragen";
+$lang->promotions_title="Angebote";
+$lang->users_change_password="Passwort ändern";
+$lang->pay_method_status_off="nur Text";
+$lang->available_online=array(
+                '1'=>"lieferbar",
+                '0'=>"nicht lieferbar",
+                );
+$lang->full_description="Beschreibung";
+$lang->write_up="Produktsurteil";
+$lang->register_send_title="Bestellung senden";
+$lang->register_send_confirm_ok="Vieln Dank für Ihren Einkauf";
+$lang->register_send_confirm_ok_add_info="Achtung! Die Zahlungsart wurde geändert. Sollte die Transaktion durch anderen Zahlungssystem authorisiert worden sein, bekommen Sie Iher Ware nicht per Nachnahme.";
+$lang->register_send_order_error="Leider wurde die Bestellung nicht realisiert";
+$lang->send_add_info="ACHTUNG! Sie haben die Zahlungsart geändert. Überprüfen Sie bitte, ob die Transaktion in Administrationspanel POLCARD authorisiert wurde.";
+$lang->main_keys_empty="Aktuell gibt es keine kode für das Produkt. Sie bekommen einen Kode per Email";
+$lang->main_keys_code="Bestellungskode";
+$lang->main_keys_errors_title="Zusatzinformationen über Bestellungsvorgang";
+$lang->main_keys_title="Zusatzinformationen zur Bestellung";
+$lang->main_keys_mail=array(
+                'subject'=>"Zusatzinformationen zur Bestellung",
+                'title'=>"Kode zur Bestellung sehe unten",
+                'user_id'=>"ID",
+                'name'=>"Name",
+                );
+$lang->main_keys_download="Runterladen";
+$lang->main_keys_demo_title="Kostenlose Downloads";
+$lang->main_keys_download_title="Downloads";
+$lang->main_keys_download_not_found="Der Satz exsistiert nicht. Kontaktieren Sie bitte Ihren Händler.";
+$lang->currency_select="Währung";
+$lang->infoOnPageURI=array(
+                'name'=>"Mehr",
+                );
+$lang->promotions_all="Sehe Angebotsbeschreibung";
+$lang->newsletter_add="Hinzufügen";
+$lang->newsletter_remove="Löschen";
+$lang->wp_store_trans=array(
+                '-1'=>"Serwer SOAP niedostêpny",
+                '0'=>"O.K.",
+                '1'=>"Autorisationsfehler",
+                '2'=>"Transaktion wurde zum Teil durgeführt",
+                '3'=>"Transaktion wurde erfolgreich durchgeführt.",
+                );
+$lang->users_forgot_password="Passwort vergessen?";
+$lang->users_click_here="Hier klicken";
+$lang->country_user_def="Zielland wählen";
+$lang->delivery_country="Zielland wählen";
+$lang->country=array(
+                'EG'=>"Ägypten",
+                'GQ'=>"Äquatorial-Guinea",
+                'ET'=>"Äthiopien",
+                'AF'=>"Afghanistan",
+                'AL'=>"Albanien",
+                'DZ'=>"Algerien",
+                'AS'=>"Amerika Samona",
+                'AD'=>"Andorra",
+                'AO'=>"Angola",
+                'AI'=>"Anguilla",
+                'AQ'=>"Antarktis",
+                'AG'=>"Antigua und Barbedos",
+                'AR'=>"Argentinien",
+                'AM'=>"Armenien",
+                'AW'=>"Aruba",
+                'AU'=>"Australien",
+                'AZ'=>"Aserbaidschan",
+                'BS'=>"Bahamas",
+                'BH'=>"Bahrain",
+                'BD'=>"Bangladesch",
+                'BB'=>"Barbados",
+                'BY'=>"Weißrußland",
+                'BE'=>"Belgien",
+                'BZ'=>"Belize",
+                'BJ'=>"Benin",
+                'BM'=>"Bermuda",
+                'BT'=>"Bhutan",
+                'IO'=>"British Indian Ocean Territory",
+                'BN'=>"Brunei Darussalam",
+                'BO'=>"Bolivien",
+                'BA'=>"Bosnien-Herzogovina",
+                'BV'=>"Bouvet Island",
+                'BW'=>"Botswana",
+                'BR'=>"Brasilien",
+                'BF'=>"Burkina Faso",
+                'BG'=>"Bulgaria",
+                'BI'=>"Burundi",
+                'KY'=>"Cayman Islands",
+                'CL'=>"Chile",
+                'CN'=>"China",
+                'CX'=>"Christmas Island",
+                'CC'=>"Cocos Islands",
+                'CR'=>"Costa Rica",
+                'CK'=>"Cook Islands",
+                'CI'=>"Côte d'Ivoire",
+                'DK'=>"Dänemark",
+                'DE'=>"Deutschland",
+                'DJ'=>"Dschibuti",
+                'DM'=>"Dominika",
+                'DO'=>"Dominikanische Republik",
+                'TP'=>"East Timor",
+                'EC'=>"Ecuador",
+                'SV'=>"El Salvador",
+                'MK'=>"Ehem. Mazedon. Rep.",
+                'ER'=>"Eritrea",
+                'EE'=>"Estland",
+                'FK'=>"Falkland Islands",
+                'FO'=>"Färöer Inseln",
+                'FJ'=>"Fiji",
+                'FI'=>"Finland",
+                'FR'=>"Frankreich",
+                'GF'=>"Französisch Guyana",
+                'TF'=>"Französisch Southern Territories",
+                'GA'=>"Gabun",
+                'GM'=>"Gambia",
+                'GE'=>"Georgien",
+                'GH'=>"Ghana",
+                'GI'=>"Gibraltar",
+                'GB'=>"Großbritannien",
+                'GR'=>"Griechenland",
+                'GL'=>"Grönland",
+                'GD'=>"Grenada",
+                'GP'=>"Guadeloupe (Französisch)",
+                'GT'=>"Guatemala",
+                'GN'=>"Guinea",
+                'GU'=>"Guam (USA)",
+                'GW'=>"Guinea Bissau",
+                'GY'=>"Guyana",
+                'HT'=>"Haiti",
+                'HM'=>"Heard und Mcdonald Inseln",
+                'HN'=>"Honduras",
+                'HK'=>"Hong Kong",
+                'HU'=>"Ungarn",
+                'IS'=>"Iceland",
+                'IN'=>"Indien",
+                'ID'=>"Indonesien",
+                'IQ'=>"Irak",
+                'IR'=>"Iran (Islamische Republik)",
+                'IE'=>"Irland",
+                'IL'=>"Israel",
+                'IT'=>"Italy",
+                'JM'=>"Jamaika",
+                'JP'=>"Japan",
+                'JO'=>"Jordanien",
+                'KH'=>"Kamboscha",
+                'CM'=>"Kamerun",
+                'CA'=>"Kanada",
+                'CV'=>"Kap Verde",
+                'KZ'=>"Kasachstan",
+                'KE'=>"Kenia",
+                'CO'=>"Kolumbien",
+                'KM'=>"Komoren",
+                'CG'=>"Kongo",
+                'CD'=>"Kongo (Demokratische Rep.)",
+                'KR'=>"Koreanische Republik",
+                'KI'=>"Kiribati",
+                'CU'=>"Kuba",
+                'KW'=>"Kuwait",
+                'HR'=>"Kroatien",
+                'KG'=>"Kyrgyzstan",
+                'LA'=>"Laos",
+                'LV'=>"Lettland",
+                'LB'=>"Libanon",
+                'LS'=>"Lesotho",
+                'LR'=>"Liberia",
+                'LY'=>"Libya",
+                'LI'=>"Liechtenstein",
+                'LT'=>"Litauen",
+                'LU'=>"Luxemburg",
+                'MO'=>"Macao",
+                'MG'=>"Madagaskar",
+                'MY'=>"Malaysia",
+                'MW'=>"Malawi",
+                'MV'=>"Malediven",
+                'ML'=>"Mali",
+                'MT'=>"Malta",
+                'MH'=>"Marshall Inseln",
+                'MR'=>"Mauritania",
+                'MU'=>"Mauritius",
+                'MQ'=>"Martinique (Französisc)",
+                'YT'=>"Mayotte",
+                'MX'=>"Mexiko",
+                'FM'=>"Micronesia",
+                'MD'=>"Moldawien",
+                'MC'=>"Monaco",
+                'MN'=>"Mongolei",
+                'MS'=>"Montserrat",
+                'MA'=>"Morocco",
+                'MZ'=>"Mosambik",
+                'MM'=>"Myanmar",
+                'NA'=>"Namibien",
+                'NR'=>"Nauru",
+                'NP'=>"Nepal",
+                'NI'=>"Nicaragua",
+                'NE'=>"Niger",
+                'NG'=>"Nigeria",
+                'NU'=>"Niue",
+                'NL'=>"Niederlande",
+                'AN'=>"Niederlande Antilles",
+                'NC'=>"Neu-Kaledonien",
+                'NZ'=>"Neuseeland",
+                'NO'=>"Norwegen",
+                'KP'=>"Korea (Demokratische Rep.)",
+                'MP'=>"Northern Mariana Islands",
+                'AT'=>"Oesterreich",
+                'OM'=>"Oman",
+                'PK'=>"Pakistan",
+                'PW'=>"Palau",
+                'PA'=>"Panama",
+                'PG'=>"Papua-Neuguinea",
+                'PY'=>"Paraguay",
+                'PE'=>"Peru",
+                'PH'=>"Philippinen",
+                'PN'=>"Pitcairn Island",
+                'PL'=>"Polen",
+                'PF'=>"Französisch Polynesien",
+                'PT'=>"Portugal",
+                'PR'=>"Puerto Rico",
+                'QA'=>"Qatar",
+                'RE'=>"Reunion",
+                'RO'=>"Rumänien",
+                'RU'=>"Russische Föderation",
+                'RW'=>"Rwanda",
+                'GS'=>"S. Georgia and S. Sandwich Inseln",
+                'SH'=>"Saint Helena",
+                'KN'=>"Saint Kitts and Nevis Anguilla",
+                'LC'=>"Saint Lucia",
+                'PM'=>"Saint Pierre and Miquelon",
+                'ST'=>"Saint Tome and Principe",
+                'VC'=>"Saint Vincent and Grenadines",
+                'ZM'=>"Sambia",
+                'WS'=>"Samoa",
+                'SM'=>"San Marino",
+                'SA'=>"Saudiarabien",
+                'YU'=>"Serbien und Montenegro",
+                'SN'=>"Senegal",
+                'SC'=>"Seychellen",
+                'SL'=>"Sierra Leone",
+                'SG'=>"Singapur",
+                'SK'=>"Slowakei",
+                'SI'=>"Slowenien",
+                'SB'=>"Salomonen",
+                'ZA'=>"Südafrika",
+                'SO'=>"Somalia",
+                'ES'=>"Spanien",
+                'LK'=>"Sri Lanka",
+                'SD'=>"Sudan",
+                'SR'=>"Surinam",
+                'SZ'=>"Swasiland",
+                'SE'=>"Schweden",
+                'CH'=>"Schweiz",
+                'SY'=>"Syrien",
+                'TJ'=>"Tadjikistan",
+                'TW'=>"Taiwan",
+                'TZ'=>"Tansania",
+                'CZ'=>"Tschechische Republik",
+                'TH'=>"Thailand",
+                'TG'=>"Togo",
+                'TK'=>"Tokelau",
+                'TO'=>"Tonga",
+                'TT'=>"Trinidad und Tobago",
+                'TD'=>"Tschad",
+                'TN'=>"Tunesien",
+                'TR'=>"Türkei",
+                'TM'=>"Turkmenistan",
+                'TC'=>"Turks and Caicos Islands",
+                'TV'=>"Tuvalu",
+                'UG'=>"Uganda",
+                'UA'=>"Ukraine",
+                'AE'=>"Vereinigte Arabische Emirate",
+                'US'=>"Vereinigte Staaten",
+                'UY'=>"Uruguay",
+                'UM'=>"Usa Minor Outlying Islands",
+                'UZ'=>"Usbekistan",
+                'VU'=>"Vanuatu",
+                'VA'=>"Vatikanstadt",
+                'VE'=>"Venezuela",
+                'VN'=>"Vietnam",
+                'VG'=>"Virgin Islands (British)",
+                'VI'=>"Virgin Islands (USA)",
+                'WF'=>"Wallis and Futuna Islands",
+                'EH'=>"Western Sahara",
+                'YE'=>"Yemen",
+                'ZR'=>"Zaire",
+                'CF'=>"Zentralafrikanische Republik",
+                'ZW'=>"Zimbabwe",
+                'CY'=>"Zypern",
+                'NT'=>"Anderes Land",
+                );
+$lang->google_product_list="Produktliste";             
+$lang->google_categories="Kategorien";
+$lang->google_main_page="Empfohlene Produkte";
+$lang->google_files="Textseiten, Informationen";
+$lang->google_up_link="Sevice";
+$lang->order_confirm_ok="Ihre Transaktion wurde bestätigt <br /> Vielen Dank!";
+$lang->order_confirm_error="Ihre Transaktion kann nicht durchgeführt werden <br />  Überprüfen Sie bitte die Verbindung.";
+$lang->order_confirm_error1="Ihre Transaktion wurde nicht gespeichert <br />  Überprüfen Sie bitte die Verbindung.";
+$lang->order_confirm_error2="Ihre Transaktion wurde bereits bestätigt <br />  Vielen Dank!";
+$lang->order_confirm_error3="Falsche Transaktionsnummer <br />  Überprüfen Sie bitte die Verbindung.";
+$lang->trans_error="Informationen über Ihre Transaktion können nicht angezeigt werden. <br> Prüfen Sie bitte die Verbindung.";
+$lang->trans_error1="Ihre Transaktion wurde nicht gespeichert.";		
+$lang->google_up_link="Sevice";		
+$lang->ranking_title="Kunden die das Produkt kauften, kauften auch:";		
+$lang->products4u_title="Produkte für Sie";		
+$lang->check_uncheck_all="Alle Produkte";
+$lang->to_be_deleted=" löschen ";	
+$lang->to_be_moved=" zur Merkliste: ";	
+$lang->to_be_moved_2basket=" ins Warenkorb: ";	
+$lang->basket_th_move="zur Merkliste";
+$lang->basketForm="Warenkorb";
+$lang->wishlistForm="Merkliste";
+$lang->info_attrib_wishlist="Zur Merkliste";
+$lang->wishlist_empty="Die Merkliste ist leer";
+$lang->basket_th_move="Zur Merklistei";
+$lang->wishlist_th_move="Ins Warenkorb";
+$lang->info_attrib_wishlist="Zur Merkliste";
+$lang->tooltip=array (
+					'wishlist'=>'Auf die Merkliste setzten',
+					'wishlist_head'=>'Merkliste',
+					'basket'=>'Zum Warenkorb hinzufügen',
+					'basket_head'=>'Warenkorb',
+					'info'=>'Ausführliche Beschreibung');
+$lang->head_wishlist="Merkliste";
+$lang->points_action="Aktion";
+$lang->points_time="Dauer der Fretigstellung";
+$lang->points_id_product="Prodkut ID";
+$lang->user_points=array(
+				    'decrease'=>"verkleinerung",
+					'add'=>"vergrößerung",
+					'for_recommend'=>"für <b>Epfehlung</b>",
+					'for_product'=>"für <b>Einkauf</b>",
+					'for_review'=>"für <b>rezension</b>",
+					);
+
+$lang->basket_points_amount_name="Gesamtsumme";
+$lang->basket_points_cost="Bestellwert in Punkten";
+$lang->basket_points_left="Restliche Punkte";					
+$lang->basket_currency="Währung";
+$lang->basket_products_extra=array(
+								  "user_id"=>"ID",
+								  "points_value"=>"punkte"
+								  );         
+$lang->order_id="Bestellung Nummer";
+?>
\ No newline at end of file
diff -ruN ../soteesklep3/htdocs/lang/_en/lang.inc.php soteesklep3/htdocs/lang/_en/lang.inc.php
--- ../soteesklep3/htdocs/lang/_en/lang.inc.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/htdocs/lang/_en/lang.inc.php	2006-08-23 16:59:16.000000000 +0200
@@ -0,0 +1,773 @@
+<?php
+$lang->encoding="ISO-8859-1";
+$lang->shop="SOTESHOP";
+$lang->date="Date";
+$lang->back="Back";
+$lang->search="Search";
+$lang->add="Add";
+$lang->del="Delete";
+$lang->send="Send";
+$lang->recommend="Tell a friend (enter e-mail)";
+$lang->symbol_add="+";
+$lang->symbol_del="-";
+$lang->next="Next";
+$lang->basket_add="Add to the basket";
+$lang->wishlist_add="Add to whishlist";
+$lang->time_execute="execution time";
+$lang->go=">>";
+$lang->producer_select="All producers";
+$lang->category_select="All categories";
+$lang->choose_producer="Categories";
+$lang->page="Page";
+$lang->records="Records";
+$lang->empty_list_message="No records";
+$lang->first="beginning";
+$lang->more="More";
+$lang->head_help="Help";
+$lang->head_contact="Contact";
+$lang->head_about_shop="About us";
+$lang->head_your_basket="Basket";
+$lang->head_login_register="Login, register";
+$lang->head_my_account="My account";
+$lang->head_terms="Terms";
+$lang->head_soteshop="SOTEeSHOP 2";
+$lang->head_in_basket="Value";
+$lang->head_products_count="Number of products";
+$lang->head_shop="Shop";
+$lang->head_search="SEARCH";
+$lang->head_promotions="Promotions";
+$lang->head_news="News";
+$lang->head_about_company="about  the company";
+$lang->head_users_online="online users";
+$lang->head_register="Register now!";
+$lang->head_simple_title="Shop";
+$lang->google=array(
+                'title'=>"Internet shop",
+                'keywords'=>"Internet shop",
+                'description'=>"Internet shop",
+                );
+$lang->foot_main_page="Home";
+$lang->foot_promotions="Promotions";
+$lang->foot_news="News";
+$lang->foot_about="About the company";
+$lang->foot_terms="Terms";
+$lang->foot_basket_state="View basket";
+$lang->foot_help="Help";
+$lang->foot_soft="Powered by SOTESHOP ";
+$lang->main_recommend="We recommend";
+$lang->main_news="latest information";
+$lang->left_choose_category="choose a category";
+$lang->right_choose_layout="Choose page layout:<BR>";
+$lang->right_send="Send";
+$lang->right_news="News";
+$lang->discount="Discount";
+$lang->random_price_brutto="Price brutto";
+$lang->record_price_netto="Price netto";
+$lang->record_price_brutto="Price brutto";
+$lang->calculate_order="Update basket";
+$lang->take_order="Place the order";
+$lang->delivery_cost="Delivery cost";
+$lang->shopping_amount="Shopping value";
+$lang->total_order_amount="Total amount to pay";
+$lang->register_info="If you have not already registered, you can register now.";
+$lang->register_now="Register now!";
+$lang->register_fill_gaps="Fields marked in bold are required";
+$lang->register_nip_desc="if you want to receive <br>VAT invoice";
+$lang->register_news_desc="Do you want to get this information from the shop?";
+$lang->register_cor_desc="Is the above address also the mail-order address?";
+$lang->register_bil_cor_data="Customer data and correspondence address";
+$lang->register_bil_data="Customer data";
+$lang->register_cor_address="Correspondence address";
+$lang->register_post_payment="Pay upon receipt";
+$lang->register_ecard_payment="Credit card payment - system eCard";
+$lang->register_polcard_payment="Credit card payment - system PolCard";
+$lang->register_polcard_cards="Acceptable credit cards: VISA, MasterCard, PolCard, JCB, Diners Club, Styl";
+$lang->register_ecard_cards="Acceptable credit cards: VISA, MasterCard";
+$lang->register_paypal_payment="I am paying by PayPal";
+$lang->register_paypal_info="After clicking the button you will be redirected to PayPal payment system";
+$lang->register_paypal_order="Checkout";
+$lang->register_post_order="Checkout";
+$lang->register_ecard_order="Checkout";
+$lang->register_polcard_order="Checkout";
+$lang->register_cardpay_order="Checkout";
+$lang->users_login_name="Login";
+$lang->users_login_email="Login or e-mail";
+$lang->users_password="Password";
+$lang->users_logout="Log out";
+$lang->users_change_personal_data="Change your personal data";
+$lang->users_your_points="Your points number";
+$lang->users_register_desc=" If you don't  have an account, please register now";
+$lang->users_register="Register now";
+$lang->users_order_register_desc="If you want to take an order, click this button.";
+$lang->users_take_order="Take an order";
+$lang->users_bar_auth="Authorisation";
+$lang->users_login_error="Invalid username or password.<br />";
+$lang->users_login_error_advice="Please try to login again";
+$lang->users_user="User ";
+$lang->users_loginok_desc=" has been successfully logged in :)";
+$lang->users_change_data="Edit data";
+$lang->users_points="Discounts";
+$lang->users_trans="Transactions";
+$lang->users_trans_history="Transaction record";
+$lang->users_password_confirm="repeat the password";
+$lang->users_continue="Go on";
+$lang->users_already_registered="If you are a registered user";
+$lang->users_logout_action="has been logged out";
+$lang->users_registered="you have been registered";
+$lang->login_ok="is logged in";
+$lang->users_address_book="Address Book";
+$lang->users_reminder="Reminder";
+$lang->basket_delivery_name_unknown="Unknown";
+$lang->basket_delivery_cost="Delivery cost";
+$lang->basket_delivery_name="Supplier";
+$lang->basket_order_amount_name="Total amount to pay";
+$lang->basket_bar_title="Shopping basket' s contents";
+$lang->basket_order_continue="Continue shopping";
+$lang->basket_txt_title="Shopping basket's contents";
+$lang->basket_amount_name="shopping value";
+$lang->basket_elements=array(
+                'name'=>"name",
+                'user_id'=>"ID",
+                'num'=>"quantity, number",
+                'price_netto'=>"net price",
+                'price_brutto'=>"gross price",
+                'price_nettobrutto'=>"price net/gross",
+                'vat'=>"vat",
+                'sum_brutto'=>"gross sum",
+                'name_unavailable'=>"Check product availability",
+                'points_value'=>"points",
+                );
+$lang->order_points_update="Purchase for points";
+$lang->basket_photo_description="<B> ordered product's description (additional information):</b>";
+$lang->basket_upload="Attach a file";
+$lang->basket_upload_file_exists="the attached file already exists, change file name of the file";
+$lang->basket_photo_submit="Accept changes/attach group of files";
+$lang->basket_total_order_amount="Total order amount";
+$lang->basket_attach_images_order="Attach images to the order";
+$lang->basket_attach_file_desc1="If you want to attach an image of a particular product, please select the file and click the button";
+$lang->basket_attach_file="Attach a file";
+$lang->basket_attach_file_desc2="If there is one image for several products, attach only one file and for the rest of the products choose a name from the list and click";
+$lang->basket_check_attach="Check/Attach images to the order";
+$lang->choose="Choose";
+$lang->short_list="Short list";
+$lang->full_list="Complete list with images";
+$lang->producers="Producers";
+$lang->sort="Sorting";
+$lang->all="All";
+$lang->trans_desc="Click transaction id for details !";
+$lang->trans_id="Transaction id";
+$lang->trans_date="Transaction date";
+$lang->trans_amount="Amount";
+$lang->trans_stat="Status";
+$lang->trans_pay_conf="Paid";
+$lang->trans_payment="Payment";
+$lang->trans_ask4trans="Ask a shopkeeper";
+$lang->basket_th_product_name="product name";
+$lang->basket_th_netto="netto";
+$lang->basket_th_vat="vat";
+$lang->basket_th_brutto="brutto";
+$lang->basket_th_count="quantity";
+$lang->basket_th_sum="total price";
+$lang->basket_th_delete="delete";
+$lang->basket_th_points="points";
+$lang->yes="yes";
+$lang->no="no";
+$lang->delete="delete";
+$lang->basket_title="Shopping basket";
+$lang->bar_title=array(
+                'promotion'=>"Special offers",
+                'newcol'=>"New products",
+                'bestseller'=>"Bestseller",
+                'main_page'=>"Welcome to our shop",
+                'users'=>"Login, register",
+                'register_confirm'=>"Check the data, choose the method of payment",
+                'register_cor'=>"Shipping address",
+                'register_billing'=>"Billing data",
+                'search'=>"Searching results for:",
+                'polcard'=>"Payment by credit card - system <a href=http://www.polcard.com.pl target=polcard>PolCard</a>",
+                'ecard'=>"Payment by credit card - system <a href=http://www.ecard.pl target=ecard><u>eCard</u></a>",
+                'newsletter'=>"Newsletter",
+                'firm'=>"Logging for wholesale customers",
+                'themes'=>"Choose Page Layout",
+                'account'=>"My account",
+                'trans'=>"My transactions",
+                'trans_products'=>"Content of transaction number",
+                'info'=>"Information",
+                'address_book'=>"Address book",
+                'reminder'=>"Timetable",
+                'contact'=>"Contact",
+                'about_shop'=>"About the shop",
+                'help'=>"Help",
+                'about_company'=>"About the company",
+                'terms'=>"Terms and conditions",
+                'points'=>"My points",
+                );
+$lang->register_billing_form_errors=array(
+                'name'=>"wrong name",
+                'surname'=>"wrongsurname",
+                'street'=>"wrong street",
+                'street_n1'=>"wrong house number",
+                'postcode'=>"wrong post code",
+                'city'=>"wrong city",
+                'phone'=>"wrong phone number",
+                'email'=>"wrong e-mail address - wrong address or address exists in database",
+                'country'=>"invalid country",
+                );
+$lang->register_cor_form_errors=array(
+                'name'=>"missing name",
+                'surname'=>"missing surname",
+                'street'=>"missing street",
+                'street_n1'=>"missing house number",
+                'postcode'=>"missing post code",
+                'city'=>"missing city",
+                'email'=>"bad email address",
+                );
+$lang->form_name=array(
+                'firm'=>"company",
+                'name'=>"name",
+                'surname'=>"surname",
+                'street'=>"street",
+                'street_n1'=>"house number",
+                'street_n2'=>"flat number",
+                'postcode'=>"post code",
+                'city'=>"city",
+                'phone'=>"phone number",
+                'email'=>"e-mail address",
+                'country'=>"country",
+                'nip'=>"nip",
+                'description'=>"additional information",
+                'change_country'=>"change country",
+                );
+$lang->select_country="Select delivery country";
+$lang->form_title_addr="Customer Data";
+$lang->form_title_addr_cor="Correspondence Address";
+$lang->form_title_one_addr="No difference between coresspondence and customer addresses";
+$lang->basket_empty="Basket is empty";
+$lang->order_continue="Continue shopping";
+$lang->order_subject="Order from the shop";
+$lang->order_confirm_subject="Order confirmation";
+$lang->search_empty_query="wrong searching string. Enter the name of the product you are looking for.";
+$lang->search_empty_title="Search";
+$lang->search_category="search in the category";
+$lang->search_advanced="Advanced search";
+$lang->delivery_name="Supplier";
+$lang->delivery_name_unknown="Unknown";
+$lang->order_amount_name="Total amount to pay";
+$lang->users_new_form_errors=array(
+                'login'=>"wrong login",
+                'password'=>"wrong password, enter at least 6 characters",
+                'password2'=>"wrong password repetition",
+                );
+$lang->users_log_in="Login";
+$lang->users_change_password="Change a  password";
+$lang->pay_method=array(
+                '1'=>"on receiving",
+                '2'=>"eCard",
+                '3'=>"PolCard",
+                '4'=>"Inteligo",
+                '5'=>"mBank",
+                '6'=>"CitiConnect",
+                '7'=>"PayU",
+                '11'=>"Transfer",
+                '20'=>"PlatnosciPL",
+                '21'=>"llpay",
+                '110'=>"Payments by credit card",
+                );
+$lang->pay_method_title="Payment method";
+$lang->upload="Attach a file";
+$lang->upload_photo="File attached";
+$lang->upload_file_exists="Attached file already exists, change the file's name ";
+$lang->upload_name_info="enter file name";
+$lang->message_basket_photo_title="Images of products:
+
+";
+$lang->newsletter="Newsletter";
+$lang->newsletter_list_info="News";
+$lang->mp3=array(
+                'title'=>"Files in mp3 format",
+                'ftp'=>"Download mp3 player",
+                );
+$lang->points_category="Points for shopping";
+$lang->points_show="Your points";
+$lang->available="Availability:";
+$lang->ask4price_mail=" Ask for product's price ";
+$lang->ask4price="Ask for price";
+$lang->ask4price_list="Questions about the price";
+$lang->ask4price_empty_list="No questions about the price";
+$lang->close="Close";
+$lang->order_by=array(
+                'name'=>"Name",
+                'price'=>"Price",
+                'producer'=>"Producer",
+                'SCORE'=>"Score",
+                );
+$lang->in_category="Other products from the same category";
+$lang->accessories="Accessories";
+$lang->order_basket=array(
+                'name'=>"product name",
+                'options'=>"options",
+                'user_id'=>"id",
+                'price_netto'=>"price netto",
+                'vat'=>"VAT",
+                'num'=>"number",
+                'price_brutto'=>"price brutto",
+                'sum'=>"sum",
+                );
+$lang->order_names=array(
+                'order_id'=>"Transaction number",
+                'amount'=>"Total amount to pay",
+                'delivery_cost'=>"Delivery cost",
+                'id_currency'=>"Currency",
+                'id_pay_method'=>"Payment",
+                'date_add'=>"Transaction date",
+                'time_add'=>"Hour",
+                'xml_description'=>"Order",
+                'id_user'=>"User id",
+                'xml_user'=>"Customer data",
+                'name'=>"Customer",
+                'id_delivery'=>"Supplier",
+                'id_status'=>"Status",
+                'confirm'=>"Paid",
+                'confirm_user'=>"Mail confirmed",
+                'description'=>"Additional information",
+                'status'=>"Status",
+                'checksum'=>"Transaction checksum",
+                'send_date'=>"Send date",
+                'send_number'=>"Send number",
+                'send_confirm'=>"Send confirmed",
+                );
+$lang->users_bar=" Welcome to user's panel ! ";
+$lang->send_link="Click link below to confirm order";
+$lang->trans_link="Click link below to see your transaction details";
+$lang->bool=array(
+                '1'=>"yes",
+                '0'=>"no",
+                );
+$lang->month_name=array(
+                '1'=>"1",
+                '2'=>"2",
+                '3'=>"3",
+                '4'=>"4",
+                '5'=>"5",
+                '6'=>"6",
+                '7'=>"7",
+                '8'=>"8",
+                '9'=>"9",
+                '10'=>"10",
+                '11'=>"11",
+                '12'=>"12",
+                );
+$lang->printPage=array(
+                'button'=>"print",
+                'info'=>"print a page?",
+                );
+$lang->register_send_confirm_ok="Thank you very much for your shopping.";
+$lang->cols=array(
+                'name'=>"Name",
+                'producer'=>"Producer",
+                'price'=>"Price",
+                'price_brutto'=>"Gross price",
+                'price_netto'=>"Net price",
+                'price_nettobrutto'=>"Net/gross price",
+                'category'=>"Category",
+                'discount'=>"Discount",
+                'price_brutto_detal'=>"Old price",
+                'points'=>"Points",
+                'm_points'=>"Points",
+                
+                );
+$lang->random_discount="Discount";
+$lang->promotions_basket_discount="discount";
+$lang->main_keys_cols=array(
+                'name'=>"Name",
+                'info'=>"Information",
+                'producer'=>"",
+                'price'=>"",
+                'price_brutto'=>"",
+                'price_netto'=>"",
+                'category'=>"",
+                'discount'=>"Discount",
+                );
+$lang->promotions_select="available promotions";
+$lang->help="help";
+$lang->head_home="home";
+$lang->random_price_netto="netto price";
+$lang->info_price_detal="retail price";
+$lang->register_newsletter="you want to receive information about promotions and new products in your e-mail";
+$lang->register_citi_payment="payment by credit card - system citiConnect";
+$lang->register_payu_payment="I am paying by PayU system";
+$lang->register_citi_order="I am paying by CitiConnect card";
+$lang->users_login="logged in";
+$lang->users_sales="salesman";
+$lang->promotions_order_amount="the amount to pay (discount and special offer price included)";
+$lang->promotions_mail_name="promotion";
+$lang->promotions_submit="Take advantage of a promotion";
+$lang->promotions_title="Promotions";
+$lang->promotions_all="Look at promotions' descriptions";
+$lang->search_description="search in descriptions";
+$lang->info_options="select an option";
+$lang->available_online=array(
+                '1'=>"product available on-line",
+                '0'=>"product in stock but not available on-line",
+                );
+$lang->full_description="detailed description";
+$lang->write_up="product's reviews";
+$lang->register_send_title="Your order has been sent";
+$lang->register_send_confirm_ok_add_info="The form of payment was changed.
+
+If the transaction had been authorised by another system of payment, the product should be sent to you without a pre-payment";
+$lang->register_send_order_error="unfortunately, the order has not been sent
+
+
+
+contact your salesperson using the following address";
+$lang->send_add_info="ATTENTION! User changed the form of payment. Check in the POLCARD's administrative panel if the transaction was authorised";
+$lang->main_keys_empty="There are no codes to the product in the base at the moment.
+
+You will receive the appropriate code in an e-mail message.";
+$lang->main_keys_code="Codes to the order";
+$lang->main_keys_errors_title="additional information about the implementation of the order";
+$lang->main_keys_title="additional data to the order";
+$lang->infoOnPageURI=array(
+                'name'=>"more",
+                );
+$lang->currency_select="choose currency";
+$lang->main_keys_download_not_found="the file does not exist,
+
+contact your salesperson";
+$lang->main_keys_download_title="file downloading";
+$lang->main_keys_demo_title="free files to be downloaded";
+$lang->main_keys_download="download a file";
+$lang->pay_method_status_off="test method";
+$lang->promotions_code="Input the promotion-code";
+$lang->promotions_go2basket="carry out the order";
+$lang->promotions_basket_amount="the worth of your shopping (discount and special offer price included)";
+$lang->promotions_basket_name="promotion you are taking";
+$lang->register_payu_order="I am paying by PayU system";
+$lang->main_keys_mail=array(
+                'subject'=>"additional data to the order",
+                'title'=>"Below there are codes to the orders taken in an internet shop",
+                'user_id'=>"",
+                'name'=>"",
+                );
+$lang->wp_store_trans=array(
+                '-1'=>"SOAP server not available",
+                '0'=>"Everything OK",
+                '1'=>"Authorization error",
+                '2'=>"Operation partly successful",
+                '3'=>"Unsuccessful operation",
+                );
+$lang->newsletter_add=" Add ";
+$lang->newsletter_remove="Remove";
+$lang->users_forgot_password="Have you forgotten your password?";
+$lang->users_click_here="Click here";
+$lang->country=array(
+                'AF'=>"Afghanistan",
+                'AL'=>"Albania",
+                'DZ'=>"Algeria",
+                'AS'=>"American Somoa",
+                'AD'=>"Andorra",
+                'AO'=>"Angola",
+                'AI'=>"Anguilla",
+                'AQ'=>"Antartica",
+                'AG'=>"Antigua and Barbuda",
+                'AE'=>"Arab Emirates (United)",
+                'AR'=>"Argentina",
+                'AM'=>"Armenia",
+                'AW'=>"Aruba",
+                'AU'=>"Australia",
+                'AT'=>"Austria",
+                'AZ'=>"Azerbaidjan",
+                'BS'=>"Bahamas",
+                'BH'=>"Bahrain",
+                'BD'=>"Bangladesh",
+                'BB'=>"Barbados",
+                'BY'=>"Belarus",
+                'BE'=>"Belgium",
+                'BZ'=>"Belize",
+                'BJ'=>"Benin",
+                'BM'=>"Bermuda",
+                'BT'=>"Bhutan",
+                'IO'=>"British Indian Ocean Territory",
+                'BN'=>"Brunei Darussalam",
+                'BO'=>"Bolivia",
+                'BA'=>"Bosnia and Herzegovina",
+                'BV'=>"Bouvet Island",
+                'BW'=>"Botswana",
+                'BR'=>"Brazil",
+                'BF'=>"Bukina Faso",
+                'BG'=>"Bulgaria",
+                'BI'=>"Burndi",
+                'KH'=>"Cambodia, Kingdom of",
+                'CM'=>"Cameroon",
+                'CA'=>"Canada",
+                'CV'=>"Cape Verde",
+                'KY'=>"Cayman Islands",
+                'CF'=>"Central African Republic",
+                'TD'=>"Chad",
+                'CL'=>"Chile",
+                'CN'=>"China",
+                'CX'=>"Christmas Island",
+                'HR'=>"Croatia",
+                'CC'=>"Cocos Islands",
+                'CO'=>"Colombia",
+                'KM'=>"Comoros",
+                'CG'=>"Congo",
+                'CD'=>"Congo, The Democratic Republic of the",
+                'CR'=>"Costa Rica",
+                'CK'=>"Cook Islands",
+                'CU'=>"Cuba",
+                'CY'=>"Cyprus",
+                'CZ'=>"Czech Republic",
+                'DK'=>"Denmark",
+                'DJ'=>"Djibouti",
+                'DM'=>"Dominica",
+                'DO'=>"Dominican Republic",
+                'TP'=>"East Timor",
+                'EC'=>"Ecuador",
+                'EG'=>"Egypt",
+                'SV'=>"El Salvador",
+                'GQ'=>"Equatorial Guinea",
+                'ER'=>"Eritrea",
+                'EE'=>"Estonia",
+                'ET'=>"Ethiopia",
+                'FK'=>"Falkland Islands",
+                'FO'=>"Faroe Islands",
+                'FJ'=>"Fiji",
+                'FI'=>"Finland",
+                'FR'=>"France",
+                'FX'=>"France (European Territory)",
+                'GF'=>"French Guyana",
+                'TF'=>"French Southern Territories",
+                'GA'=>"Gabon",
+                'GM'=>"Gambia",
+                'DE'=>"Germany",
+                'GE'=>"Georgia",
+                'GH'=>"Ghana",
+                'GI'=>"Gibraltar",
+                'GB'=>"Great Britain",
+                'GR'=>"Greece",
+                'GL'=>"Greenland",
+                'GD'=>"Grenada",
+                'GP'=>"Guadeloupe (French)",
+                'GT'=>"Guatemala",
+                'GN'=>"Guinea",
+                'GU'=>"Guam (USA)",
+                'GW'=>"Guinea Bissau",
+                'GY'=>"Guyana",
+                'HT'=>"Haiti",
+                'HM'=>"Heard and Mcdonald Islands",
+                'HN'=>"Honduras",
+                'HK'=>"Hong Kong",
+                'HU'=>"Hungary",
+                'IS'=>"Iceland",
+                'IN'=>"India",
+                'ID'=>"Indonesia",
+                'IQ'=>"Iraq",
+                'IR'=>"Iran",
+                'IE'=>"Ireland",
+                'IL'=>"Israel",
+                'IT'=>"Italy",
+                'CI'=>"Ivory Coast",
+                'JM'=>"Jamaica",
+                'JP'=>"Japan",
+                'JO'=>"Jordan",
+                'KZ'=>"Kazakhstan",
+                'KE'=>"Kenya",
+                'KI'=>"Kiribati",
+                'KW'=>"Kuwait",
+                'KG'=>"Kyrgyz Republic (Kyrgyzstan)",
+                'LA'=>"Laos",
+                'LV'=>"Latvia",
+                'LB'=>"Lebanon",
+                'LS'=>"Lesotho",
+                'LR'=>"Liberia",
+                'LY'=>"Libya",
+                'LI'=>"Liechtenstein",
+                'LT'=>"Lithuania",
+                'LU'=>"Luxembourg",
+                'MO'=>"Macau",
+                'MK'=>"Macedonia",
+                'MG'=>"Madagascar",
+                'MY'=>"Malaysia",
+                'MW'=>"Malawi",
+                'MV'=>"Maldives",
+                'ML'=>"Mali",
+                'MT'=>"Malta",
+                'MH'=>"Marshall Islands",
+                'MR'=>"Mauritania",
+                'MU'=>"Mauritius",
+                'MQ'=>"Martinique (French)",
+                'YT'=>"Mayotte",
+                'MX'=>"Mexico",
+                'FM'=>"Micronesia",
+                'MD'=>"Moldavia",
+                'MC'=>"Monaco",
+                'MN'=>"Mongolia",
+                'MS'=>"Montserrat",
+                'MA'=>"Morocco",
+                'MZ'=>"Mozambique",
+                'MM'=>"Myanmar",
+                'NA'=>"Namibia",
+                'NR'=>"Nauru",
+                'NP'=>"Nepal",
+                'NI'=>"Nicaragua",
+                'NE'=>"Niger",
+                'NG'=>"Nigeria",
+                'NU'=>"Niue",
+                'NL'=>"Netherlands",
+                'AN'=>"Netherlands Antilles",
+                'NC'=>"New Caledonia",
+                'NZ'=>"New Zealand",
+                'NO'=>"Norway",
+                'KP'=>"North Korea",
+                'MP'=>"Northern Mariana Islands",
+                'OM'=>"Oman",
+                'PK'=>"Pakistan",
+                'PW'=>"Palau",
+                'PA'=>"Panama",
+                'PG'=>"Papua New Guinea",
+                'PY'=>"Paraguay",
+                'PE'=>"Peru",
+                'PH'=>"Philippines",
+                'PN'=>"Pitcairn Island",
+                'PL'=>"Poland",
+                'PF'=>"Polynesia (French)",
+                'PT'=>"Portugal",
+                'PR'=>"Puerto Rico",
+                'QA'=>"Qatar",
+                'RE'=>"Reunion",
+                'RO'=>"Romania",
+                'RU'=>"Russian Federation",
+                'RW'=>"Rwanda",
+                'GS'=>"S. Georgia and S. Sandwich Isls.",
+                'SH'=>"Saint Helena",
+                'KN'=>"Saint Kitts and Nevis Anguilla",
+                'LC'=>"Saint Lucia",
+                'PM'=>"Saint Pierre and Miquelon",
+                'ST'=>"Saint Tome and Principe",
+                'VC'=>"Saint Vincent and Grenadines",
+                'WS'=>"Samoa",
+                'SM'=>"San Marino",
+                'SA'=>"Saudi Arabia",
+                'SN'=>"Senegal",
+                'SC'=>"Seychelles",
+                'SL'=>"Sierra Leone",
+                'SG'=>"Singapore",
+                'SK'=>"Slovak Republic",
+                'SI'=>"Slovenia",
+                'SB'=>"Solomon Islands",
+                'ZA'=>"South Africa",
+                'KR'=>"South Korea",
+                'SO'=>"Somalia",
+                'ES'=>"Spain",
+                'LK'=>"Sri Lanka",
+                'SD'=>"Sudan",
+                'SR'=>"Suriname",
+                'SZ'=>"Swaziland",
+                'SE'=>"Sweden",
+                'CH'=>"Switzerland",
+                'SY'=>"Syria",
+                'TJ'=>"Tadjikistan",
+                'TW'=>"Taiwan",
+                'TZ'=>"Tanzania",
+                'TH'=>"Thailand",
+                'TG'=>"Togo",
+                'TK'=>"Tokelau",
+                'TO'=>"Tonga",
+                'TT'=>"Trinidad and Tobago",
+                'TN'=>"Tunisia",
+                'TR'=>"Turkey",
+                'TM'=>"Turkmenistan",
+                'TC'=>"Turks and Caicos Islands",
+                'TV'=>"Tuvalu",
+                'UG'=>"Uganda",
+                'UA'=>"Ukraine",
+                'US'=>"United States of America",
+                'UY'=>"Uruguay",
+                'UM'=>"Usa Minor Outlying Islands",
+                'UZ'=>"Uzbekistan",
+                'VU'=>"Vanuatu",
+                'VA'=>"Vatican City State(Holy See)",
+                'VE'=>"Venezuela",
+                'VN'=>"Vietnam",
+                'VG'=>"Virgin Islands (British)",
+                'VI'=>"Virgin Islands (USA)",
+                'WF'=>"Wallis and Futuna Islands",
+                'EH'=>"Western Sahara",
+                'YE'=>"Yemen",
+                'YU'=>"Yugoslavia",
+                'ZR'=>"Zaire",
+                'ZM'=>"Zambia",
+                'ZW'=>"Zimbabwe",
+                'NT'=>"Neutral Zone",
+                );
+$lang->delivery_country="Choose delivery country";
+$lang->basket_delivery_country="Delivery country";
+$lang->register_transfer_payment="Pay in advance, account info will be sent in the confirmation e-mail";
+$lang->register_transfer_order="Checkout";
+$lang->country_user_def="Choose country";
+$lang->google_up_link="Site Map";
+$lang->google_product_list="Product list";             
+$lang->google_categories="Categories";
+$lang->google_main_page="Recommended products";
+$lang->google_files="Text pages, information";
+$lang->google_up_link="Sitemap";
+$lang->order_confirm_ok="Your transaction has been confirmed !<br /> Thank you.";
+$lang->order_confirm_error="Your transaction cannot be confirmed.<br /> Check the link.";
+$lang->order_confirm_error1="Your transaction does not exist in database.<br /> Check the link.";
+$lang->order_confirm_error2="Your transaction has been confirmed earlier !<br /> Thank you!.";
+$lang->order_confirm_error3="Incorrect transaction number !<br /> Check the link.";
+$lang->trans_error="Information concerning your transaction cannot be displayed.<br />  Check the link.";
+$lang->trans_error1="Your transaction does not exist in database any longer.";		
+$lang->google_up_link="Sitemap";		
+$lang->ranking_title="Customers, who purchased the presented product, bought also the following articles:";		
+$lang->products4u_title="Products for You";		
+$lang->check_uncheck_all="All products";
+$lang->to_be_deleted=" to be removed: ";	
+$lang->to_be_moved=" to whishlist: ";	
+$lang->to_be_moved_2basket=" to the basket: ";	
+$lang->basket_th_move="to whishlist";
+$lang->basketForm="Basket";
+$lang->wishlistForm="Whishlist";
+$lang->info_attrib_wishlist="To whishlist";
+$lang->wishlist_empty="Whishlist is empty";
+$lang->wishlist_th_move="to the basket";
+$lang->info_attrib_wishlist="To whishlist";
+$lang->tooltip=array (
+					'wishlist'=>'Add to whishlist',
+					'wishlist_head'=>'Whislist',
+					'basket'=>'Add to the basket',
+					'basket_head'=>'Basket',
+					'info'=>'Full description');
+$lang->head_wishlist="Whishlist";
+$lang->points_action="Action";
+$lang->points_time="Time of implementation";
+$lang->points_id_product="product ID";
+$lang->user_points=array(
+				    'decrease'=>"decrease",
+					'add'=>"increase",
+					'for_recommend'=>"for <b>recommending</b> the product",
+					'for_product'=>"for <b>purchasing</b> the product",
+					'for_review'=>"for adding a <b>review</b>",
+					);
+
+$lang->basket_points_amount_name="Shopping value";
+$lang->basket_points_cost="Value of shopping order in points";
+$lang->basket_points_left="Number of points left to be used";					
+$lang->basket_currency="Currency in the shop";
+$lang->basket_products_extra=array(
+								  "user_id"=>"ID",
+								  "points_value"=>"points"
+								  );
+$lang->register_allpay_payment="Payment ALLPay";
+$lang->register_allpay_order="I am paying by AllPay system";
+$lang->users_points="Points";
+$lang->desc_max_photo="Show a big photo";
+$lang->change_pay_method="Choose another method of payment";
+$lang->pay_error_info="Payment has been cancelled. The shop has not received payment confirmation.";
+$lang->info_for_client="Information on this transaction from the shopkeeper";
+$lang->info_bad_value="You can pay by SMS only if the sum to be paid is 1. 22, 2. 44, 3. 66, 6. 10, 7. 32, 10. 98 PLN. Change the products in your basket or use one of the below payment systems.";
+$lang->info_no_sms="Products from the below table cannot be purchased by SMS payment. Remove these products from the basket and try once again or use one of the below payment systems. You can pay by SMS only if all products in your basket can be paid by SMS and the sum to be paid is 1. 22, 2. 44, 3. 66, 6. 10, 7. 32, 10. 98 PLN";
+$lang->order_id="Order number";
+?>
\ No newline at end of file
diff -ruN ../soteesklep3/htdocs/lang/_pl/lang.inc.php soteesklep3/htdocs/lang/_pl/lang.inc.php
--- ../soteesklep3/htdocs/lang/_pl/lang.inc.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/htdocs/lang/_pl/lang.inc.php	2006-08-23 17:40:54.000000000 +0200
@@ -0,0 +1,760 @@
+<?php
+$lang->encoding="ISO-8859-2";
+$lang->shop="SOTEeSKLEP";
+$lang->date="Data";
+$lang->back="Powrót";
+$lang->search="Szukaj";
+$lang->add="Dodaj";
+$lang->help="Pomoc";
+$lang->symbol_add="+";
+$lang->symbol_del="-";
+$lang->del="Usuñ";
+$lang->next="Dalej";
+$lang->send="Wy¶lij";
+$lang->more="Informacja";
+$lang->recommend="Poleæ sklep (wpisz e-mail)";
+$lang->basket_add="Dodaj do koszyka";
+$lang->wishlist_add="Dodaj do przechowalni";
+$lang->time_execute="czas generowania strony";
+$lang->go=">>";
+$lang->producer_select="Wszyscy producenci";
+$lang->category_select="Wszystkie kategorie";
+$lang->choose_producer="Kategorie";
+$lang->page="Strona";
+$lang->records="Rekordy";
+$lang->empty_list_message="Brak rekordów";
+$lang->first="Pocz±tek";
+$lang->bool=array(
+                '1'=>"tak",
+                '0'=>"nie",
+                );
+$lang->head_home="Home";
+$lang->head_help="Pomoc";
+$lang->head_contact="Kontakt";
+$lang->head_about_shop="O sklepie";
+$lang->head_your_basket="Twój koszyk";
+$lang->head_login_register="Logowanie, rejestracja";
+$lang->head_my_account="Moje konto";
+$lang->head_terms="Regulamin";
+$lang->head_soteshop="SOTEeSKLEP 2";
+$lang->head_in_basket="Warto¶æ";
+$lang->head_products_count="Liczba produktów";
+$lang->head_shop="Sklep";
+$lang->head_search="Szukaj";
+$lang->head_promotions="Promocje";
+$lang->head_news="Nowo¶ci";
+$lang->head_about_company="O firmie";
+$lang->head_users_online="U¿ytkownicy online";
+$lang->head_register="Zarejestruj siê";
+$lang->head_simple_title="Sklep";
+$lang->google=array(
+                'title'=>"",
+                'keywords'=>"",
+                'description'=>"",
+                );
+$lang->foot_main_page="Strona g³ówna";
+$lang->foot_promotions="Promocje";
+$lang->foot_news="Nowo¶ci";
+$lang->foot_about="O firmie";
+$lang->foot_terms="Regulamin";
+$lang->foot_basket_state="Aktualny stan koszyka";
+$lang->foot_help="Pomoc";
+$lang->foot_soft="oprogramowanie";
+$lang->cols=array(
+                'name'=>"Nazwa",
+                'producer'=>"Producent",
+                'price'=>"Cena",
+                'price_brutto'=>"Cena brutto",
+                'price_netto'=>"Cena netto",
+                'price_nettobrutto'=>"Cena netto/brutto",
+                'category'=>"Kategoria",
+                'discount'=>"Rabat",
+                'price_brutto_detal'=>"Stara cena",
+                'points'=>"Punkty",
+                'm_points'=>"Punktów",
+                );
+$lang->main_recommend="Polecamy";
+$lang->main_news="Najnowsze wiadomo¶ci";
+$lang->left_choose_category="Wybierz kategoriê";
+$lang->right_choose_layout="Wybierz wygl±d sklepu";
+$lang->right_send="Wy¶lij";
+$lang->right_news="Nowo¶ci";
+$lang->random_discount="Rabat";
+$lang->random_price_brutto="Cena brutto";
+$lang->random_price_netto="Cena netto";
+$lang->info_price_detal="Cena detaliczna";
+$lang->record_price_netto="Cena netto";
+$lang->record_price_brutto="Cena brutto";
+$lang->discount="rabat";
+$lang->calculate_order="Podlicz";
+$lang->take_order="Realizuj zamówienie";
+$lang->delivery_cost="Koszt dostawy";
+$lang->shopping_amount="Warto¶æ zakupów";
+$lang->total_order_amount="Razem do zap³aty";
+$lang->delivery_country="Wybierz kraj dostawy";
+$lang->register_info="Je¶li nie jeste¶ zarejestrowanym u¿ytkownikiem mo¿esz siê zarejestrowaæ.";
+$lang->register_now="Zarejestruj siê";
+$lang->register_fill_gaps="Nale¿y wype³niæ pola oznaczone t³ustym drukiem";
+$lang->register_nip_desc="je¶li chcesz otrzymaæ <br>fakturê VAT";
+$lang->register_cor_desc=" Czy podany wy¿ej adres <BR>jest adresem wysy³kowym?";
+$lang->register_news_desc="Czy chcesz otrzymywaæ informacje ze sklepu?";
+$lang->register_newsletter="Chcesz otrzymywaæ informacje o promocjach<BR> i nowo¶ciach na konto e-mail.";
+$lang->register_bil_cor_data="Dane billingowe i adres korespondencyjny";
+$lang->register_bil_data="Dane billingowe";
+$lang->register_cor_address="Adres wysy³kowy";
+$lang->register_post_payment="Wy¶lij zamówienie za zaliczeniem pocztowym";
+$lang->register_ecard_payment="P³atno¶æ kart± kredytow± - system eCard";
+$lang->register_polcard_payment="P³atno¶æ kart± kredytow± - system PolCard";
+$lang->register_polcard_cards="Akceptowane karty: VISA, MasterCard, PolCard, JCB, Diners Club, Styl";
+$lang->register_ecard_cards="Akceptowane karty: VISA, MasterCard";
+
+$lang->register_citi_payment="P³atno¶æ kart± kredytow± - system CitiConnect";
+$lang->register_paypal_payment="P³acê systemem PayPal";
+$lang->register_allpay_payment="P³atno¶æ poprzez Allpay";
+$lang->register_paypal_info="Po kliknieciu w przycisk zostaniesz przekierowany do systemu p³ato¶ci PayPal";
+$lang->register_payu_payment="P³acê systemem PayU";
+$lang->register_transfer_payment="P³acê przelewem";
+$lang->register_post_order="Zamów za zaliczeniem";
+$lang->register_ecard_order="P³acê kart± - eCard";
+$lang->register_polcard_order="P³acê kart± - PolCard";
+$lang->register_paypal_order="P³acê systemem PayPal";
+$lang->register_citi_order="P³acê kart± - CitiConnect";
+$lang->register_payu_order="P³acê systemem PayU";
+$lang->register_allpay_order="P³acê z systemem Allpay";
+$lang->register_transfer_order="P³acê przelewem";
+$lang->users_login_name="Zaloguj siê";
+$lang->users_login_email="Login lub e-mail";
+$lang->users_password="Has³o";
+$lang->users_login="Zalogowany";
+$lang->users_logout="Wyloguj siê";
+$lang->users_change_personal_data="Zmieñ swoje dane";
+$lang->users_your_points="Twoja aktualna liczba punktów";
+$lang->users_register_desc="Je¶li jeste¶ nowym klientem mo¿esz siê zarejestrowaæ";
+$lang->users_register="Zarejestruj siê";
+$lang->users_sales="Handlowiec";
+$lang->users_order_register_desc="Je¶li chcesz teraz zrealizowaæ swoje zamówienie, to kliknij poni¿szy przycisk.";
+$lang->users_take_order="Realizuj zamówienie";
+$lang->users_bar_auth="Autoryzacja";
+$lang->users_login_error="B³êdna autoryzacja!";
+$lang->users_login_error_advice="Spróbuj ponownie siê zalogowaæ";
+$lang->users_user="U¿ytkownik ";
+$lang->users_loginok_desc=" zosta³ poprawnie zalogowany :)";
+$lang->users_change_data="Edytuj dane";
+$lang->users_points="Punkty";
+$lang->users_trans="Transakcje";
+$lang->users_trans_history="Historia transakcji";
+$lang->users_password_confirm="Powtórz has³o";
+$lang->users_continue="Dalej";
+$lang->users_already_registered="Je¶li jeste¶ ju¿ zarejestrowanym klientem to";
+$lang->users_logout_action="zosta³ wylogowany";
+$lang->users_registered="Twoje dane zosta³y zarejestrowane";
+$lang->login_ok="jest zalogowany";
+$lang->users_address_book="Ksiazka adresowa";
+$lang->users_reminder="Terminarz";
+$lang->basket_delivery_name_unknown="Nieokre¶lony";
+$lang->basket_delivery_country="Kraj dostawy";
+$lang->basket_delivery_cost="Koszt dostawy";
+$lang->basket_photo_description="<B>Opis zamówionego  produktu (uwagi):</b>";
+$lang->basket_upload="Za³±cz plik";
+$lang->basket_upload_file_exists="Za³±czony plik ju¿ istnieje, zmieñ nazwê pliku ";
+$lang->basket_photo_submit="Aktualizuj zmiany/za³±cz zbiorowo pliki";
+$lang->basket_total_order_amount="Razem do zap³aty";
+$lang->basket_bar_title="Zawarto¶æ koszyka";
+$lang->basket_order_continue="Kontynuuj zakupy";
+$lang->basket_delivery_name="Dostawca";
+$lang->basket_order_amount_name="Kwota do zap³aty";
+$lang->basket_txt_title="Zawarto¶æ koszyka";
+$lang->basket_amount_name="Warto¶æ zakupów";
+$lang->basket_elements=array(
+                'name'=>"nazwa",
+                'user_id'=>"ID",
+                'num'=>"ilosc",
+                'price_netto'=>"cena netto",
+                'price_brutto'=>"cena brutto",
+                'vat'=>"vat",
+                'sum_brutto'=>"suma brutto",
+                'name_unavailable'=>"Sprawd¼ dostêpno¶æ produktu",
+                'points_value'=>"punktów",
+                );
+$lang->order_points_update="Zakup za punkty";
+$lang->basket_attach_images_order="Za³±cz zdjêcia do zamówienia";
+$lang->basket_attach_file_desc1="Je¶li chcesz za³aczyæ zdjêcie do danego produktu, to wybierz plik i kliknij przycisk";
+$lang->basket_attach_file="Za³±cz plik";
+$lang->basket_attach_file_desc2="Kiedy dla kilku produktów jest to samo zdjêcie, za³±cz tylko jedno,a dla pozosta³ych produktów wybierz nazwê z listy i kliknij";
+$lang->basket_check_attach="Sprawd¼/Za³±cz zdjêcia do zamówienia";
+$lang->promotions_basket_name="Promocja, z której korzystasz";
+$lang->promotions_basket_amount="Warto¶æ zakupów po rabacie, w promocji";
+$lang->promotions_order_amount="Kwota do zap³aty po rabacie, w promocji";
+$lang->promotions_basket_discount="rabat";
+$lang->promotions_mail_name="Promocja";
+$lang->promotions_select="Dostêpne promocje";
+$lang->promotions_submit="Skorzytaj z promocji";
+$lang->promotions_go2basket="Realizuj zamówienie";
+$lang->promotions_code="Wpisz kod promocji";
+$lang->promotions_title="Promocje";
+$lang->promotions_all="Zobacz opisy promocji";
+$lang->choose="Wybierz";
+$lang->short_list="Lista skrócona";
+$lang->full_list="Pe³na lista ze zdjêciami";
+$lang->producers="Producenci";
+$lang->sort="Sortowanie";
+$lang->all="Wszyscy";
+$lang->trans_desc="Klikaj±c w id transakcji uzyskasz szczegó³owe informacje !";
+$lang->trans_id="Id transakcji";
+$lang->trans_date="Data transakcji";
+$lang->trans_amount="Kwota";
+$lang->trans_stat="Status";
+$lang->trans_pay_conf="Zap³acona";
+$lang->trans_payment="P³atno¶æ";
+$lang->trans_ask4trans="Zadaj pytanie sprzedawcy";
+$lang->basket_th_product_name="nazwa produktu";
+$lang->basket_th_netto="netto";
+$lang->basket_th_vat="vat";
+$lang->basket_th_brutto="brutto";
+$lang->basket_th_count="ilo¶æ";
+$lang->basket_th_sum="suma";
+$lang->basket_th_delete="usuñ";
+$lang->basket_th_points="punkty";
+$lang->yes="tak";
+$lang->no="nie";
+$lang->delete="usuñ";
+$lang->basket_title="Zawarto¶æ koszyka";
+$lang->bar_title=array(
+                'promotion'=>"Promocje",
+                'newcol'=>"Nowo¶ci",
+                'bestseller'=>"Bestseller",
+                'main_page'=>"Zapraszamy na zakupy",
+                'users'=>"Logowanie, rejestracja",
+                'register_confirm'=>"Sprawd¼ wprowadzone dane, wybierz sposób p³atnosæi",
+                'register_cor'=>"Adres wysy³kowy",
+                'register_billing'=>"Dane billingowe",
+                'search'=>"Wynik wyszukiwania dla",
+                'polcard'=>"P³atno¶æ kart± kredytow± - system <a href=http:// www.polcard.com.pl target=polcard>PolCard</a>",
+                'ecard'=>"P³atno¶æ kart± kredytow± - system <a href=http:// www.ecard.pl target=ecard><u>eCard</u></a>",
+                'newsletter'=>"Newsletter",
+                'firm'=>"Logowanie dla odbiorców hurtowych",
+                'themes'=>"Zmiana wygl±du strony",
+                'account'=>"Moje konto",
+                'trans'=>"Moje transakcje",
+                'trans_products'=>"Zawarto¶æ transakcji numer:",
+                'info'=>"Informacje",
+                'address_book'=>"Ksi±zka adresowa",
+                'reminder'=>"Terminarz",
+                'contact'=>"Kontakt",
+                'about_shop'=>"O sklepie",
+                'help'=>"Pomoc",
+                'about_company'=>"O firmie",
+                'terms'=>"Regulamin",
+                'points'=>"Moje punkty",
+                );
+$lang->register_billing_form_errors=array(
+                'name'=>"brak imienia",
+                'surname'=>"brak nazwiska",
+                'street'=>"brak ulicy",
+                'street_n1'=>"brak numeru domu",
+                'postcode'=>"brak kodu pocztowego",
+                'city'=>"brak miasta",
+                'phone'=>"brak telefonu",
+                'email'=>"niepoprawny adres email/lub adres istnieje ju¿ w bazie",
+                'country'=>"niew³a¶ciwy kraj",
+                );
+$lang->register_cor_form_errors=array(
+                'name'=>"brak imienia",
+                'surname'=>"brak nazwiska",
+                'street'=>"brak ulicy",
+                'street_n1'=>"brak numeru domu",
+                'postcode'=>"brak kodu pocztowego",
+                'city'=>"brak miasta",
+                'email'=>"niepoprawny adres email",
+                );
+$lang->form_name=array(
+                'firm'=>"firma",
+                'name'=>"imiê",
+                'surname'=>"nazwisko",
+                'street'=>"ulica",
+                'street_n1'=>"nr domu",
+                'street_n2'=>"nr mieszkania",
+                'postcode'=>"kod pocztowy",
+                'city'=>"miasto",
+                'phone'=>"telefon",
+                'email'=>"e-mail",
+                'country'=>"kraj",
+                'nip'=>"NIP",
+                'description'=>"uwagi",
+                'change_country'=>"zmieñ kraj",
+                );
+$lang->select_country="Wybierz kraj dostawy";
+$lang->form_title_addr="Dane billingowe";
+$lang->form_title_addr_cor="Adres korespondencyjny";
+$lang->form_title_one_addr="Adres korespondencyjny taki sam jak billingowy";
+$lang->basket_empty="Koszyk jest pusty";
+$lang->order_continue="Kontynuuj zakupy";
+$lang->order_subject="Zamówienie ze sklepu";
+$lang->order_confirm_subject="Potwierdzenie zamówienia";
+$lang->search_empty_query="B³êdny ci±g wyszukiwania. Wpisz nazwê szukanego produktu.";
+$lang->search_empty_title="Wyszukiwanie";
+$lang->search_category="szukaj w kategorii";
+$lang->search_description="szukaj w opisach";
+$lang->search_advanced="Wyszukiwanie zaawansowane";
+$lang->delivery_name="Dostawca";
+$lang->delivery_name_unknown="Nieokre¶lony";
+$lang->order_amount_name="Kwota do zap³aty";
+$lang->users_new_form_errors=array(
+                'login'=>"b³êdny login",
+                'password'=>"b³êdne has³o, wpisz min. 6 znaków",
+                'password2'=>"b³êdnie powtórzone has³o",
+                );
+$lang->users_log_in="Zaloguj siê";
+$lang->users_change_password="Zmieñ has³o";
+$lang->pay_method=array(
+                '1'=>"Przy odbiorze",
+                '2'=>"eCard",
+                '3'=>"PolCard",
+                '4'=>"Inteligo",
+                '5'=>"mBank",
+                '6'=>"CitiConnect",
+                '7'=>"PayU",
+                '11'=>"Przelew",
+                '12'=>"Przelewy24",
+                '20'=>"P³atno¶ciPL",
+                '21'=>"Allpay",
+                '110'=>"P³atno¶æ kart±",
+                );
+$lang->pay_method_title="Rodzaj p³atno¶ci";
+$lang->pay_method_status_off="Tryb testowy";
+$lang->upload="Za³±cz plik";
+$lang->upload_photo="Za³±czono plik";
+$lang->upload_file_exists="Za³±czony plik juz istnieje, zmieñ nazwê pliku ";
+$lang->upload_name_info="wpisz nazwê pliku";
+$lang->message_basket_photo_title="Zdjêcia do produktów:
+
+";
+$lang->newsletter="Newsletter";
+$lang->newsletter_list_info="Niusy";
+$lang->info_options="Wybierz opcjê: ";
+$lang->mp3=array(
+                'title'=>"Pliki do ods³uchania w formacie MP3",
+                'ftp'=>"¶ci±gnij player mp3",
+                );
+$lang->points_category="Zakupy za punkty";
+$lang->points_show="Liczba Twoich punktów";
+$lang->available="Dostêpno¶æ:";
+$lang->available_online=array(
+                '1'=>"produkt dostêpny on-line",
+                '0'=>"jest, ale niedostêpny on-line",
+                );
+$lang->ask4price_mail="Zapytanie o cene produktu";
+$lang->ask4price="Zapytaj o cenê";
+$lang->ask4price_list="Zapytania o cenê";
+$lang->ask4price_empty_list="Brak zapytañ o cenê";
+$lang->close="Zamknij";
+$lang->order_by=array(
+                'name'=>"Nazwa",
+                'price'=>"Cena",
+                'producer'=>"Producent",
+                'SCORE'=>"Dopasowanie",
+                );
+$lang->in_category="Inne produkty z tej samej kategorii";
+$lang->accessories="Akcesoria";
+$lang->full_description="Pe³ny opis";
+$lang->write_up="Recenzje produktu";
+$lang->order_names=array(
+                'order_id'=>"Numer transakcji",
+                'amount'=>"Kwota do zap³aty",
+                'delivery_cost'=>"Koszzty dostawy",
+                'id_currency'=>"Waluta",
+                'id_pay_method'=>"P³atno¶æ",
+                'date_add'=>"Data transakcji",
+                'time_add'=>"Godzina",
+                'xml_description'=>"zamówienie",
+                'id_user'=>"id u¿ytkownika",
+                'xml_user'=>"dane zamawiaj±cego",
+                'name'=>"zamawiaj±cy",
+                'id_delivery'=>"Dostawca",
+                'id_status'=>"Status",
+                'confirm'=>"Zap³acona",
+                'confirm_user'=>"Potwierdzona mailem",
+                'description'=>"Informacje dodatkowe",
+                'status'=>"Status",
+                'checksum'=>"suma kontrolna transakcji",
+                'send_date'=>"Data wys³ania przesy³ki",
+                'send_number'=>"Numer przesy³ki",
+                'send_confirm'=>"Przesy³ka wys³ana",
+                );
+$lang->users_bar="Witamy w panelu u¿ytkownika !";
+$lang->order_basket=array(
+                'name'=>"nazwa produktu",
+                'options'=>"opcje",
+                'user_id'=>"id",
+                'price_netto'=>"cena netto",
+                'vat'=>"VAT",
+                'num'=>"ilo¶æ",
+                'price_brutto'=>"cena brutto",
+                'sum'=>"suma",
+                );
+$lang->send_link="W celu potwierdzenia zamowienia kliknij ponizszy link";
+$lang->register_send_title="Wys³anie zamówienia";
+$lang->register_send_confirm_ok="Dziêkujemy za dokonanie zakupów.";
+$lang->register_send_confirm_ok_add_info="<BR><b>UWAGA!</b> Zmieniona zosta³a forma p³atno¶ci.<BR>
+
+Je¶li jednak dosz³o do autoryzacji transakcji przez inny system p³atno¶ci, towar zostanie wys³any do Ciebie bez zaliczenia.<BR><BR>";
+$lang->register_send_order_error="Niestety nie uda³o siê wys³aæ zamówienia. <BR>
+
+				Skontaktuj siê ze sprzedawc± pod adresem ";
+$lang->send_add_info=" 
+
+UWAGA! U¿ytkownik zmieni³ formê p³atno¶ci. Sprawd¼ w panelu administracyjnym POLCARD'u czy ta transakcja zosta³a zautoryzowana. ";
+$lang->trans_link="Aby zobaczyæ szczegó³owe informacje dotycz±ce Twojej transakcji kliknij poni¿szy link";
+$lang->main_keys_empty="w bazie nie ma aktualnie kodów do tego produktu, <br> odpowiedni kod otrzymasz mailem";
+$lang->main_keys_code="Kody do zamówienia";
+$lang->main_keys_cols=array(
+                'name'=>"Nazwa produktu",
+                'info'=>"Komunikat",
+                );
+$lang->main_keys_errors_title="Dodatkowe informacje o realizacji zamówienia";
+$lang->main_keys_title="Dodatkowe dane do zamówienia";
+$lang->main_keys_mail=array(
+                'subject'=>"Dodatkowe dane do zamówienia",
+                'title'=>"Poni¿ej znajduj± siê kody do zamówienia z³o¿onego w sklepie internetowym",
+                'user_id'=>"ID",
+                'name'=>"Nazwa",
+                );
+$lang->main_keys_download="pobierz plik";
+$lang->main_keys_demo_title="Bezp³atne pliki do pobrania:";
+$lang->main_keys_download_title="Pobieranie plików";
+$lang->main_keys_download_not_found="Wskazany plik nie istnieje. Skontaktuj siê ze sprzedawc±";
+$lang->month_name=array(
+                '1'=>"Styczeñ",
+                '2'=>"Luty",
+                '3'=>"Marzec",
+                '4'=>"Kwiecieñ",
+                '5'=>"Maj",
+                '6'=>"Czerwiec",
+                '7'=>"Lipiec",
+                '8'=>"Sierpieñ",
+                '9'=>"Wrzesieñ",
+                '10'=>"Pa¼dziernik",
+                '11'=>"Listopad",
+                '12'=>"Grudzieñ",
+                );
+$lang->currency_select="Wybierz walutê";
+$lang->infoOnPageURI=array(
+                'name'=>"Wiêcej",
+                );
+$lang->printPage=array(
+                'button'=>"Drukuj",
+                'info'=>"Wydrukowaæ stronê?",
+                );
+$lang->newsletter_add=" Dodaj ";
+$lang->newsletter_remove=" Usuñ ";
+$lang->wp_store_trans=array(
+                '-1'=>"Serwer SOAP niedostêpny",
+                '0'=>"Wszystko ok",
+                '1'=>"B³±d autoryzacji",
+                '2'=>"Operacja powiod³a siê czê¶ciowo",
+                '3'=>"Operacja nie powiod³a siê ca³kowicie",
+                );
+$lang->users_forgot_password="Nie pamiêtasz has³a?";
+$lang->users_click_here="Kliknij tutaj";
+$lang->country_user_def="Wybierz kraj";
+$lang->country=array(
+                'AF'=>"Afganistan",
+                'AL'=>"Albania",
+                'DZ'=>"Algeria",
+                'AD'=>"Andora",
+                'AO'=>"Angola",
+                'AI'=>"Anguilla",
+                'AQ'=>"Andarktyda",
+                'AG'=>"Antigua i Barbuda",
+                'AN'=>"Antyle holenderskie",
+                'SA'=>"Arabia Saudyjska",
+                'AR'=>"Argentyna",
+                'AM'=>"Armenia",
+                'AW'=>"Aruba",
+                'AU'=>"Australia",
+                'AT'=>"Austria",
+                'AZ'=>"Azejberd¿an",
+                'BS'=>"Bahamy",
+                'BH'=>"Bahrajn",
+                'BD'=>"Bangladesz",
+                'BB'=>"Barbados",
+                'BE'=>"Belgia",
+                'BZ'=>"Belize",
+                'BJ'=>"Benin",
+                'BM'=>"Bermudy",
+                'BT'=>"Bhutan",
+                'BY'=>"Bia³oru¶",
+                'BO'=>"Boliwia",
+                'BA'=>"Bo¶nia i Hercegowina",
+                'BW'=>"Botswana",
+                'BR'=>"Brazylia",
+                'BN'=>"Brunei Darussalam",
+                'IO'=>"Brytyjskie Terytorium Oceanu Indyjskiego",
+                'BG'=>"Bu³garia",
+                'BF'=>"Burkina Faso",
+                'BI'=>"Burundi",
+                'HR'=>"Chorwacja",
+                'CL'=>"Chile",
+                'CN'=>"Chiny",
+                'CY'=>"Cypr",
+                'TD'=>"Czad",
+                'CZ'=>"Czechy",
+                'DK'=>"Dania",
+                'DM'=>"Dominika",
+                'DO'=>"Dominikana",
+                'DJ'=>"D¿ibuti",
+                'EG'=>"Egypt",
+                'EC'=>"Ekwador",
+                'ER'=>"Erytrea",
+                'EE'=>"Estonia",
+                'ET'=>"Etiopia",
+                'FK'=>"Falklandy",
+                'FJ'=>"Fid¿i",
+                'PH'=>"Filipiny",
+                'FI'=>"Finlandia",
+                'FR'=>"Francja",
+                'TF'=>"Francuskie Terytorium Po³udniowe",
+                'GA'=>"Gabon",
+                'GM'=>"Gambia",
+                'GH'=>"Ghana",
+                'GI'=>"Gibraltar",
+                'GR'=>"Grecja",
+                'GD'=>"Grenada",
+                'GL'=>"Grenlandia",
+                'GE'=>"Gruzja",
+                'GU'=>"Guam",
+                'GY'=>"Gujana",
+                'GF'=>"Gujana Francuska",
+                'GP'=>"Gwadelupa",
+                'GT'=>"Gwatemala",
+                'GN'=>"Gwinea",
+                'GW'=>"Gwinea Bissau",
+                'GQ'=>"Guinea Równikowa",
+                'HT'=>"Haiti",
+                'HM'=>"Heard i wyspy McDonalda",
+                'ES'=>"Hiszpania",
+                'NL'=>"Holandia",
+                'HN'=>"Honduras",
+                'HK'=>"Hongkong",
+                'IN'=>"Indie",
+                'ID'=>"Indonezia",
+                'IQ'=>"Irak",
+                'IR'=>"Iran",
+                'IE'=>"Irlandia",
+                'IS'=>"Islandia",
+                'IL'=>"Izrael",
+                'JM'=>"Jamajka",
+                'JP'=>"Japonia",
+                'YE'=>"Jemen",
+                'JO'=>"Jordania",
+                'KY'=>"Kajmany",
+                'KH'=>"Kambod¿a",
+                'CM'=>"Kamerun",
+                'CA'=>"Kanada",
+                'QA'=>"Katar",
+                'KZ'=>"Kazachstan",
+                'KE'=>"Kenia",
+                'KI'=>"Kiribati",
+                'CO'=>"Kolumbia",
+                'KM'=>"Komory",
+                'CG'=>"Kongo",
+                'CD'=>"Kongo (d. Zair)",
+                'KR'=>"Korea Po³udniowa",
+                'KP'=>"Korea Pó³nocna",
+                'CR'=>"Kostaryka",
+                'CU'=>"Kuba",
+                'KW'=>"Kuwejt",
+                'KG'=>"Kyrgystan",
+                'LA'=>"Laos",
+                'LS'=>"Lesotho",
+                'LB'=>"Liban",
+                'LR'=>"Liberia",
+                'LY'=>"Libia",
+                'LI'=>"Liechtenstein",
+                'LT'=>"Litwa",
+                'LU'=>"Luksemburg",
+                'LV'=>"£otwa",
+                'MK'=>"Macedonia",
+                'MG'=>"Madagaskar",
+                'YT'=>"Majotta",
+                'MO'=>"Makao",
+                'MW'=>"Malawi",
+                'MV'=>"Malediwy",
+                'MY'=>"Malezja",
+                'ML'=>"Mali",
+                'MT'=>"Malta",
+                'MA'=>"Maroko",
+                'MQ'=>"Martynika",
+                'MR'=>"Mauretania",
+                'MU'=>"Mauritius",
+                'MP'=>"Mariany Pó³nocne",
+                'MX'=>"Meksyk",
+                'FM'=>"Mikronezja",
+                'UM'=>"Minor (Usa)",
+                'MD'=>"Moldawia",
+                'MC'=>"Monako",
+                'MN'=>"Mongolia",
+                'MS'=>"Montserrat",
+                'MZ'=>"Mozambik",
+                'MM'=>"Myanmar (Birma)",
+                'NA'=>"Namibia",
+                'NR'=>"Nauru",
+                'NP'=>"Nepal",
+                'DE'=>"Niemcy",
+                'NE'=>"Niger",
+                'NG'=>"Nigeria",
+                'NI'=>"Nikaragua",
+                'NU'=>"Niue",
+                'NO'=>"Norwegia",
+                'NC'=>"Nowa Kaledonia",
+                'NZ'=>"Nowa Zelandia",
+                'OM'=>"Oman",
+                'PK'=>"Pakistan",
+                'PW'=>"Palau",
+                'PA'=>"Panama",
+                'PG'=>"Papua Nowa Gwinea",
+                'PY'=>"Paragwaj",
+                'PE'=>"Peru",
+                'PN'=>"Pitcairn",
+                'PF'=>"Polinezja Francuska",
+                'PL'=>"Polska",
+                'GS'=>"Po³udniowa Georgia i p³d wyspy Sandwich",
+                'PT'=>"Portugalia",
+                'PR'=>"Portoryko",
+                'ZA'=>"Rep. Po³ud. Afryki (RPA)",
+                'CF'=>"Rep. ¦rodk. Afrykañska",
+                'RE'=>"Reunion",
+                'RU'=>"Rosja",
+                'RO'=>"Rumunia",
+                'RW'=>"Ruanda",
+                'EH'=>"Sahara Zachodnia",
+                'KN'=>"St.Kitts i Nevis",
+                'PM'=>"St.Pierre i Miquelon",
+                'VC'=>"St.Vincent i Grenadyny",
+                'SV'=>"Salwador",
+                'AS'=>"Samoa Amerykañskie",
+                'WS'=>"Samoa",
+                'SM'=>"San Marino",
+                'SN'=>"Senegal",
+                'CS'=>"Serbia i Czarnogóra",
+                'SC'=>"Seszele",
+                'SL'=>"Sierra Leone",
+                'SG'=>"Singapur",
+                'SK'=>"S³owacja",
+                'SI'=>"Slowenia",
+                'SO'=>"Somalia",
+                'LK'=>"Sri Lanka",
+                'US'=>"Stany Zjednoczone Ameryki",
+                'SD'=>"Sudan",
+                'SR'=>"Surinam",
+                'SZ'=>"Suazi",
+                'SY'=>"Syria",
+                'SE'=>"Szwecja",
+                'CH'=>"Szwajcaria",
+                'SH'=>"¦wiêta Helena",
+                'LC'=>"Swiêta £ucja",
+                'TJ'=>"Tad¿ykistan",
+                'TH'=>"Tajlandia",
+                'TW'=>"Tajwan",
+                'TZ'=>"Tanzania",
+                'TG'=>"Togo",
+                'TK'=>"Tokelau",
+                'TT'=>"Trinidad i Tobago",
+                'TO'=>"Tonga",
+                'TN'=>"Tunezja",
+                'TR'=>"Turcja",
+                'TM'=>"Turkmenistan",
+                'TC'=>"Turks i Caicos",
+                'TV'=>"Tuvalu",
+                'UG'=>"Uganda",
+                'UA'=>"Ukraina",
+                'UY'=>"Urugwaj",
+                'UZ'=>"Uzbekistan",
+                'VU'=>"Vanuatu",
+                'WF'=>"Wallis i Futuna ",
+                'VA'=>"Watykan",
+                'VE'=>"Wenezuela",
+                'HU'=>"Wêgry",
+                'GB'=>"Wielka Brytania",
+                'VN'=>"Wietnam",
+                'IT'=>"W³ochy",
+                'TP'=>"Wschodni Timor",
+                'CI'=>"Wybrze¿e Ko¶ci S³oniowej",
+                'BV'=>"Wyspa Bouveta",
+                'CX'=>"Wyspa Bo¿ego Narodzenia",
+                'CK'=>"Wyspy Cooka",
+                'VI'=>"Wyspy Dziewicze (USA)",
+                'VG'=>"Wyspy Dziewicze (Brytyjskie)",
+                'CC'=>"Wyspy Kokosowe",
+                'MH'=>"Wyspy Marshala",
+                'FO'=>"Wyspy Salomona",
+                'ST'=>"Wyspy ¦w.Tomasza i Ksi±¿êce",
+                'CV'=>"Zielony Przyl±dek",
+                'ZM'=>"Zambia",
+                'ZW'=>"Zimbabwe",
+                'AE'=>"Zjednoczone Emiraty Arabskie",
+                'NT'=>"Neutralna strefa",
+                );
+$lang->google_product_list="Lista produktów";             
+$lang->google_categories="Kategorie";
+$lang->google_main_page="Produkty polecane";
+$lang->google_files="Strony tekstowe, informacje";
+$lang->google_up_link="Mapa serwisu";
+$lang->order_confirm_ok="Twoja transakcja zosta³a potwierdzona !<br /> Dziêkujemy.";
+$lang->order_confirm_error="Twoja transakcja nie mo¿e zosta³a potwierdzona.<br /> Sprawd¼ link.";
+$lang->order_confirm_error1="Twojej transakcji nie ma w bazie danych.<br /> Sprawd¼ link.";
+$lang->order_confirm_error2="Twoja transakcja ju¿ wcze¶niej zosta³a zatwierdzona !<br /> Dziêkujemy.";
+$lang->order_confirm_error3="B³êdny numer transakcji !<br /> Sprawd¼ link.";
+$lang->trans_error="Informacje dotycz±ce Twojej transakcji nie mog± zostaæ wy¶wietlone.<br /> Sprawd¼ link.";
+$lang->trans_error1="Twojej transakcji nie ma ju¿ w bazie danych.<br /> Przepraszamy.";		
+$lang->google_up_link="Mapa serwisu";		
+$lang->ranking_title="Klienci, którzy kupili prezentowany produkt, kupili równie¿ poni¿sze:";		
+$lang->products4u_title="Produkty dla Ciebie";		
+$lang->check_uncheck_all="Zaznacz/odznacz wszystkie";
+$lang->to_be_deleted=" do usuniêcia: ";	
+$lang->to_be_moved=" do przechowlani: ";	
+$lang->to_be_moved_2basket=" do koszyka: ";	
+$lang->basket_th_move="do przechowalni";
+$lang->basketForm="Koszyk";
+$lang->wishlistForm="Przechowalnia";
+$lang->info_attrib_wishlist="Do przechowalni";
+$lang->wishlist_empty="Przechowalnia jest pusta";
+$lang->basket_th_move="do przechowalni";
+$lang->wishlist_th_move="do koszyka";
+$lang->info_attrib_wishlist="Do przechowalni";
+$lang->tooltip=array (
+					'wishlist'=>'Dodaj do przechowalni',
+					'wishlist_head'=>'Przechowalnia',
+					'basket'=>'Dodaj do koszyka',
+					'basket_head'=>'Koszyk',
+					'info'=>'Pe³ny opis');
+$lang->head_wishlist="Przechowalnia";
+$lang->points_action="Akcja";
+$lang->points_time="Czas wykonania";
+$lang->points_id_product="Id produktu";
+$lang->user_points=array(
+				    'decrease'=>"zmniejszenie",
+					'add'=>"zwiêkszenie",
+					'for_recommend'=>"za <b>polecenie</b> produktu",
+					'for_product'=>"za <b>kupno</b>",
+					'for_review'=>"za dodanie <b>recenzji</b>",
+					);
+
+$lang->basket_points_amount_name="Warto¶æ zakupów";
+$lang->basket_points_cost="Warto¶æ zamówienia w punktach";
+$lang->basket_points_left="Pozosta³o punktów do wykorzystania";					
+$lang->basket_currency="Waluta obowi±zuj±ca w sklepie to";
+$lang->basket_products_extra=array(
+								  "user_id"=>"ID",
+								  "points_value"=>"pkt"
+								  );
+$lang->info_no_sms="Produktów w poni¿szej tabelce nie mo¿esz kupic p³ac±c SMS. Usuñ te produkty z koszyka i spróbuj jeszcze raz albo zap³aæ u¿ywaj±c jedngo z poni¿szych systemów p³atno¶ci. Zap³aciæ SMS mo¿esz wtedy kiedy w Twoim koszyku s± tylko produktów za które mo¿na p³aciæ SMS i kwota zakupów wynosi 1.22, 2.44, 3.66, 6.10, 7.32, 10.98 PLN ";
+$lang->info_bad_value="Zap³aciæ SMS mo¿esz wtedy kiedy kwota zakupów wynosi 1.22, 2.44, 3.66, 6.10, 7.32, 10.98 PLN. Zmieñ zawarto¶æ koszyka i spróbuj jeszcze raz albo zap³aæ u¿ywaj±c jedngo z poni¿szych systemów p³atno¶ci.";
+$lang->info_for_client="Informacje od sprzedawcy dotycz±ce tej transakcji";
+$lang->desc_max_photo="Poka¿ du¿e zdjêcie";
+$lang->pay_error_info="P³atno¶æ zosta³a anulowana. Sklep nie otrzyma³ potwierdzenia p³atno¶ci.";
+$lang->change_pay_method="Wybierz inn± metodê p³atno¶ci";
+$lang->order_id="Zamówienie numer";
+$lang->main_keys_via_email="<br><center>Kody do produktów zostan± dos³ane mailem.</center>";
+$lang->main_keys_platnosciPL="<br><center>Kody do produktów zostan± dos³ane mailem po zaakceptowaniu transakcji przez sprzedawce.</center>";
+?>
\ No newline at end of file
diff -ruN ../soteesklep3/htdocs/lang/_ru/lang.inc.php soteesklep3/htdocs/lang/_ru/lang.inc.php
--- ../soteesklep3/htdocs/lang/_ru/lang.inc.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/htdocs/lang/_ru/lang.inc.php	2006-08-23 16:59:16.000000000 +0200
@@ -0,0 +1,740 @@
+<?php
+$lang->encoding="UTF-8";
+$lang->shop="SOTEeÐ¼Ð°Ð³Ð°Ð·Ð¸Ð½";
+$lang->date="ÐÐ°ÑÐ°";
+$lang->back="ÐÐ°Ð·Ð°Ð´";
+$lang->search="ÐÐ¾Ð¸ÑÐº";
+$lang->add="ÐÐ¾Ð±Ð°Ð²Ñ";
+$lang->help="ÐÐ¾Ð¼Ð¾ÑÑ";
+$lang->symbol_add="+";
+$lang->symbol_del="-";
+$lang->del="Ð£ÑÑÑÐ°Ð½Ð¸";
+$lang->next="Ð´Ð°Ð»ÑÑÐµ";
+$lang->send="Ð¾ÑÐ¿ÑÐ°Ð²Ñ";
+$lang->more="ÐÐ½ÑÐ¾ÑÐ¼Ð°ÑÐ¸Ñ";
+$lang->recommend="Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑÐ¹ Ð¼Ð°Ð³Ð°Ð·Ð¸Ð½(Ð²Ð¿Ð¸ÑÐ¸ e-mail)";
+$lang->basket_add="ÐÐ¾Ð±Ð°Ð²Ñ Ð² ÐºÐ¾ÑÐ·Ð¸Ð½Ñ";
+$lang->wishlist_add="ÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ Ð½Ð° ÑÑÐ°Ð½ÐµÐ½Ð¸Ðµ";
+$lang->time_execute="ÐÑÐµÐ¼Ñ Ð³ÐµÐ½ÐµÑÐ°ÑÐ¸Ð¸ ÑÑÐ¾ÑÐ¾Ð½Ñ";
+$lang->go=">>";
+$lang->producer_select="ÐÑÐµ Ð¿ÑÐ¾Ð¸Ð·Ð²Ð¾Ð´Ð¸ÑÐµÐ»Ð¸";
+$lang->category_select="ÐÑÐµ ÐºÐ°ÑÐµÐ³Ð¾ÑÐ¸Ð¸";
+$lang->choose_producer="ÐÐ°ÑÐµÐ³Ð¾ÑÐ¸Ñ";
+$lang->page="Ð¡ÑÐ¾ÑÐ¾Ð½Ð°";
+$lang->records="Ð ÐµÐºÐ¾ÑÐ´Ñ";
+$lang->empty_list_message="ÐÑÑÑÑÑÑÐ²Ð¸Ðµ ÑÐµÐºÐ¾ÑÐ´Ð¾Ð²";
+$lang->first="ÐÐ°ÑÐ°Ð»Ð¾";
+$lang->bool=array(
+                '1'=>"Ð¢Ð°Ðº",
+                '0'=>"ÐÐµÑ",
+                );
+$lang->head_home="Home";
+$lang->head_help="ÐÐ¾Ð¼Ð¾ÑÑ";
+$lang->head_contact="ÐÐ¾Ð½ÑÐ°ÐºÑ";
+$lang->head_about_shop="O Ð¼Ð°Ð³Ð°Ð·Ð¸Ð½Ðµ";
+$lang->head_your_basket="Ð¢Ð²Ð¾Ñ ÐºÐ¾ÑÐ·Ð¸Ð½Ð°";
+$lang->head_login_register="ÐÑÐ¾Ð´, ÑÐµÐ³Ð¸ÑÑÑÐ°ÑÐ¸Ñ";
+$lang->head_my_account="ÐÐ¾Ñ ÐºÐ¾Ð½ÑÐ¾";
+$lang->head_terms="Ð ÐµÐ³Ð»Ð°Ð¼ÐµÐ½Ñ";
+$lang->head_soteshop="SOTEeÐ¼Ð°Ð³Ð°Ð·Ð¸Ð½ 2";
+$lang->head_in_basket="Ð¡ÑÐ¾Ð¸Ð¼Ð¾ÑÑÑ";
+$lang->head_products_count="ÐÐ¾Ð»Ð¸ÑÐµÑÑÐ²Ð¾ Ð¿ÑÐ¾Ð´ÑÐºÑÐ¾Ð²";
+$lang->head_shop="ÐÐ°Ð³Ð°Ð·Ð¸Ð½";
+$lang->head_search="ÐÑÐ¸";
+$lang->head_promotions="Ð ÐµÐºÐ»Ð°Ð¼Ð½Ð¾Ðµ Ð¿ÑÐµÐ´Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ";
+$lang->head_news="ÐÐ¾Ð²Ð¾ÑÑÐ¸";
+$lang->head_about_company="O ÑÐ¸ÑÐ¼Ðµ";
+$lang->head_users_online="ÐÐ¾Ð»ÑÐ·Ð¾Ð²Ð°ÑÐµÐ»Ð¸ online";
+$lang->head_register="ÐÐ°ÑÐµÐ³Ð¸ÑÑÑÐ¸ÑÑÐ¹ÑÑ";
+$lang->head_simple_title="ÐÐ°Ð³Ð°Ð·Ð¸Ð½";
+$lang->google=array(
+                'title'=>"",
+                'keywords'=>"",
+                'description'=>"",
+                );
+$lang->foot_main_page="ÐÐ»Ð°Ð²Ð½Ð°Ñ ÑÑÐ¾ÑÐ¾Ð½Ð°";
+$lang->foot_promotions="Ð ÐµÐºÐ»Ð°Ð¼Ð½Ð¾Ðµ Ð¿ÑÐµÐ´Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ";
+$lang->foot_news="ÐÐ¾Ð²Ð¾ÑÑÐ¸";
+$lang->foot_about="Ð ÑÐ¸ÑÐ¼Ðµ";
+$lang->foot_terms="Ð ÐµÐ³Ð»Ð°Ð¼ÐµÐ½Ñ";
+$lang->foot_basket_state="ÐÐºÑÑÐ°Ð»ÑÐ½Ð¾Ðµ ÑÐ¾ÑÑÐ¾ÑÐ½Ð¸Ðµ ÐºÐ¾ÑÐ·Ð¸Ð½Ñ";
+$lang->foot_help="ÐÐ¾Ð¼Ð¾ÑÑ";
+$lang->foot_soft="ÐÑÐ¾Ð³ÑÐ°Ð¼Ð¼Ð¸ÑÐ¾Ð²Ð°Ð½Ð¸Ðµ";
+$lang->cols=array(
+                'name'=>"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ",
+                'producer'=>"Ð¿ÑÐ¾Ð¸Ð·Ð²Ð¾Ð´Ð¸ÑÐµÐ»Ñ",
+                'price'=>"ÑÐµÐ½Ð°",
+                'price_brutto'=>"ÑÐµÐ½Ð° Ð±ÑÑÑÑÐ¾",
+                'price_netto'=>"ÑÐµÐ½Ð° Ð½ÐµÑÑÐ¾",
+                'price_nettobrutto'=>"ÑÐµÐ½Ð° Ð½ÐµÑÑÐ¾/Ð±ÑÑÑÑÐ¾",
+                'category'=>"ÐºÐ°ÑÐµÐ³Ð¾ÑÐ¸Ñ",
+                'discount'=>"ÑÐºÐ¸Ð´ÐºÐ°",
+                'price_brutto_detal'=>"ÑÑÐ°ÑÐ°Ñ ÑÐµÐ½Ð°",
+                'points'=>"ÐÑÐºÐ¸",
+                'm_points'=>"ÐÑÐºÐ¾Ð²",
+                );
+$lang->main_recommend="Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑÐµÐ¼";
+$lang->main_news="ÐÐ¾Ð²ÐµÐ¹ÑÐ¸Ðµ Ð²ÐµÐ´Ð¾Ð¼Ð¾ÑÑÐ¸";
+$lang->left_choose_category="ÐÑÐ±ÐµÑÐ¸ ÐºÐ°ÑÐµÐ³Ð¾ÑÐ¸Ñ";
+$lang->right_choose_layout="ÐÑÐ±ÐµÑÐ¸ Ð¼Ð°Ð³Ð°Ð·Ð¸Ð½";
+$lang->right_send="ÐÑÑÐ»Ð¸";
+$lang->right_news="ÐÐ¾Ð²Ð¾ÑÑÐ¸";
+$lang->random_discount="Ð¡ÐºÐ¸Ð´ÐºÐ°";
+$lang->random_price_brutto="Ð¦ÐµÐ½Ð° Ð±ÑÑÑÑÐ¾";
+$lang->random_price_netto="Ð¦ÐµÐ½Ð° Ð½ÐµÑÑÐ¾";
+$lang->info_price_detal="Ð¦ÐµÐ½Ð° Ð½ÐµÑÑÐ¾";
+$lang->record_price_netto="Ð¦ÐµÐ½Ð° Ð½ÐµÑÑÐ¾";
+$lang->record_price_brutto="Ð¦ÐµÐ½Ð° Ð±ÑÑÑÑÐ¾";
+$lang->discount="Ð¡ÐºÐ¸Ð´ÐºÐ°";
+$lang->calculate_order="ÐÐ¾ÑÑÐ¸ÑÐ°Ð¹";
+$lang->take_order="Ð ÐµÐ°Ð»Ð¸Ð·Ð¸ÑÑÐ¹ Ð·Ð°ÐºÐ°Ð·";
+$lang->delivery_cost="Ð¡ÑÐ¾Ð¸Ð¼Ð¾ÑÑÑ Ð´Ð¾ÑÑÐ°Ð²ÐºÐ¸";
+$lang->shopping_amount="Ð¡ÑÐ¾Ð¸Ð¼Ð¾ÑÑÑ Ð¿Ð¾ÐºÑÐ¿Ð¾Ðº";
+$lang->total_order_amount="ÐÐ±ÑÐ°Ñ ÑÑÐ¾Ð¸Ð¼Ð¾ÑÑÑ";
+$lang->register_info="ÐÑÐ»Ð¸ ÑÐ²Ð»ÑÐµÑÑÑÑ Ð½Ðµ Ð·Ð°ÑÐµÐ³Ð¸ÑÑÑÐ¸ÑÐ¾Ð²Ð°Ð½Ð½ÑÐ¼ Ð¸ÑÐ¿Ð¾Ð»ÑÐ·Ð¾Ð²Ð°ÑÐµÐ»ÐµÐ¼ Ð¼Ð¾Ð¶ÐµÑÑ Ð·Ð°ÑÐµÐ³Ð¸ÑÑÑÐ¸ÑÐ¾Ð²Ð°ÑÑÑÑ.";
+$lang->register_now="ÐÐ°ÑÐµÐ³Ð¸ÑÑÑÐ¸ÑÑÐ¹ÑÑ";
+$lang->register_fill_gaps="Ð¡Ð»ÐµÐ´ÑÐµÑ Ð¾ÑÐ¾ÑÐ¼Ð¸ÑÑ ÑÑÑÐ¾ÐºÐ¸ Ð¾Ð·Ð½Ð°ÑÑÐ½Ð½ÑÐµ Ð¶Ð¸ÑÐ½ÑÐ¼ ÑÑÐ¸ÑÑÐ¾Ð¼";
+$lang->register_nip_desc="ÐÑÐ»Ð¸ ÑÐ¾ÑÐµÑÑ Ð¿Ð¾Ð»ÑÑÐ¸ÑÑ <br>ÑÐ°ÐºÑÑÑÑ ÐÐÐ¡";
+$lang->register_cor_desc=" ÐÑÐ¶ÐµÑÐºÐ°Ð·Ð°Ð½Ð½ÑÐ¹ Ð°Ð´ÑÐµÑ ÑÐ²Ð»ÑÐµÑÑÑ <BR>Ð°Ð´ÑÐµÑÐ¾Ð¼ Ð¾ÑÐ¿ÑÐ°Ð²Ð»ÐµÐ½Ð¸Ñ?";
+$lang->register_news_desc="ÐÐµÐ»Ð°ÐµÑÐµ Ð¿Ð¾Ð»ÑÑÐ°ÑÑ Ð¸Ð½ÑÐ¾ÑÐ¼Ð°ÑÐ¸Ñ Ð¾Ñ Ð¼Ð°Ð³Ð°Ð·Ð¸Ð½Ð°?";
+$lang->register_newsletter="Ð¥Ð¾ÑÐµÑÑ Ð¿Ð¾Ð»ÑÑÐ¸ÑÑ Ð¸Ð½ÑÐ¾ÑÐ¼Ð°ÑÐ¸Ñ o promocjach<BR> Ð¸ Ð½Ð¾Ð²Ð¾ÑÑÑÑ Ð½Ð° ÐºÐ¾Ð½ÑÐ¾ e-mail.";
+$lang->register_bil_cor_data="ÐÐ°Ð½Ð½ÑÐµ Ð±Ð¸Ð»Ð¸Ð½Ð³Ð¾Ð²ÑÐµ Ð¸ Ð°Ð´ÑÐµÑ ÐºÐ¾ÑÑÐµÑÐ¿Ð¾Ð½Ð´ÐµÐ½ÑÐ¸Ð¸";
+$lang->register_bil_data="ÐÐ°Ð½Ð½ÑÐµ Ð±Ð¸Ð»Ð¸Ð½Ð³Ð¾Ð²ÑÐµ";
+$lang->register_cor_address="AÐ´ÑÐµÑ Ð¾ÑÐ¿ÑÐ°Ð²Ð¸ÑÐµÐ»Ñ";
+$lang->register_post_payment="ÐÑÐ¿ÑÐ°Ð²Ñ Ð·Ð°ÐºÐ°Ð· ÑÐµÑÐµÐ· Ð¿Ð¾ÑÑÑ";
+$lang->register_paypal_payment="ÐÐ»Ð°ÑÐ¸ÑÑ ÑÐµÑÐµÐ· PayPal";
+$lang->register_paypal_info="ÐÐ°Ð¶Ð°Ð² Ð½Ð° ÐºÐ½Ð¾Ð¿ÐºÑ ÐÑ Ð¿Ð¾Ð¿Ð°Ð´ÐµÑÐµ Ð² Ð¿Ð»Ð°ÑÐµÐ¶Ð½ÑÑ ÑÐ¸ÑÑÐµÐ¼Ñ PayPal";
+$lang->register_paypal_order="ÐÐ»Ð°ÑÐ¸ÑÑ ÑÐµÑÐµÐ· PayPal";
+$lang->register_ecard_payment="ÐÐ»Ð°ÑÑÐ¶Ð½ÑÐ¹ ÑÐ¸ÑÑÐµÐ¼ ÐºÐ°ÑÑ- eCard";
+$lang->register_polcard_payment="ÐÐ»Ð°ÑÑÐ¶Ð½ÑÐ¹ ÑÐ¸ÑÑÐµÐ¼ - PolCard";
+$lang->register_polcard_cards="ÐÑÐ¸Ð½Ð¸Ð¼Ð°ÑÑÑÑ ÐºÐ°ÑÑÐ¾ÑÐºÐ¸: VISA, MasterCard, PolCard, JCB, Diners Club, Styl";
+$lang->register_citi_payment="ÐÐ»Ð°ÑÑÐ¶Ð½ÑÐ¹ ÑÐ¸ÑÑÐµÐ¼ - CitiConnect";
+$lang->register_payu_payment="ÐÐ»Ð°ÑÑ Ð² ÑÐ¸ÑÑÐµÐ¼Ðµ PayU";
+$lang->register_transfer_payment="ÐÐ¿Ð»Ð°ÑÐ¸ÑÑ Ð¿ÐµÑÐµÐ²Ð¾Ð´Ð¾Ð¼";
+$lang->register_post_order="ÐÐ°ÐºÐ°Ð¶Ð¸ Ð½Ð°Ð»Ð¾Ð¶ÐµÐ½Ð½ÑÐ¼ Ð¿Ð»Ð°ÑÐµÐ¶Ð¾Ð¼";
+$lang->register_ecard_order="Ð¿Ð»Ð°ÑÑ ÐºÐ°ÑÑÐ¾Ð¹Â± - eCard";
+$lang->register_polcard_order="Ð¿Ð»Ð°ÑÑ ÐºÐ°ÑÑÐ¾Ð¹Â± - PolCard";
+$lang->register_citi_order="Ð¿Ð»Ð°ÑÑ ÐºÐ°ÑÑÐ¾Ð¹Â± - CitiConnect";
+$lang->register_payu_order="Ð¿Ð»Ð°ÑÑ ÑÐµÑÐµÐ· ÑÐ¸ÑÑÐµÐ¼ PayU";
+$lang->register_transfer_order="ÐÐ¿Ð»Ð°ÑÐ¸ÑÑ Ð¿ÐµÑÐµÐ²Ð¾Ð´Ð¾Ð¼";
+$lang->users_login_name="ÐÑÐ¾Ð´";
+$lang->users_login_email="ÐÐ¾Ð³Ð¸Ð½ Ð¸Ð»Ð¸ e-mail";
+$lang->users_password="ÐÐ°ÑÐ¾Ð»Ñ";
+$lang->users_login="ÐÐ°ÑÐµÐ³Ð¸ÑÑÑÐ¸ÑÐ²Ð°Ð½";
+$lang->users_logout="ÐÑÑÐ¾Ð´";
+$lang->users_change_personal_data="Ð¸Ð·Ð¼ÐµÐ½Ð¸ ÑÐ²Ð¾Ð¸ Ð´Ð°Ð½Ð½ÑÐµ";
+$lang->users_your_points="Ð¢Ð²Ð¾Ðµ Ð°ÐºÑÑÐ°Ð»ÑÐ½Ð¾Ðµ ÐºÐ¾Ð»Ð»Ð¸ÑÐµÑÑÐ²Ð¾ Ð±Ð°Ð»Ð»Ð¾Ð²";
+$lang->users_register_desc="ÐÑÐ»Ð¸ ÑÐ²Ð»ÑÐµÑÑÑÑ Ð½Ð¾Ð²ÑÐ¼ ÐºÐ»Ð¸ÐµÐ½ÑÐ¾Ð¼ Ð¼Ð¾Ð¶ÐµÑÑ Ð·Ð°ÑÐµÐ³Ð¸ÑÑÑÐ¸ÑÐ¾Ð²Ð°ÑÑÑÑ";
+$lang->users_register="ÐÐ°ÑÐµÐ³Ð¸ÑÑÑÐ¸ÑÑÐ¹ÑÑ";
+$lang->users_sales="Ð¢Ð¾ÑÐ³Ð¾Ð²ÐµÑ";
+$lang->users_order_register_desc="ÐÑÐ»Ð¸ Ð² Ð´Ð°Ð½Ð½Ð¾Ðµ Ð²ÑÐµÐ¼Ñ ÑÐ¾ÑÐµÑÑ ÑÐµÐ°Ð»Ð¸Ð·Ð¸ÑÐ¾Ð²Ð°ÑÑ ÑÐ²Ð¾Ð¹ Ð·Ð°ÐºÐ°Ð·, ÑÐ¾ Ð½Ð°Ð¶Ð¼Ð¸ Ð½Ð¸Ð¶ÐµÑÐ»ÐµÐ´ÑÑÑÐ¸Ð¹ .";
+$lang->users_take_order="Ð ÐµÐ°Ð»Ð¸Ð·Ð¸ÑÑÐ¹ Ð·Ð°ÐºÐ°Ð·";
+$lang->users_bar_auth="ÐÐ²ÑÐ¾ÑÐ¸Ð·Ð°ÑÐ¸Ñ";
+$lang->users_login_error="ÐÐµÐ·ÑÑÐ¿ÐµÑÐ½Ð°Ñ Ð°Ð²ÑÐ¾ÑÐ¸Ð·Ð°ÑÐ¸Ñ!";
+$lang->users_login_error_advice="ÐÐ¾Ð¿ÑÐ¾Ð±ÑÐ¹ ÐµÑÑ ÑÐ°Ð· Ð²Ð¾Ð¹ÑÐ¸";
+$lang->users_user="UÐÐ¾Ð»ÑÐ·Ð¾Ð²Ð°ÑÐµÐ»Ñ ";
+$lang->users_loginok_desc=" Ð£ÑÐ¿ÐµÑÐ½ÑÐ¹ Ð»Ð¾Ð³Ð¸Ð½ :)";
+$lang->users_change_data="ÐÑÐ±ÐµÑÐ°Ð¹ Ð´Ð°Ð½Ð½ÑÐµ";
+$lang->users_points="ÐÑÐºÐ¸";
+$lang->users_trans="Ð¢ÑÐ°Ð½ÑÐ°ÐºÑÐ¸Ð¸";
+$lang->users_trans_history="ÐÑÑÐ¾ÑÐ¸Ñ ÑÑÐ°Ð½ÑÐ°ÐºÑÐ¸Ð¸";
+$lang->users_password_confirm="ÐÐ¾Ð²ÑÐ¾ÑÐ¸ Ð¿Ð°ÑÐ¾Ð»Ñ";
+$lang->users_continue="ÐÐ°Ð»ÑÑÐµ";
+$lang->users_already_registered="ÐÑÐ»Ð¸ ÑÐ²Ð»ÑÐµÑÑÑÑ Ð·Ð°ÑÐµÐ³Ð¸ÑÑÑÐ¸ÑÐ¾Ð²Ð°Ð½Ð½ÑÐ¼ ÐºÐ»Ð¸ÐµÐ½ÑÐ¾Ð¼, ÑÐ¾";
+$lang->users_logout_action="ÐÑÑÐ¾Ð´";
+$lang->users_registered="Ð¢Ð²Ð¾Ð¸ Ð´Ð°Ð½Ð½ÑÐµ Ð·Ð°ÑÐµÐ³Ð¸ÑÑÑÐ¸ÑÐ¾Ð²Ð°Ð½Ð½Ñ";
+$lang->login_ok="ÐÐ°ÑÐµÐ³Ð¸ÑÑÑÐ¸ÑÐ¾Ð²Ð°Ð½";
+$lang->users_address_book="ÐÐ´ÑÐµÑÐ½Ð°Ñ ÐºÐ½Ð¸Ð³Ð°";
+$lang->users_reminder="Terminarz";
+$lang->basket_delivery_name_unknown="ÐÐµÐ¾Ð¿ÑÐµÐ´ÐµÐ»ÑÐ½Ð½ÑÐ¹";
+$lang->basket_delivery_country="Ð¡ÑÑÐ°Ð½Ð° Ð¿Ð¾ÑÑÐ°Ð²ÐºÐ¸";
+$lang->basket_delivery_cost="Ð¡ÑÐ¾Ð¸Ð¼Ð¾ÑÑÑ Ð´Ð¾ÑÑÐ°Ð²ÐºÐ¸";
+$lang->basket_photo_description="<B>Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸Ðµ Ð·Ð°ÐºÐ°Ð·ÑÐ²Ð°ÐµÐ¼Ð¾Ð³Ð¾ Ð¿ÑÐ¾Ð´ÑÐºÑÐ° (Ð²Ð½Ð¸Ð¼Ð°Ð½Ð¸Ðµ):</b>";
+$lang->basket_upload="ÐÑÐ¸Ð»Ð¾Ð¶Ð¸ ÑÐ°Ð¹Ð»";
+$lang->basket_upload_file_exists="ÐÑÐ¸Ð»Ð¾Ð¶ÐµÐ½Ð½ÑÐ¹ ÑÐ°Ð¹Ð» ÑÐ¶Ðµ ÑÑÑÐµÑÑÐ²ÑÐµÑ, Ð¸Ð·Ð¼ÐµÐ½Ð¸ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ ÑÐ°Ð¹Ð»Ð° ";
+$lang->basket_photo_submit="AÐºÑÑÐ°Ð»Ð¸Ð·Ð¸ÑÑÐ¹ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ/Ð¿ÑÐ¸Ð»Ð¾Ð¶Ð¸ Ð²ÑÐµ ÑÐ°Ð¹Ð»Ñ";
+$lang->basket_total_order_amount="ÐÐ±ÑÐ°Ñ ÑÑÐ¾Ð¸Ð¼Ð¾ÑÑÑ Ð´Ð¾ Ð·Ð°Ð¿Ð»Ð°ÑÑ";
+$lang->basket_bar_title="Ð¡Ð¾Ð´ÐµÑÐ¶Ð¸Ð¼Ð¾Ðµ ÐºÐ¾ÑÐ·Ð¸Ð½Ñ";
+$lang->basket_order_continue="ÐÑÐ¾Ð´Ð¾Ð»Ð¶Ð°Ð¹ Ð¿Ð¾ÐºÑÐ¿ÐºÐ¸";
+$lang->basket_delivery_name="ÐÐ¾ÑÑÐ°Ð²ÑÐ¸Ðº";
+$lang->basket_order_amount_name="Kwota do zapÅaty";
+$lang->basket_txt_title="Ð¡Ð¾Ð´ÐµÑÐ¶Ð¸Ð¼Ð¾Ðµ ÐºÐ¾ÑÐ·Ð¸Ð½Ñ";
+$lang->basket_amount_name="Ð¡ÑÐ¾Ð¸Ð¼Ð¾ÑÑÑ Ð¿Ð¾ÐºÑÐ¿ÐºÐ¸";
+$lang->basket_elements=array(
+                'name'=>"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ",
+                'user_id'=>"ID",
+                'num'=>"ÐºÐ¾Ð»Ð¸ÑÐµÑÑÐ²Ð¾",
+                'price_netto'=>"ÑÐµÐ½Ð° Ð½ÐµÑÑÐ¾",
+                'price_brutto'=>"ÑÐµÐ½Ð° Ð±ÑÑÑÑÐ¾",
+                'vat'=>"ÐÐÐ¡",
+                'sum_brutto'=>"ÑÑÐ¼Ð¼Ð° Ð±ÑÑÑÑÐ¾",
+                'name_unavailable'=>"ÐÑÐ¾Ð²ÐµÑÐ¸ÑÑ Ð´Ð¾ÑÑÑÐ¿Ð½Ð¾ÑÑÑ Ð¿ÑÐ¾Ð´ÑÐºÑÐ°",
+                'points_value'=>"Ð¾ÑÐºÐ¾Ð²",
+                );
+$lang->order_points_update="ÐÐ°ÐºÑÐ¿ÐºÐ° Ð·Ð° Ð¾ÑÐºÐ¸";
+$lang->basket_attach_images_order="ÐÑÐ¸Ð»Ð¾Ð¶Ð¸ ÑÐ¾ÑÐ¾Ð³ÑÐ°ÑÐ¸Ñ Ðº Ð·Ð°ÐºÐ°Ð·Ñ";
+$lang->basket_attach_file_desc1="ÐÑÐ»Ð¸ ÑÐ¾ÑÐµÑÑ Ð¿ÑÐ¸Ð»Ð¾Ð¶Ð¸ÑÑ ÑÐ¾ÑÐ¾Ð³ÑÐ°ÑÐ¸Ñ Ð´Ð°Ð½Ð½Ð¾Ð³Ð¾ Ð¿ÑÐ¾Ð´ÑÐºÑÐ°, Ð²ÑÐ±ÐµÑÐ¸ ÑÐ°Ð¹Ð» Ð¸ Ð½Ð°Ð¶Ð¼Ð¸ ÐºÐ½Ð¾Ð¿ÐºÑ";
+$lang->basket_attach_file="ÐÑÐ¸Ð»Ð¾Ð¶Ð¸ ÑÐ°Ð¹Ð»";
+$lang->basket_attach_file_desc2="ÐÐ¾Ð³Ð´Ð° Ð´Ð»Ñ Ð½ÐµÑÐºÐ¾Ð»ÑÐºÐ¾ Ð¿ÑÐ¾Ð´ÑÐºÑÐ¾Ð² Ð¸Ð¼ÐµÑÑÑÑ ÑÐ°ÐºÐ¸Ðµ Ð¶Ðµ ÑÐ½Ð¸Ð¼ÐºÐ¸,Ð¿ÑÐ¸Ð»Ð¾Ð¶Ð¸ ÑÐ¾Ð»ÑÐºÐ¾ Ð¾Ð´Ð½Ð¾,a Ð´Ð»Ñ Ð¾ÑÑÐ°Ð»ÑÐ½ÑÑ Ð¿ÑÐ¾Ð´ÑÐºÑÐ¾Ð² Ð²ÑÐ±ÐµÑÐ¸ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ Ñ Ð»Ð¸ÑÑÐ° Ð¸ Ð½Ð°Ð¶Ð¼Ð¸";
+$lang->basket_check_attach="ÐÑÐ¾Ð²ÐµÑÑ/ÐÑÐ¸Ð»Ð¾Ð¶Ð¸ ÑÐ½Ð¸Ð¼ÐºÐ¸ Ðº Ð·Ð°ÐºÐ°Ð·Ñ";
+$lang->promotions_basket_name="Ð ÐµÐºÐ»Ð°Ð¼Ð°,Ñ ÐºÐ¾ÑÐ¾ÑÐ¾Ð¹ Ð¿Ð¾Ð»ÑÐ·ÑÐµÑÑÑÑ";
+$lang->promotions_basket_amount="Ð¡ÑÐ¾Ð¸Ð¼Ð¾ÑÑÑ Ð¿Ð¾ÐºÑÐ¿ÐµÐº Ð¿Ð¾ ÑÐºÐ¸Ð´ÐºÐµ, Ð² ÑÐµÐºÐ»Ð°Ð¼Ðµ";
+$lang->promotions_order_amount="Ð¡ÑÐ¼Ð¼Ð° Ð¾Ð¿Ð»Ð°ÑÑ Ð¿Ð¾ ÑÐºÐ¸Ð´ÐºÐµ, Ð² ÑÐµÐºÐ»Ð°Ð¼Ðµ";
+$lang->promotions_basket_discount="Ð¡ÐºÐ¸Ð´ÐºÐ°";
+$lang->promotions_mail_name="Ð ÐµÐºÐ»Ð°Ð¼Ð½Ð°Ñ Ð°ÐºÑÐ¸Ñ";
+$lang->promotions_select="ÐÐ¾ÑÑÑÐ¿Ð½Ð°Ñ ÑÐµÐºÐ»Ð°Ð¼Ð°";
+$lang->promotions_submit="ÐÑÐ¿Ð¾Ð»ÑÐ·ÑÐ¹ ÑÐµÐºÐ»Ð°Ð¼Ñ";
+$lang->promotions_go2basket="Ð ÐµÐ°Ð»Ð¸Ð·Ð¸ÑÑÐ¹ Ð·Ð°ÐºÐ°Ð·";
+$lang->promotions_code="ÐÐ¿Ð¸ÑÐ¸ ÐºÐ¾Ð´ ...";
+$lang->promotions_title="Ð ÐµÐºÐ»Ð°Ð¼Ð°";
+$lang->promotions_all="ÐÐ¾ÑÐ¼Ð¾ÑÑÐ¸ Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸Ðµ ÑÐµÐºÐ»Ð°Ð¼Ñ";
+$lang->choose="ÐÑÐ±ÐµÑÐ¸";
+$lang->short_list="Ð¡Ð¾ÐºÑÐ°ÑÑÐ½ÑÐ¹ Ð»Ð¸ÑÑ";
+$lang->full_list="ÐÐ¾Ð»Ð½Ð°Ñ ÑÑÐ°Ð½Ð¸ÑÐ° Ñ ÑÐ¾ÑÐ¾Ð³ÑÐ°ÑÐ¸ÑÐ¼Ð¸";
+$lang->producers="ÐÑÐ¾Ð¸Ð·Ð²Ð¾Ð´Ð¸ÑÐµÐ»Ð¸";
+$lang->sort="Ð¡Ð¾ÑÑÐ¸ÑÐ¾Ð²ÐºÐ°";
+$lang->all="ÐÑÐµ";
+$lang->trans_desc="ÐÐ°Ð¶Ð¼Ð¸ Ð² id ÑÑÐ°Ð½ÑÐ°ÐºÑÐ¸Ð¸ Ð¿Ð¾Ð»ÑÑÐ¸ÑÑ Ð¿Ð¾Ð´ÑÐ¾Ð±Ð½ÑÑ Ð¸Ð½ÑÐ¾ÑÐ¼Ð°ÑÐ¸Ñ!";
+$lang->trans_id="Id ÑÑÐ°Ð½ÑÐ°ÐºÑÐ¸Ð¸";
+$lang->trans_date="ÐÐ°ÑÐ° ÑÑÐ°Ð½ÑÐ°ÐºÑÐ¸Ð¸";
+$lang->trans_amount="Ð¡ÑÐ¼Ð¼Ð°";
+$lang->trans_stat="Ð¡ÑÐ°ÑÑÑ";
+$lang->trans_pay_conf="Ð¡ÑÐ°ÑÑÑ";
+$lang->trans_payment="ÐÐ¿Ð»Ð°ÑÐ°";
+$lang->trans_ask4trans="ÐÐ±ÑÐ°ÑÐ¸ÑÑ Ðº Ð¿ÑÐ¾Ð´Ð°Ð²ÑÑ";
+$lang->basket_th_product_name="ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ Ð¿ÑÐ¾Ð´ÑÐºÑÐ°";
+$lang->basket_th_netto="ÐÐµÑÑÐ¾";
+$lang->basket_th_vat="ÐÐÐ¡";
+$lang->basket_th_brutto="ÐÑÑÑÑÐ¾";
+$lang->basket_th_count="ÐÑÑÑÑÐ¾";
+$lang->basket_th_sum="Ð¡ÑÐ¼Ð¼Ð°";
+$lang->basket_th_delete="Ð£ÑÑÑÐ°Ð½Ð¸";
+$lang->basket_th_points="Ð¾ÑÐºÐ¸";
+$lang->yes="Ð¢Ð°Ðº";
+$lang->no="ÐÐµÑ";
+$lang->delete="Ð£ÑÑÑÐ°Ð½Ð¸";
+$lang->basket_title="ZÐ¡Ð¾Ð´ÐµÑÐ¶Ð¸Ð¼Ð¾Ðµ ÐºÐ¾ÑÐ·Ð¸Ð½Ñ";
+$lang->bar_title=array(
+                'promotion'=>"Ð ÐµÐºÐ»Ð°Ð¼Ð°",
+                'newcol'=>"ÐÐ¾Ð²Ð¾ÑÑÐ¸",
+                'bestseller'=>"Bestseller",
+                'main_page'=>"ÐÑÐ¸Ð³Ð»Ð°ÑÐ°ÐµÐ¼ Ð·Ð° Ð¿Ð¾ÐºÑÐ¿ÐºÐ°Ð¼Ð¸",
+                'users'=>"ÐÑÐ¾Ð´, ÑÐµÐ³Ð¸ÑÑÑÐ°ÑÐ¸Ñ",
+                'register_confirm'=>"ÐÑÐ¾Ð²ÐµÑÐ¸ÑÑ Ð²Ð²ÐµÐ´ÐµÐ½Ð½Ð¾Ðµ, Ð²ÑÐ±ÑÐ°ÑÑ ÑÐ¿Ð¾ÑÐ¾Ð± Ð¾Ð¿Ð»Ð°ÑÑ",
+                'register_cor'=>"ÐÐ´ÑÐµÑ Ð¾ÑÐ¿ÑÐ°Ð²Ð»ÐµÐ½Ð¸Ñ",
+                'register_billing'=>"Ð´Ð°Ð½Ð½ÑÐµ Ð±Ð¸Ð»Ð¸Ð½Ð³Ð¾Ð²ÑÐµ",
+                'search'=>"ÑÐµÐ·ÑÐ»ÑÑÐ°Ñ Ð¿Ð¾Ð¸ÑÐºÐ° Ð´Ð»Ñ",
+                'polcard'=>"ÐÐ»Ð°ÑÑÐ¶Ð½Ð°Ñ ÑÐ¸ÑÑÐµÐ¼Ð° ÐºÐ°ÑÑ - <a href=http:// www.polcard.com.pl target=polcard>PolCard</a>",
+                'ecard'=>"PÅatnoÅÄ kartÄ kredytowÄ - system <a href=http:// www.ecard.pl target=ecard>eCard</a>",
+                'newsletter'=>"Newsletter",
+                'firm'=>"ÐÐ²ÑÐ¾ÑÐ¸Ð·Ð°ÑÐ¸Ñ Ð´Ð»Ñ Ð¾Ð¿ÑÐ¾Ð²ÑÑ Ð¿Ð¾ÐºÑÐ¿Ð°ÑÐµÐ»ÐµÐ¹",
+                'themes'=>"ÐÑÐ±ÐµÑÐ¸ Ð¼Ð°Ð³Ð°Ð·Ð¸Ð½",
+                'account'=>"ÐÐ¾Ñ ÐºÐ¾Ð½ÑÐ¾",
+                'trans'=>"ÐÐ¾Ð¼ÐµÑ ÑÑÐ°Ð½ÑÐ°ÐºÑÐ¸Ð¸",
+                'trans_products'=>"ZÐÑÐµÐ´Ð¼ÐµÑ ÑÐ´ÐµÐ»ÐºÐ¸ Ð½Ð¾Ð¼ÐµÑ :",
+                'info'=>"ÐÐ¾Ð±Ð°Ð²Ð¾ÑÐ½ÑÐµ",
+                'address_book'=>"ÐÐ´ÑÐµÑÐ½Ð°Ñ ÐºÐ½Ð¸Ð³Ð°",
+                'reminder'=>"ÐÐ°Ð»ÐµÐ½Ð´Ð°ÑÐ½Ð¾Ðµ ÑÐ°ÑÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ",
+                'contact'=>"ÐÐ¾Ð½ÑÐ°ÐºÑ",
+                'about_shop'=>"O Ð¼Ð°Ð³Ð°Ð·Ð¸Ð½Ðµ",
+                'help'=>"ÐÐ¾Ð¼Ð¾ÑÑ",
+                'about_company'=>"O ÑÐ¸ÑÐ¼Ðµ",
+                'terms'=>"Ð ÐµÐ³Ð»Ð°Ð¼ÐµÐ½Ñ",
+                'points'=>"ÐÐ¾Ð¸ Ð¾ÑÐºÐ¸",
+                );
+$lang->register_billing_form_errors=array(
+                'name'=>"Ð¾ÑÑÑÑÑÑÐ²Ð¸Ðµ Ð¸Ð¼ÐµÐ½Ð¸",
+                'surname'=>"Ð¾ÑÑÑÑÑÑÐ²Ð¸Ðµ ÑÐ°Ð¼Ð¸Ð»Ð¸Ð¸",
+                'street'=>"Ð¾ÑÑÑÑÑÑÐ²Ð¸Ðµ ÑÐ»Ð¸ÑÑ",
+                'street_n1'=>"Ð¾ÑÑÑÑÑÑÐ²Ð¸Ðµ Ð½Ð¾Ð¼ÐµÑÐ° Ð´Ð¾Ð¼Ð°",
+                'postcode'=>"Ð¾ÑÑÑÑÑÑÐ²Ð¸Ðµ Ð¸Ð½Ð´ÐµÐºÑÐ°",
+                'city'=>"Ð¾ÑÑÑÑÑÑÐ²Ð¸Ðµ Ð¼ÐµÑÑÐ°",
+                'phone'=>"Ð¾ÑÑÑÑÑÑÐ²Ð¸Ðµ ÑÐµÐ»ÐµÑÐ¾Ð½Ð°",
+                'email'=>"Ð½ÐµÐ¿ÑÐ°Ð²Ð¸Ð»ÑÐ½ÑÐ¹ Ð°Ð´ÑÐµÑ email/ Ð¸Ð»Ð¸ Ð°Ð´ÑÐµÑ ÑÐ¶Ðµ ÑÑÑÐµÑÑÐ²ÑÐµÑ Ð² Ð±Ð°Ð·Ðµ",
+                );
+$lang->register_cor_form_errors=array(
+                'name'=>"Ð¾ÑÑÑÑÑÑÐ²Ð¸Ðµ Ð¸Ð¼ÐµÐ½Ð¸",
+                'surname'=>"Ð¾ÑÑÑÑÑÑÐ²Ð¸Ðµ ÑÐ°Ð¼Ð¸Ð»Ð¸Ð¸",
+                'street'=>"Ð¾ÑÑÑÑÑÑÐ²Ð¸Ðµ ÑÐ»Ð¸ÑÑ",
+                'street_n1'=>"Ð¾ÑÑÑÑÑÑÐ²Ð¸Ðµ Ð½Ð¾Ð¼ÐµÑÐ° Ð´Ð¾Ð¼Ð°",
+                'postcode'=>"Ð¾ÑÑÑÑÑÑÐ²Ð¸Ðµ Ð¸Ð½Ð´ÐµÐºÑÐ°",
+                'city'=>"Ð¾ÑÑÑÑÑÑÐ²Ð¸Ðµ Ð¼ÐµÑÑÐ°",
+                'email'=>"Ð½ÐµÐ¿ÑÐ°Ð²Ð¸Ð»ÑÐ½ÑÐ¹ Ð°Ð´ÑÐµÑ email",
+                );
+$lang->form_name=array(
+                'firm'=>"ÑÐ¸ÑÐ¼Ð°",
+                'name'=>"Ð¸Ð¼Ñ",
+                'surname'=>"ÑÐ°Ð¼Ð¸Ð»Ð¸Ñ",
+                'street'=>"ÑÐ»Ð¸ÑÐ°",
+                'street_n1'=>"Ð½Ñ Ð´Ð¾Ð¼Ð°",
+                'street_n2'=>"Ð½Ñ ÐºÐ²Ð°ÑÑÐ¸ÑÑ",
+                'postcode'=>"Ð¸Ð½Ð´ÐµÐºÑ",
+                'city'=>"Ð³Ð¾ÑÐ¾Ð´",
+                'phone'=>"ÑÐµÐ»ÐµÑÐ¾Ð½",
+                'email'=>"e-mail",
+                'country'=>"ÑÑÑÐ°Ð½Ð°",
+                'nip'=>"NIP",
+                'description'=>"uwagi",
+                );
+$lang->select_country="ÐÑÐ±ÐµÑÐ¸ ÑÑÑÐ°Ð½Ñ Ð¿Ð¾ÑÑÐ°Ð²ÐºÐ¸";
+$lang->form_title_addr="ÐÐ°Ð½Ð½ÑÐµ Ð±Ð¸Ð»Ð¸Ð½Ð³Ð¾Ð²ÑÐµ";
+$lang->form_title_addr_cor="ÐÐ´ÑÐµÑ ÐºÐ¾ÑÑÐµÑÐ¿Ð¾Ð½Ð´ÐµÐ½ÑÐ¸Ð¸";
+$lang->form_title_one_addr="AÐ´ÑÐµÑ ÐºÐ¾ÑÑÐµÑÐ¿Ð¾Ð½Ð´ÐµÐ½ÑÐ¸Ð¸ ÑÐ°ÐºÐ¾Ð¹ Ð¶Ðµ ÐºÐ°Ðº Ð¸ Ð±Ð¸Ð»Ð¸Ð½Ð³Ð¾Ð²ÑÐ¹";
+$lang->basket_empty="ÐÐ¾ÑÐ·Ð¸Ð½Ð° Ð¿ÑÑÑÐ°Ñ";
+$lang->order_continue="ÐÑÐ¾Ð´Ð»Ð¶Ð°Ð¹ Ð¿Ð¾ÐºÑÐ¿ÐºÐ¸";
+$lang->order_subject="ÐÐ°ÐºÐ°Ð· Ñ Ð¼Ð°Ð³Ð°Ð·Ð¸Ð½Ð°";
+$lang->order_confirm_subject="ÐÐ¾Ð´ÑÐ²ÐµÑÐ¶Ð´ÐµÐ½Ð¸Ðµ Ð·Ð°ÐºÐ°Ð·Ð°";
+$lang->search_empty_query="ÐÑÐ¸Ð±ÐºÐ° Ð¿Ð¾Ð¸ÑÐºÐ°. Ð²Ð¿Ð¸ÑÐ¸ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ Ð½ÑÐ¶Ð´Ð°ÑÑÐµÐ³Ð¾ Ð¿ÑÐ¾Ð´ÑÐºÑÐ°.";
+$lang->search_empty_title="ÐÐ¾Ð¸ÑÐº";
+$lang->search_category="ÐÐ¾Ð¸ÑÐº Ð² ÐºÐ°ÑÐµÐ³Ð¾ÑÐ¸Ð¸";
+$lang->search_description="ÐÐ¾Ð¸ÑÐº Ð² Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸ÑÑ";
+$lang->search_advanced="Ð Ð°ÑÑÐ¸ÑÐµÐ½Ð½ÑÐ¹ Ð¿Ð¾Ð¸ÑÐº";
+$lang->delivery_name="ÐÐ¾ÑÑÐ°Ð²ÑÐ¸Ðº";
+$lang->delivery_name_unknown="ÐÐµÐ¾Ð¿ÑÐµÐ´ÐµÐ»ÑÐ½Ð½ÑÐ¹";
+$lang->order_amount_name="Ð¡ÑÐ¼Ð¼Ð° Ð¾Ð¿Ð»Ð°ÑÑ";
+$lang->users_new_form_errors=array(
+                'login'=>"Ð¾ÑÐ¸Ð±Ð¾ÑÐ½ÑÐ¹ Ð»Ð¾Ð³Ð¸Ð½",
+                'password'=>"Ð¾ÑÐ¸Ð±Ð¾ÑÐ½ÑÐ¹ Ð¿Ð°ÑÐ¾Ð»Ñ",
+                'password2'=>"Ð¾ÑÐ¸Ð±Ð¾ÑÐ½ÑÐ¹ Ð¿Ð¾Ð²ÑÐ¾Ñ Ð¿Ð°ÑÐ¾Ð»Ñ",
+                );
+$lang->users_log_in="ÐÐ°ÑÐµÐ³Ð¸ÑÑÑÐ¸ÑÑÐ¹ÑÑ";
+$lang->users_change_password="ÐÐ·Ð¼ÐµÐ½Ð¸ Ð¿Ð°ÑÐ¾Ð»Ñ";
+$lang->pay_method=array(
+                '1'=>"ÐÐ¾ Ð´Ð¾ÑÑÐ°Ð²Ðµ",
+                '2'=>"eCard",
+                '3'=>"PolCard",
+                '4'=>"Inteligo",
+                '5'=>"mBank",
+                '6'=>"CitiConnect",
+                '7'=>"PayU",
+                '11'=>"ÐÐµÑÐµÐ²Ð¾Ð´",
+                '20'=>"PÅatnosciPL",
+                '110'=>"ÐÐ»Ð°ÑÐµÐ¶ ÐºÐ°ÑÑÐ¾ÑÐºÐ¾Ð¹",
+                );
+$lang->pay_method_title="Ð£ÑÐ»Ð¾Ð²Ð¸Ñ Ð¾Ð¿Ð»Ð°ÑÑ";
+$lang->pay_method_status_off="ÐÐ°ÑÐ¸Ð°Ð½Ñ ÑÐµÑÑÐ¾Ð²ÑÐ¹";
+$lang->upload="ÐÑÐ¸Ð»Ð¾Ð¶Ð¸ ÑÐ°Ð¹Ð»";
+$lang->upload_photo="Ð¤Ð°Ð¹Ð» Ð¿ÑÐ¸Ð»Ð¾Ð¶ÐµÐ½";
+$lang->upload_file_exists="ÐÑÐ¸Ð»Ð¾Ð¶ÐµÐ½Ð½ÑÐ¹ ÑÐ°Ð¹Ð» ÑÐ¶Ðµ ÑÑÑÐµÑÑÐ²ÑÐµÑ, Ð¸Ð·Ð¼ÐµÐ½Ð¸ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ ÑÐ°Ð¹Ð»Ð° ";
+$lang->upload_name_info="ÐÐ¿Ð¸ÑÐ¸ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ ÑÐ°Ð¹Ð»Ð°";
+$lang->message_basket_photo_title="Ð¤Ð¾ÑÐ¾Ð³ÑÐ°ÑÐ¸Ñ Ð¿ÑÐ¾Ð´ÑÐºÑÐ¾Ð²:
+
+";
+$lang->newsletter="Newsletter";
+$lang->newsletter_list_info="Niusy";
+$lang->info_options="ÐÑÐ±ÐµÑÐ¸ Ð¾Ð¿ÑÐ¸Ñ: ";
+$lang->mp3=array(
+                'title'=>"Ð¤Ð°Ð¹Ð»Ñ Ð´Ð»Ñ ÑÐ»ÑÑÐ°Ð½Ð¸Ñ Ð² ÑÐ¾ÑÐ¼Ð°ÑÐµ MP3",
+                'ftp'=>"Ð¡ÐºÐ°ÑÐ°ÑÑ mp3 Ð¿Ð»ÐµÐµÑ",
+                );
+$lang->points_category="ÐÐ¾ÐºÑÐ¿ÐºÐ¸ Ð·Ð° Ð±Ð°Ð»Ð»Ñ";
+$lang->points_show="ÐÐ¾Ð»Ð¸ÑÐµÑÑÐ²Ð¾ Ð±Ð°Ð»Ð»Ð¾Ð²";
+$lang->available="ÐÐ¾Ð¿ÑÑÑÐ¸Ð¼Ð¾ÑÑÑ:";
+$lang->available_online=array(
+                '1'=>"Ð¿ÑÐ¾Ð´ÑÐºÑ Ð´Ð¾Ð¿ÑÑÑÐ¸Ð¼ on-line",
+                '0'=>"Ð½Ðµ Ð´Ð¾Ð¿ÑÑÑÐ¸Ð¼ÑÐ¹ on-line",
+                );
+$lang->ask4price_mail="ÐÐ¾Ð¿ÑÐ¾Ñ Ð¾ ÑÐµÐ½Ðµ Ð¿ÑÐ¾Ð´ÑÐºÑÐ°";
+$lang->ask4price="ÐÐ¾Ð¿ÑÐ¾Ñ Ð¾ ÑÐµÐ½Ðµ";
+$lang->ask4price_list="ÐÐ°Ð¿ÑÐ¾Ñ Ð¾ ÑÐµÐ½Ðµ";
+$lang->ask4price_empty_list="ÐÐµÑ Ð·Ð°Ð¿ÑÐ¾ÑÐ¾Ð² Ð¾ ÑÐµÐ½Ðµ";
+$lang->close="ÐÐ°ÐºÑÑÑÑ";
+$lang->order_by=array(
+                'name'=>"ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ",
+                'price'=>"Ð¦ÐµÐ½Ð°",
+                'producer'=>"ÐÑÐ¾Ð¸Ð·Ð²Ð¾Ð´Ð¸ÑÐµÐ»Ñ",
+                'SCORE'=>"ÐÐ¿ÑÐµÐ´ÐµÐ»ÐµÐ½Ð¸Ðµ",
+                );
+$lang->in_category="ÐÑÑÐ³Ð¸Ðµ Ð¿ÑÐ¾Ð´ÑÐºÑÑ Ñ ÑÐ¾Ð¹ ÑÐ°Ð¼Ð¾Ð¹ ÐºÐ°ÑÐµÐ³Ð¾ÑÐ¸Ð¸";
+$lang->accessories="AÑÑÐ¾ÑÑÐ¸Ð¼ÐµÐ½Ñ";
+$lang->full_description="ÐÐ¾Ð»Ð½Ð¾Ðµ Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸Ðµ";
+$lang->write_up="Ð ÐµÑÐµÐ½Ð·Ð¸Ñ Ð¿ÑÐ¾Ð´ÑÐºÑÐ°";
+$lang->order_names=array(
+                'order_id'=>"Numer transakcji",
+                'amount'=>"Ð¡ÑÐ¼Ð¼Ð° Ð¾Ð¿Ð»Ð°ÑÑ",
+                'delivery_cost'=>"ÐÐ¿Ð»Ð°ÑÐ° Ð´Ð¾ÑÑÐ°Ð²ÐºÐ¸",
+                'id_currency'=>"ÐÐ°Ð»ÑÑÐ°",
+                'id_pay_method'=>"ÐÐ»Ð°ÑÑÐ¶",
+                'date_add'=>"ÐÐ°ÑÐ° ÑÐ´ÐµÐ»ÐºÐ¸",
+                'time_add'=>"ÐÑÐµÐ¼Ñ",
+                'xml_description'=>"ÐÐ°ÐºÐ°Ð·",
+                'id_user'=>"ID Ð¿Ð¾Ð»ÑÐ·Ð¾Ð²Ð°ÑÐµÐ»Ñ ",
+                'xml_user'=>"ÐÐ°Ð½Ð½ÑÐµ Ð·Ð°ÐºÐ°Ð·ÑÐ¸ÐºÐ°",
+                'name'=>"ÐÐ°ÐºÐ°Ð·ÑÐ¸Ðº",
+                'id_delivery'=>"ÐÐ¾ÑÑÐ°Ð²ÑÐ¸Ðº",
+                'id_status'=>"Ð¡ÑÐ°ÑÑÑ",
+                'confirm'=>"ÐÐ¿Ð»Ð°ÑÐµÐ½Ð°",
+                'confirm_user'=>"ÐÐ¾Ð´ÑÐ²ÐµÑÐ¶Ð´ÐµÐ½Ð° Ð¿Ð¾ e-mail",
+                'description'=>"ÐÐ¾Ð±Ð°Ð²Ð¾ÑÐ½ÑÐµ Ð¸Ð½ÑÐ¾ÑÐ¼Ð°ÑÐ¸Ð¸",
+                'status'=>"Ð¡ÑÐ°ÑÑÑ ",
+                'checksum'=>"ÐºÐ¾Ð½ÑÑÐ¾Ð»ÑÐ½Ð°Ñ ÑÑÐ¼Ð¼Ð° ÑÐ´ÐµÐ»ÐºÐ¸",
+                'send_date'=>"Ð´Ð°ÑÐ° Ð¾ÑÐ¿ÑÐ°Ð²Ð»ÐµÐ½Ð¸Ñ Ð¿Ð¾ÑÑÐ»ÐºÐ¸",
+                'send_number'=>"Ð½Ð¾Ð¼ÐµÑ Ð¿Ð¾ÑÑÐ»ÐºÐ¸",
+                'send_confirm'=>"Ð¿Ð¾ÑÑÐ»ÐºÐ° Ð¾ÑÐ¿ÑÐ°Ð²Ð»ÐµÐ½Ð°",
+                );
+$lang->users_bar="ÐÐ¾Ð±ÑÐ¾ Ð¿Ð¾Ð¶Ð°Ð»Ð¾Ð²Ð°ÑÑ Ð² Ð¿Ð°Ð½ÐµÐ»Ð¸ Ð¿Ð¾Ð»ÑÐ·Ð¾Ð²Ð°ÑÐµÐ»Ñ !";
+$lang->order_basket=array(
+                'name'=>"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ",
+                'options'=>"Ð¾Ð¿ÑÐ¸Ð¾Ð½Ñ",
+                'user_id'=>"ID",
+                'price_netto'=>"ÑÐµÐ½Ð° Ð½ÐµÑÑÐ¾",
+                'vat'=>"ÐÐÐ¡",
+                'num'=>"ÐºÐ¾Ð»Ð¸ÑÐµÑÑÐ²Ð¾",
+                'price_brutto'=>"ÑÐµÐ½Ð° Ð±ÑÑÑÑÐ¾",
+                'sum'=>"ÑÑÐ¼Ð¼Ð°",
+                );
+$lang->send_link="Ð¡ ÑÐµÐ»Ñ Ð¿Ð¾Ð´ÑÐ²ÐµÑÐ¶Ð´ÐµÐ½Ð¸Ñ Ð·Ð°ÐºÐ°Ð·Ð° Ð½Ð°Ð¶Ð¼Ð¸ Ð½Ð¸Ð¶ÐµÑÐ»ÐµÐ´ÑÑÑÑ ÑÑÑÐ¾ÐºÑ";
+$lang->register_send_title="ÐÑÑÐ»Ð¸ Ð·Ð°ÐºÐ°Ð·";
+$lang->register_send_confirm_ok="ÐÐ»Ð°Ð³Ð¾Ð´Ð°ÑÐ¸Ð¼ Ð·Ð° Ð¿Ð¾ÐºÑÐ¿ÐºÐ¸.";
+$lang->register_send_confirm_ok_add_info="<BR><b>Ð²Ð½Ð¸Ð¼Ð°Ð½Ð¸Ðµ!</b> ÐÐ·Ð¼ÐµÐ½ÐµÐ½Ð¸Ðµ  ÑÐ¾ÑÐ¼ Ð¿ÐµÑÐµÑÐ¸ÑÐ»ÐµÐ½Ð¸Ð¹.<BR>
+
+JeÂ¶li ÐÐ´Ð½Ð°ÐºÐ¾ Ð¿Ð¾Ð¿ÑÑÐºÐ° Ð°Ð²ÑÐ¾ÑÐ¸Ð·Ð°ÑÐ¸Ð¸ ÑÐµÑÐµÐ· Ð´ÑÑÐ³Ð¾Ð¹ ÑÐ¸ÑÑÐµÐ¼ Ð¿Ð»Ð°ÑÑÐ¶Ð¾ÑÐ¿Ð¾ÑÐ¾Ð±Ð½Ð¾ÑÑÐ¸ ÑÐ´Ð°ÑÐ½Ð°, ÑÐ¾Ð²Ð°Ñ Ð¿Ð¾Ð»ÑÑÐ¸ÑÐµ Ð±ÐµÐ· Ð½Ð°Ð»Ð¾Ð¶ÐµÐ½Ð½Ð¾Ð³Ð¾ Ð¿Ð»Ð°ÑÐµÐ¶Ð°.";
+$lang->register_send_order_error="Ð ÑÐ¾Ð¶Ð°Ð»ÐµÐ½Ð¸Ñ Ð¿Ð¾Ð¿ÑÑÐºÐ° Ð·Ð°ÐºÐ°Ð·Ð° Ð½Ðµ ÑÐ´Ð°ÑÐ½Ð°. <BR>
+Ð¡ÐºÐ¾Ð½ÑÐ°ÐºÑÐ¸ÑÑÐ¹ÑÑ Ñ Ð¿ÑÐ¾Ð´Ð°Ð²ÑÐ¾Ð¼ Ð¿Ð¾Ð´ Ð°Ð´ÑÐµÑÐµÐ¼";
+$lang->send_add_info=" 
+
+Ð²Ð½Ð¸Ð¼Ð°Ð½Ð¸Ðµ! ÐÐ¾Ð»ÑÐ·Ð¾Ð²Ð°ÑÐµÐ»Ñ Ð¸Ð·Ð¼ÐµÐ½Ð¸Ð» ÑÐ¾ÑÐ¼Ñ Ð¾Ð¿Ð»Ð°ÑÑ. ÐÑÐ¾Ð²ÐµÑÑ Ð² Ð¿Ð°Ð½ÐµÐ»Ð¸ Ð°Ð´Ð¼Ð¸Ð½Ð¸ÑÑÑÐ°ÑÐ¸Ð¾Ð½Ð½ÑÐ¼ POLCARD'ÑÑÐ¾ ÑÑÐ°Ð½ÑÐ°ÐºÑÐ¸Ñ Ð¿ÑÐ¾ÑÐ»Ð° Ð°Ð²ÑÐ¾ÑÐ¸Ð·Ð°ÑÐ¸Ñ. ";
+$lang->trans_link="ÐÐ¾Ð´ÑÐ¾Ð±Ð½ÑÐµ Ð¸Ð½ÑÐ¾ÑÐ¼Ð°ÑÐ¸Ð¸ ÐºÐ°ÑÐ°ÑÑÐ¸ÐµÑÑ ÑÐ²Ð¾ÐµÐ¹ ÑÑÐ°Ð½ÑÐ°ÐºÑÐ¸Ð¸ Ð½Ð°Ð¶Ð¼Ð¸ Ð½Ð¸Ð¶ÐµÑÐ»ÐµÐ´ÑÑÑÐ¸Ð¹ Ð»Ð¸Ð½Ðº";
+$lang->main_keys_empty="ÐÐ°Ð·Ð° Ð½Ðµ Ð¸Ð¼ÐµÐµÑ ÐºÐ¾ÑÑÐµÐºÑÐ¸ÑÐ¾Ð²Ð°Ð½Ð½ÑÑ ÐºÐ¾Ð´Ð¾Ð² Ð´Ð¾ ÑÑÐ¾Ð³Ð¾ Ð¿ÑÐ¾Ð´ÑÐºÑÐ°, <br> ÑÐ¾Ð¾ÑÐ²ÐµÑÑÑÐ²ÑÑÑÐ¸Ð¹ ÐºÐ¾Ð´ Ð¿Ð¾Ð»ÑÑÐ¸ÑÑ mailem";
+$lang->main_keys_code="ÐÐ¾Ð´Ñ Ð´Ð»Ñ Ð·Ð°ÐºÐ°Ð·Ð¾Ð²";
+$lang->main_keys_cols=array(
+                'name'=>"ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ Ð¿ÑÐ¾Ð´ÑÐºÑÐ°",
+                'info'=>"ÐÐµÐ´Ð¾Ð¼Ð¾ÑÑÐ¸",
+                );
+$lang->main_keys_errors_title="ÐÐ¾Ð¿Ð¾Ð»Ð½Ð¸ÑÐµÐ»ÑÐ½ÑÐµ Ð¸Ð½ÑÐ¾ÑÐ¼Ð°ÑÐ¸Ð¸ o ÑÐµÐ°Ð»Ð¸Ð·Ð¸ÑÐ¾Ð²Ð°Ð½Ð¸Ð¸ Ð·Ð°ÐºÐ°Ð·Ð°";
+$lang->main_keys_title="ÐÐ¾Ð¿Ð¾Ð»Ð½Ð¸ÑÐµÐ»ÑÐ½ÑÐµ Ð´Ð°Ð½Ð½ÑÐµ Ð´Ð»Ñ Ð·Ð°ÐºÐ°Ð·Ð°";
+$lang->main_keys_mail=array(
+                'subject'=>"ÐÐ¾Ð¿Ð¾Ð»Ð½Ð¸ÑÐµÐ»ÑÐ½ÑÐµ Ð´Ð°Ð½Ð½ÑÐµ Ð´Ð»Ñ Ð·Ð°ÐºÐ°Ð·Ð°",
+                'title'=>"ÐÐ¸Ð¶ÐµÐ¹ Ð½Ð°ÑÐ¾Ð´ÑÑÑÑ ÐºÐ¾Ð´Ñ Ð´Ð»Ñ Ð·Ð°ÐºÐ°Ð·Ð° Ð² Ð¼Ð°Ð³Ð°Ð·Ð¸Ð½Ðµ-Ð¸Ð½ÑÐµÑÐ½ÐµÑ",
+                'user_id'=>"ID",
+                'name'=>"ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ",
+                );
+$lang->main_keys_download="ÐÑÐ±ÐµÑÐ¸ ÑÐ°Ð¹Ð»";
+$lang->main_keys_demo_title="ÐÐµÑÐ¿Ð»Ð°ÑÐ½ÑÐµ  ÑÐ°Ð¹Ð»Ñ Ð´Ð»Ñ Ð¿ÑÐ¸ÑÐ¼Ð°:";
+$lang->main_keys_download_title="ÐÑÐ¸ÑÐ¼ ÑÐ°Ð¹Ð»Ð¾Ð²";
+$lang->main_keys_download_not_found="Ð£ÐºÐ°Ð·Ð°Ð½Ð½ÑÐ¹ ÑÐ°Ð¹Ð» Ð½Ðµ ÑÑÑÐµÑÑÐ²ÑÐµÑ. Ð¡ÐºÐ¾Ð½ÑÐ°ÐºÑÐ¸ÑÑÐ¹ÑÑ Ñ Ð¿ÑÐ¾Ð´Ð°Ð²ÑÐ¾Ð¼";
+$lang->month_name=array(
+                '1'=>"Ð¯Ð½Ð²Ð°ÑÑ",
+                '2'=>"Ð¤ÐµÐ²ÑÐ°Ð»Ñ",
+                '3'=>"MÐ°ÑÑ",
+                '4'=>"ÐÐ¿ÑÐµÐ»Ñ",
+                '5'=>"MÐ°Ð¹",
+                '6'=>"ÐÑÐ½Ñ",
+                '7'=>"ÐÑÐ»Ñ",
+                '8'=>"ÐÐ²Ð³ÑÑÑ",
+                '9'=>"Ð¡ÐµÐ½ÑÑÐ±ÑÑ",
+                '10'=>"ÐÐºÑÑÐ±ÑÑ",
+                '11'=>"ÐÐ¾ÑÐ±ÑÑ",
+                '12'=>"Ð¯Ð½Ð²Ð°ÑÑ",
+                );
+$lang->currency_select="ÐÑÐ±ÐµÑÐ¸ Ð²Ð°Ð»ÑÑÑ";
+$lang->infoOnPageURI=array(
+                'name'=>"ÐÐ¾Ð»ÑÑÐµ",
+                );
+$lang->printPage=array(
+                'button'=>"ÐÐµÑÐ°ÑÐ°Ð¹",
+                'info'=>"Ð² Ð¿ÐµÑÐ°ÑÐ¸ ÑÑÐ¾ÑÐ¾Ð½Ð°",
+                );
+$lang->newsletter_add="ÐÐ¾Ð±Ð°Ð²Ñ";
+$lang->newsletter_remove="Ð£ÑÑÑÐ°Ð½Ð¸";
+$lang->wp_store_trans=array(
+                '-1'=>"Ð¡ÐµÑÐ²ÐµÑ SOAP Ð½ÐµÐ´Ð¾ÑÑÑÐ¿ÐµÐ½",
+                '0'=>"ÐÑÑ ÐÐ",
+                '1'=>"ÐÑÐ¸Ð±ÐºÐ° Ð°Ð²ÑÐ¾ÑÐ¸Ð·Ð°ÑÐ¸Ð¸",
+                '2'=>"ÐÐ¿ÐµÑÐ°ÑÐ¸Ñ Ð¿Ð¾Ð»ÑÑÐ¸Ð»Ð°ÑÑ ÑÐ°ÑÑÐ¸ÑÐ½Ð¾",
+                '3'=>"ÐÐ¿ÐµÑÐ°ÑÐ¸Ñ Ð¿Ð¾Ð»Ð½Ð¾ÑÑÑÑ Ð½Ðµ Ð¿Ð¾Ð»ÑÑÐ¸Ð»Ð°ÑÑ",
+                );
+$lang->users_forgot_password="ÐÑ Ð·Ð°Ð±ÑÐ»Ð¸ Ð¿Ð°ÑÐ¾Ð»Ñ?";
+$lang->users_click_here="Ð©ÐµÐ»ÐºÐ½ÑÑÑ Ð·Ð´ÐµÑÑ";
+$lang->country_user_def="ÐÑÐ±ÑÐ°ÑÑ ÑÑÑÐ°Ð½Ñ";
+$lang->delivery_country="ÐÑÐ±ÑÐ°ÑÑ ÑÑÑÐ°Ð½Ñ";
+$lang->basket_delivery_country="ÐÑÐ±ÑÐ°ÑÑ ÑÑÑÐ°Ð½Ñ";
+$lang->country=array(
+                'AU'=>"ÐÐ²ÑÑÑÐ°Ð»Ð¸Ñ",
+                'AT'=>"ÐÐ²ÑÑÑÐ¸Ñ",
+                'AZ'=>"ÐÐ·ÐµÑÐ±Ð°Ð¹Ð´Ð¶Ð°Ð½",
+                'AL'=>"ÐÐ»Ð±Ð°Ð½Ð¸Ñ",
+                'DZ'=>"ÐÐ»Ð¶Ð¸Ñ",
+                'AI'=>"ÐÐ½Ð³Ð¸Ð»ÑÑ",
+                'AO'=>"ÐÐ½Ð³Ð¾Ð»Ð°",
+                'AD'=>"ÐÐ½Ð´Ð¾ÑÑÐ°",
+                'AQ'=>"ÐÐ½ÑÐ°ÑÐºÑÐ¸ÐºÐ°",
+                'AG'=>"ÐÐ½ÑÐ¸Ð³ÑÐ°.Ð±Ð°ÑÐ±",
+                'AN'=>"ÐÐ½ÑÐ¸Ð»ÑÑÐºÐ¸Ðµ Ð¾-Ð²Ð°",
+                'MO'=>"ÐÐ¾Ð¼ÑÐ½Ñ (ÐÐ°ÐºÐ°Ð¾)",
+                'AR'=>"ÐÑÐ³ÐµÐ½ÑÐ¸Ð½Ð°",
+                'AM'=>"ÐÑÐ¼ÐµÐ½Ð¸Ñ",
+                'AW'=>"ÐÑÑÐ±Ð°",
+                'AF'=>"ÐÑÐ³Ð°Ð½Ð¸ÑÑÐ°Ð½",
+                'BS'=>"ÐÐ°Ð³Ð°Ð¼ÑÐºÐ¸Ðµ Ð¾-Ð²Ð°",
+                'BD'=>"ÐÐ°Ð½Ð³Ð»Ð°Ð´ÐµÑ",
+                'BB'=>"ÐÐ°ÑÐ±Ð°Ð´Ð¾Ñ",
+                'BH'=>"ÐÐ°ÑÑÐµÐ¹Ð½",
+                'BZ'=>"ÐÐµÐ»Ð¸Ð·",
+                'BY'=>"ÐÐµÐ»Ð°ÑÑÑÑ",
+                'BE'=>"ÐÐµÐ»ÑÐ³Ð¸Ñ",
+                'BJ'=>"ÐÐµÐ½Ð¸Ð½",
+                'BM'=>"ÐÐµÑÐ¼ÑÐ´ÑÐºÐ¸Ðµ Ð¾-Ð²Ð°",
+                'BA'=>"ÐÐ¾ÑÐ½Ð¸Ñ Ð¸ ÐÐµÑÑÐµÐ³Ð¾Ð²Ð¸Ð½Ð°",
+                'BG'=>"ÐÐ¾Ð»Ð³Ð°ÑÐ¸Ñ",
+                'BO'=>"ÐÐ¾Ð»Ð¸Ð²Ð¸Ñ",
+                'BW'=>"ÐÐ¾ÑÑÐ²Ð°Ð½Ð°",
+                'BR'=>"ÐÑÐ°Ð·Ð¸Ð»Ð¸Ñ",
+                'IO'=>"ÐÑÐ¸Ñ. ÑÐµÑ. Ð² ÐÐ½Ð´. ÐÐ.",
+                'BN'=>"ÐÑÑÐ½ÐµÐ¹",
+                'BV'=>"ÐÑÐ²Ðµ",
+                'BF'=>"ÐÑÑÐºÐ¸Ð½Ð°-Ð¤Ð°ÑÐ¾",
+                'BI'=>"ÐÑÑÑÐ½Ð´Ð¸",
+                'BT'=>"ÐÑÑÐ°Ð½",
+                'VU'=>"ÐÐ°Ð½ÑÐ°ÑÑ",
+                'VA'=>"ÐÐ°ÑÐ¸ÐºÐ°Ð½",
+                'GB'=>"ÐÐµÐ»Ð¸ÐºÐ¾Ð±ÑÐ¸ÑÐ°Ð½Ð¸Ñ",
+                'HU'=>"ÐÐµÐ½Ð³ÑÐ¸Ñ",
+                'VE'=>"ÐÐµÐ½ÐµÑÑÑÐ»Ð°",
+                'VI'=>"ÐÐ¸ÑÐ³Ð¸Ð½. Ð¾-Ð²Ð° (Ð¡Ð¨Ð)",
+                'VG'=>"ÐÐ¸ÑÐ³Ð¸Ð½. Ð¾-Ð²Ð° (ÐÐ ÐÐ¢.)",
+                'AS'=>"ÐÐ¾ÑÑ. Ð¡Ð°Ð¼Ð¾Ð°. (Ð¡Ð¨Ð)",
+                'TP'=>"ÐÐ¾ÑÑÐ¾ÑÐ½ÑÐ¹ Ð¢Ð¸Ð¼Ð¾Ñ",
+                'VN'=>"ÐÑÐµÑÐ½Ð°Ð¼",
+                'GA'=>"ÐÐ°Ð±Ð¾Ð½",
+                'HT'=>"ÐÐ°Ð¸ÑÐ¸",
+                'GY'=>"ÐÐ°Ð¹Ð°Ð½Ð°",
+                'GM'=>"ÐÐ°Ð¼Ð±Ð¸Ñ",
+                'GH'=>"ÐÐ°Ð½Ð°",
+                'GP'=>"ÐÐ²Ð°Ð´ÐµÐ»ÑÐ¿Ð°",
+                'GT'=>"ÐÐ²Ð°ÑÐµÐ¼Ð°Ð»Ð°",
+                'GF'=>"ÐÐ²Ð¸Ð°Ð½Ð°",
+                'GN'=>"ÐÐ²Ð¸Ð½ÐµÑ",
+                'GW'=>"ÐÐ²Ð¸Ð½ÐµÑ-Ð±Ð¸ÑÐ°Ñ",
+                'DE'=>"ÐÐµÑÐ¼Ð°Ð½Ð¸Ñ",
+                'GI'=>"ÐÐ¸Ð±ÑÐ°Ð»ÑÐ°Ñ",
+                'HN'=>"ÐÐ¾Ð½Ð´ÑÑÐ°Ñ",
+                'GD'=>"ÐÑÐµÐ½Ð°Ð´Ð°",
+                'GL'=>"ÐÑÐµÐ½Ð»Ð°Ð½Ð´Ð¸Ñ",
+                'GR'=>"ÐÑÐµÑÐ¸Ñ",
+                'GE'=>"ÐÑÑÐ·Ð¸Ñ",
+                'GU'=>"ÐÑÐ°Ð¼",
+                'DK'=>"ÐÐ°Ð½Ð¸Ñ",
+                'DJ'=>"ÐÐ¶Ð¸Ð±ÑÑÐ¸",
+                'DM'=>"ÐÐ¾Ð¼Ð¸Ð½Ð¸ÐºÐ°",
+                'DO'=>"ÐÐ¾Ð¼Ð¸Ð½Ð¸ÐºÐ°Ð½ÑÐº. Ð ÐµÑÐ¿.",
+                'EG'=>"ÐÐ³Ð¸Ð¿ÐµÑ",
+                'ZR'=>"ÐÐ°Ð¸Ñ",
+                'ZM'=>"ÐÐ°Ð¼Ð±Ð¸Ñ",
+                'WS'=>"ÐÐ°Ð¿Ð°Ð´Ð½Ð¾Ðµ Ð¡Ð°Ð¼Ð¾Ð°",
+                'ZW'=>"ÐÐ¸Ð¼Ð±Ð°Ð±Ð²Ðµ",
+                'IL'=>"ÐÐ·ÑÐ°Ð¸Ð»Ñ",
+                'IN'=>"ÐÐ½Ð´Ð¸Ñ",
+                'ID'=>"ÐÐ½Ð´Ð¾Ð½ÐµÐ·Ð¸Ñ",
+                'JO'=>"ÐÐ¾ÑÐ´Ð°Ð½Ð¸Ñ",
+                'IQ'=>"ÐÑÐ°Ðº",
+                'IR'=>"ÐÑÐ°Ð½",
+                'IE'=>"ÐÑÐ»Ð°Ð½Ð´Ð¸Ñ",
+                'IS'=>"ÐÑÐ»Ð°Ð½Ð´Ð¸Ñ",
+                'ES'=>"ÐÑÐ¿Ð°Ð½Ð¸Ñ",
+                'IT'=>"ÐÑÐ°Ð»Ð¸Ñ",
+                'YE'=>"ÐÐµÐ¼ÐµÐ½",
+                'CV'=>"ÐÐ°Ð±Ð¾-ÐÐµÑÐ´Ðµ",
+                'KZ'=>"ÐÐ°Ð·Ð°ÑÑÑÐ°Ð½",
+                'KY'=>"ÐÐ°Ð¹Ð¼Ð°Ð½",
+                'KH'=>"ÐÐ°Ð¼Ð±Ð¾Ð´Ð¶Ð°",
+                'CM'=>"ÐÐ°Ð¼ÐµÑÑÐ½",
+                'CA'=>"ÐÐ°Ð½Ð°Ð´Ð°",
+                'QA'=>"ÐÐ°ÑÐ°Ñ",
+                'KE'=>"ÐÐµÐ½Ð¸Ñ",
+                'CY'=>"ÐÐ¸Ð¿Ñ",
+                'KI'=>"ÐÐ¸ÑÐ¸Ð±Ð°ÑÐ¸",
+                'CN'=>"ÐÐ¸ÑÐ°Ð¹",
+                'CC'=>"ÐÐ¾ÐºÐ¾ÑÐ¾Ð²ÑÐµ Ð¾-Ð²Ð°",
+                'CO'=>"ÐÐ¾Ð»ÑÐ¼Ð±Ð¸Ñ",
+                'KM'=>"ÐÐ¾Ð¼Ð¾ÑÑÐºÐ¸Ðµ Ð¾-Ð²Ð°",
+                'CG'=>"ÐÐ¾Ð½Ð³Ð¾",
+                'KP'=>"ÐÐ¾ÑÐµÑ (ÐÐÐÐ )",
+                'KR'=>"ÐÐ¾ÑÐµÑ Ð ÐÐ¡Ð.",
+                'CI'=>"ÐÐ¾Ñ-Ð'ÐÐ²ÑÐ°Ñ",
+                'CU'=>"ÐÑÐ±Ð°",
+                'KW'=>"ÐÑÐ²ÐµÐ¹Ñ",
+                'KG'=>"ÐÑÑÐ³ÑÐ·ÑÑÐ°Ð½",
+                'LA'=>"ÐÐ°Ð¾Ñ",
+                'LV'=>"ÐÐ°ÑÐ²Ð¸Ñ",
+                'LT'=>"ÐÐ¸ÑÐ²Ð°",
+                'LS'=>"ÐÐµÑÐ¾ÑÐ¾",
+                'LR'=>"ÐÐ¸Ð±ÐµÑÐ¸Ñ",
+                'LB'=>"ÐÐ¸Ð²Ð°Ð½",
+                'LY'=>"ÐÐ¸Ð²Ð¸Ñ",
+                'LI'=>"ÐÐ¸ÑÑÐµÐ½ÑÑÐµÐ¹Ð½",
+                'LU'=>"ÐÑÐºÑÐµÐ¼Ð±ÑÑÐ³",
+                'MU'=>"ÐÐ°Ð²ÑÐ¸ÐºÐ¸Ð¹",
+                'MR'=>"ÐÐ°Ð²ÑÐ¸ÑÐ°Ð½Ð¸Ñ",
+                'MK'=>"ÐÐ°ÐºÐµÐ´Ð¾Ð½Ð¸Ñ",
+                'MG'=>"ÐÐ°Ð´Ð°Ð³Ð°ÑÐºÐ°Ñ",
+                'MW'=>"ÐÐ°Ð»Ð°Ð²Ð¸",
+                'MY'=>"ÐÐ°Ð»Ð°Ð¹Ð·Ð¸Ñ",
+                'YT'=>"ÐÐ°Ð¹Ð¾ÑÑÐ°",
+                'ML'=>"ÐÐ°Ð»Ð¸",
+                'UM'=>"ÐÐ°Ð». Ð¢Ð¸ÑÐ¾Ð¾Ðº. Ð¾-Ð²Ð°",
+                'MV'=>"ÐÐ°Ð»ÑÐ´Ð¸Ð²Ñ",
+                'MT'=>"ÐÐ°Ð»ÑÑÐ°",
+                'MP'=>"ÐÐ°ÑÐ¸Ð°Ð½ÑÐºÐ¸Ðµ Ð¾-Ð²Ð°",
+                'MA'=>"ÐÐ°ÑÐ¾ÐºÐºÐ¾",
+                'MQ'=>"ÐÐ°ÑÑÐ¸Ð½Ð¸ÐºÐ°",
+                'MH'=>"ÐÐ°ÑÑÐ°Ð»Ð»Ð¾Ð²Ñ Ð¾-Ð²Ð°",
+                'MX'=>"ÐÐµÐºÑÐ¸ÐºÐ°",
+                'FM'=>"ÐÐ¸ÐºÑÐ¾Ð½ÐµÐ·Ð¸Ñ",
+                'MZ'=>"ÐÐ¾Ð·Ð°Ð¼Ð±Ð¸Ðº",
+                'MD'=>"ÐÐ¾Ð»Ð´Ð¾Ð²Ð°",
+                'MC'=>"ÐÐ¾Ð½Ð°ÐºÐ¾",
+                'MN'=>"ÐÐ¾Ð½Ð³Ð¾Ð»Ð¸Ñ",
+                'MS'=>"ÐÐ¾Ð½ÑÑÐµÑÑÐ°Ñ",
+                'MM'=>"ÐÑÑÐ½Ð¼Ð°",
+                'NA'=>"ÐÐ°Ð¼Ð¸Ð±Ð¸Ñ",
+                'NR'=>"ÐÐ°ÑÑÑ",
+                'NP'=>"ÐÐµÐ¿Ð°Ð»",
+                'NE'=>"ÐÐ¸Ð³ÐµÑ",
+                'NG'=>"ÐÐ¸Ð³ÐµÑÐ¸Ñ",
+                'NL'=>"ÐÐ¸Ð´ÐµÑÐ»Ð°Ð½Ð´Ñ",
+                'NI'=>"ÐÐ¸ÐºÐ°ÑÐ°Ð³ÑÐ°",
+                'NU'=>"ÐÐ¸ÑÑ",
+                'NZ'=>"ÐÐ¾Ð²Ð°Ñ Ð·ÐµÐ»Ð°Ð½Ð´Ð¸Ñ",
+                'NC'=>"ÐÐ¾Ð². ÐºÐ°Ð»ÐµÐ´Ð¾Ð½Ð¸Ñ",
+                'NO'=>"ÐÐ¾ÑÐ²ÐµÐ³Ð¸Ñ",
+                'AE'=>"ÐÐ±ÑÐµÐ´. ÐÑÐ°Ð±. Ð­Ð¼Ð¸ÑÐ°Ñ",
+                'OM'=>"ÐÐ¼Ð°Ð½",
+                'CK'=>"Ð-Ð²Ð° ÐÑÐºÐ°",
+                'CX'=>"Ð-Ð² Ð Ð¾Ð¶Ð´ÐµÑÑÐ²Ð°",
+                'SH'=>"Ð-Ð² Ð¡Ð²ÑÑÐ¾Ð¹ ÐµÐ»ÐµÐ½Ñ",
+                'PK'=>"ÐÐ°ÐºÐ¸ÑÑÐ°Ð½",
+                'PW'=>"ÐÐ°Ð»Ð°Ñ",
+                'PA'=>"ÐÐ°Ð½Ð°Ð¼Ð°",
+                'PG'=>"ÐÐ°Ð¿ÑÐ°-ÐÐ¾Ð²Ð°Ñ ÐÐ²Ð¸Ð½ÐµÑ",
+                'PY'=>"ÐÐ°ÑÐ°Ð³Ð²Ð°Ð¹",
+                'PE'=>"ÐÐµÑÑ",
+                'PN'=>"ÐÐ¸ÑÐºÑÑÐ½",
+                'PL'=>"ÐÐ¾Ð»ÑÑÐ°",
+                'PT'=>"ÐÐ¾ÑÑÑÐ³Ð°Ð»Ð¸Ñ",
+                'PR'=>"ÐÑÑÑÑÐ¾-ÑÐ¸ÐºÐ¾",
+                'RE'=>"Ð ÐµÑÐ½ÑÐ¾Ð½",
+                'RU'=>"Ð Ð¾ÑÑÐ¸Ñ",
+                'RW'=>"Ð ÑÐ°Ð½Ð´Ð°",
+                'RO'=>"Ð ÑÐ¼ÑÐ½Ð¸Ñ",
+                'SV'=>"Ð¡Ð°Ð»ÑÐ²Ð°Ð´Ð¾Ñ",
+                'SM'=>"Ð¡Ð°Ð½-ÐÐ°ÑÐ¸Ð½Ð¾",
+                'ST'=>"Ð¡Ð°Ð½-Ð¢Ð¾Ð¼Ðµ Ð¸ ÐÑÐ¸Ð½Ñ.",
+                'SA'=>"Ð¡Ð°ÑÐ´Ð¾Ð²ÑÐºÐ°Ñ ÐÑÐ°Ð²Ð¸Ñ",
+                'SZ'=>"Ð¡Ð²Ð°Ð·Ð¸Ð»ÐµÐ½Ð´",
+                'SC'=>"Ð¡ÐµÐ¹ÑÐµÐ»ÑÑÐºÐ¸Ðµ Ð¾-Ð²Ð°",
+                'PM'=>"Ð¡.-ÐÑÐµÑ Ð¸ ÐÐ¸ÐºÐµÐ»Ð¾Ð½",
+                'SN'=>"Ð¡ÐµÐ½ÐµÐ³Ð°Ð»",
+                'VC'=>"Ð¡. ÐÐ¸Ð½ÑÐµÐ½Ñ. ÐÑÐµÐ½Ð°Ð´.",
+                'KN'=>"Ð¡ÐµÐ½Ñ-ÐºÐ¸ÑÑ Ð¸ ÐÐµÐ²Ð¸Ñ",
+                'LC'=>"Ð¡ÐµÐ½Ñ-ÐÑÑÐ¸Ñ",
+                'SG'=>"Ð¡Ð¸Ð½Ð³Ð°Ð¿ÑÑ",
+                'SY'=>"Ð¡Ð¸ÑÐ¸Ñ",
+                'SK'=>"Ð¡Ð»Ð¾Ð²Ð°ÑÐºÐ°Ñ Ð ÐµÑÐ¿ÑÐ±Ð»Ð¸ÐºÐ°",
+                'SI'=>"Ð¡Ð»Ð¾Ð²ÐµÐ½Ð¸Ñ",
+                'SB'=>"Ð¡Ð¾Ð»Ð¾Ð¼Ð¾Ð½Ð¾Ð²Ñ Ð¾-Ð²Ð°",
+                'SO'=>"Ð¡Ð¾Ð¼Ð°Ð»Ð¸",
+                'SD'=>"Ð¡ÑÐ´Ð°Ð½",
+                'SR'=>"Ð¡ÑÑÐ¸Ð½Ð°Ð¼",
+                'SL'=>"Ð¡ÑÐµÑÑÐ°-Ð»ÐµÐ¾Ð½Ðµ",
+                'US'=>"Ð¡Ð¨Ð",
+                'HK'=>"Ð¡ÑÐ½Ð³Ð°Ð½  (ÐÐ¾Ð½ÐºÐ¾Ð½Ð)",
+                'TJ'=>"Ð¢Ð°Ð´Ð¶Ð¸ÐºÐ¸ÑÑÐ°Ð½",
+                'TH'=>"Ð¢Ð°Ð¸Ð»Ð°Ð½Ð´",
+                'TW'=>"Ð¢Ð°Ð¹Ð²Ð°Ð½Ñ",
+                'TZ'=>"Ð¢Ð°Ð½Ð·Ð°Ð½Ð¸Ñ",
+                'TC'=>"Ð¢ÐµÑÐºÑ Ð¸ ÐÐ°Ð¹ÐºÐ¾Ñ",
+                'TG'=>"Ð¢Ð¾Ð³Ð¾",
+                'TK'=>"Ð¢Ð¾ÐºÐµÐ»Ð°Ñ (Ð®Ð½Ð¸Ð¾Ð½)",
+                'TO'=>"Ð¢Ð¾Ð½Ð³Ð°",
+                'TT'=>"Ð¢ÑÐ¸Ð½Ð¸Ð´Ð°Ð´ Ð¸ Ð¢Ð¾Ð±Ð°Ð³Ð¾",
+                'TV'=>"Ð¢ÑÐ²Ð°Ð»Ñ",
+                'TN'=>"Ð¢ÑÐ½Ð¸Ñ",
+                'TM'=>"Ð¢ÑÑÐºÐ¼ÐµÐ½Ð¸ÑÑÐ°Ð½",
+                'TR'=>"Ð¢ÑÑÑÐ¸Ñ",
+                'UG'=>"Ð£Ð³Ð°Ð½Ð´Ð°",
+                'UZ'=>"Ð£Ð·Ð±ÐµÐºÐ¸ÑÑÐ°Ð½",
+                'UA'=>"Ð£ÐºÑÐ°Ð¸Ð½Ð°",
+                'WF'=>"Ð£Ð¾Ð»Ð»Ð¸Ñ Ð¸ Ð¤ÑÑÑÐ½Ð°",
+                'UY'=>"Ð£ÑÑÐ³Ð²Ð°Ð¹",
+                'FO'=>"Ð¤Ð°ÑÐµÑÑÐºÐ¸Ðµ Ð¾-Ð²Ð°",
+                'FJ'=>"Ð¤Ð¸Ð´Ð¶Ð¸",
+                'PH'=>"Ð¤Ð¸Ð»Ð¸Ð¿Ð¿Ð¸Ð½Ñ",
+                'FI'=>"Ð¤Ð¸Ð½Ð»ÑÐ½Ð´Ð¸Ñ",
+                'FK'=>"Ð¤Ð¾Ð»ÐºÐ»ÐµÐ½Ð´ÑÐºÐ¸Ðµ Ð¾-Ð²Ð°",
+                'FR'=>"Ð¤ÑÐ°Ð½ÑÐ¸Ñ",
+                'FX'=>"Ð¤ÑÐ°Ð½ÑÐ¸Ñ, ÐÐµÑÑÐ¾Ð¿Ð¾Ð»Ð¸Ñ",
+                'PF'=>"Ð¤Ñ. ÐÐ¾Ð»Ð¸Ð½ÐµÐ·Ð¸Ñ",
+                'TF'=>"Ð¤Ñ. Ð®Ð¶Ð½ÑÐµ Ð¢ÐµÑÑÐ¸ÑÐ¾Ñ.",
+                'HM'=>"Ð¥ÐµÑÐ´ Ð¸ ÐÐ°ÐºÐ´Ð¾Ð½Ð°Ð»ÑÐ´",
+                'CF'=>"Ð¦ÐµÐ½ÑÑ. ÐÑÑ. Ð ÐµÑÐ¿ÑÐ±Ð»",
+                'HR'=>"Ð¥Ð¾ÑÐ²Ð°ÑÐ¸Ñ",
+                'TD'=>"Ð§Ð°Ð´",
+                'CZ'=>"Ð§ÐµÑÑÐºÐ°Ñ ÑÐµÑÐ¿ÑÐ±Ð»Ð¸ÐºÐ°",
+                'CL'=>"Ð§Ð¸Ð»Ð¸",
+                'CH'=>"Ð¨Ð²ÐµÐ¹ÑÐ°ÑÐ¸Ñ",
+                'SE'=>"Ð¨Ð²ÐµÑÐ¸Ñ",
+                'LK'=>"Ð¨ÑÐ¸-ÐÐ°Ð½ÐºÐ°",
+                'EH'=>"ÐÐ°Ð¿Ð°Ð´Ð½Ð°Ñ Ð¡Ð°ÑÐ°ÑÐ°",
+                'EC'=>"Ð­ÐºÐ²Ð°Ð´Ð¾Ñ",
+                'GQ'=>"Ð­ÐºÐ²Ð°ÑÐ¾Ñ. ÐÐ²Ð¸Ð½ÐµÑ",
+                'EE'=>"Ð­ÑÑÐ¾Ð½Ð¸Ñ",
+                'ET'=>"Ð­ÑÐ¸Ð¾Ð¿Ð¸Ñ",
+                'ER'=>"Ð­ÑÐ¸ÑÑÐµÑ",
+                'YU'=>"Ð®Ð³Ð¾ÑÐ»Ð°Ð²Ð¸Ñ",
+                'ZA'=>"Ð®Ð¶Ð½Ð¾-ÐÑÑ. Ð ÐµÑÐ¿ÑÐ±.",
+                'GS'=>"Ð®Ð¶Ð½Ð°Ñ ÐÐ¶Ð¾ÑÐ´Ð¶Ð¸Ñ Ð¸ Ð®Ð¶Ð½ÑÐµ Ð¡Ð°Ð½Ð´Ð²Ð¸ÑÐµÐ²Ñ Ð¾ÑÑÑÐ¾Ð²Ð°",
+                'JM'=>"Ð¯Ð¼Ð°Ð¹ÐºÐ°",
+                'JP'=>"Ð¯Ð¿Ð¾Ð½Ð¸Ñ",
+                );
+$lang->google_product_list="Ð¡Ð¿Ð¸ÑÐ¾Ðº Ð¿ÑÐ¾Ð´ÑÐºÑÐ¾Ð²";             
+$lang->google_categories="ÐÐ°ÑÐµÐ³Ð¾ÑÐ¸Ð¸";
+$lang->google_main_page="ÐÑÐµÐ´Ð»Ð°Ð³Ð°ÐµÐ¼ÑÐµ Ð¿ÑÐ¾Ð´ÑÐºÑÑ";
+$lang->google_files="Ð¢ÐµÐºÑÑÐ¾Ð²ÑÐµ ÑÑÑÐ°Ð½Ð¸ÑÑ, Ð¸Ð½ÑÐ¾ÑÐ¼Ð°ÑÐ¸Ñ";
+$lang->google_up_link="ÐÐ°ÑÑÐ° ÑÐ°Ð¹ÑÐ°";
+$lang->order_confirm_ok="Ð¢Ð²Ð¾Ñ ÑÐ´ÐµÐ»ÐºÐ° Ð¿Ð¾Ð´ÑÐ²ÐµÑÐ¶Ð´ÐµÐ½Ð° !<br /> Ð¡Ð¿Ð°ÑÐ¸Ð±Ð¾.";
+$lang->order_confirm_error="Ð¢Ð²Ð¾Ñ ÑÐ´ÐµÐ»ÐºÐ° Ð½Ðµ Ð¼Ð¾Ð¶ÐµÑ Ð±ÑÑÑ Ð¿Ð¾Ð´ÑÐ²ÐµÑÐ¶Ð´ÐµÐ½Ð°.<br /> ÐÑÐ¾Ð²ÐµÑÑ ÑÑÑÐ»ÐºÑ.";
+$lang->order_confirm_error1="Ð¢Ð²Ð¾ÐµÐ¹ ÑÐ´ÐµÐ»ÐºÐ¸ Ð½ÐµÑ Ð² Ð±Ð°Ð·Ðµ Ð´Ð°Ð½Ð½ÑÑ.<br /> ÐÑÐ¾Ð²ÐµÑÑ ÑÑÑÐ»ÐºÑ.";
+$lang->order_confirm_error2="Ð¢Ð²Ð¾Ñ ÑÐ´ÐµÐ»ÐºÐ° Ð±ÑÐ»Ð° ÑÐ¶Ðµ ÑÐ°Ð½ÐµÐµ Ð¿Ð¾Ð´ÑÐ²ÐµÑÐ¶Ð´ÐµÐ½Ð° !<br /> Ð¡Ð¿Ð°ÑÐ¸Ð±Ð¾.";
+$lang->order_confirm_error3="ÐÐµÐ¿ÑÐ°Ð²Ð¸Ð»ÑÐ½ÑÐ¹ Ð½Ð¾Ð¼ÐµÑ ÑÐ´ÐµÐ»ÐºÐ¸ !<br /> ÐÑÐ¾Ð²ÐµÑÑ ÑÑÑÐ»ÐºÑ.";
+$lang->trans_error="ÐÐ½ÑÐ¾ÑÐ¼Ð°ÑÐ¸Ñ ÐºÐ°ÑÐ°ÑÑÐ°ÑÑÑ ÑÐ²Ð¾ÐµÐ¹ ÑÐ´ÐµÐ»ÐºÐ¸ Ð½Ðµ Ð¼Ð¾Ð¶ÐµÑ Ð±ÑÑÑ Ð¿Ð¾ÐºÐ°Ð·Ð°Ð½Ð°.<br /> ÐÑÐ¾Ð²ÐµÑÑ ÑÑÑÐ»ÐºÑ.";
+$lang->trans_error1="Ð¢Ð²Ð¾ÐµÐ¹ ÑÐ´ÐµÐ»ÐºÐ¸ ÑÐ¶Ðµ Ð½ÐµÑ Ð² Ð±Ð°Ð·Ðµ Ð´Ð°Ð½Ð½ÑÑ.<br /> ÐÐ·Ð²Ð¸Ð½ÑÐµÐ¼ÑÑ.";				
+$lang->ranking_title="ÐÐ»Ð¸ÐµÐ½ÑÑ, ÐºÐ¾ÑÐ¾ÑÑÐµ Ð¿ÑÐ¸Ð¾Ð±ÑÐµÐ»Ð¸ Ð´Ð°Ð½Ð½ÑÐ¹ Ð¿ÑÐ¾Ð´ÑÐºÑ, ÐºÑÐ¿Ð¸Ð»Ð¸ ÑÐ°ÐºÐ¶Ðµ:";		
+$lang->products4u_title="ÐÑÐ¾Ð´ÑÐºÑÑ Ð´Ð»Ñ ÑÐµÐ±Ñ";		
+$lang->check_uncheck_all="ÐÑÐµ Ð¿ÑÐ¾Ð´ÑÐºÑÑ ";
+$lang->to_be_deleted=" Ð´Ð»Ñ ÑÐ´Ð°Ð»ÐµÐ½Ð¸Ñ: ";	
+$lang->to_be_moved=" Ð´Ð»Ñ ÑÑÐ°Ð½ÐµÐ½Ð¸Ñ: ";	
+$lang->to_be_moved_2basket=" Ð² ÐºÐ¾ÑÐ·Ð¸Ð½Ñ: ";	
+$lang->basket_th_move="Ð½Ð° ÑÑÐ°Ð½ÐµÐ½Ð¸Ðµ";
+$lang->basketForm="ÐÐ¾ÑÐ·Ð¸Ð½Ð°";
+$lang->wishlistForm="Ð¥ÑÐ°Ð½ÐµÐ½Ð¸Ðµ";
+$lang->info_attrib_wishlist="ÐÐ° ÑÑÐ°Ð½ÐµÐ½Ð¸Ðµ";
+$lang->wishlist_empty="ÐÐ¸ÑÐµÐ³Ð¾ Ð½ÐµÑ Ð½Ð° ÑÑÐ°Ð½ÐµÐ½Ð¸Ð¸";
+$lang->tooltip=array (
+					'wishlist'=>'ÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ Ð´Ð»Ñ ÑÑÐ°Ð½ÐµÐ½Ð¸Ñ',
+					'wishlist_head'=>'ÐÐ»Ñ ÑÑÐ°Ð½ÐµÐ½Ð¸Ñ',
+					'basket'=>'ÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ Ð² ÐºÐ¾ÑÐ·Ð¸Ð½Ñ',
+					'basket_head'=>'ÐÐ¾ÑÐ·Ð¸Ð½Ð° ',
+					'info'=>'ÐÐ¾Ð»Ð½Ð¾Ðµ Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸Ðµ');
+$lang->head_wishlist="ÐÐ»Ñ ÑÑÐ°Ð½ÐµÐ½Ð¸Ñ";
+$lang->points_action="ÐÐºÑÐ¸Ñ";
+$lang->points_time="ÐÑÐµÐ¼Ñ Ð¾ÑÑÑÐµÑÑÐ²Ð»ÐµÐ½Ð¸Ñ";
+$lang->points_id_product="ID Ð¿ÑÐ¾Ð´ÑÐºÑÐ°";
+$lang->user_points=array(
+				    'decrease'=>"ÑÐ¼ÐµÐ½ÑÑÐµÐ½Ð¸Ðµ",
+					'add'=>" ÑÐ²ÐµÐ»Ð¸ÑÐµÐ½Ð¸Ðµ",
+					'for_recommend'=>"Ð·Ð° <b>ÐºÐ¾Ð¼Ð°Ð½Ð´Ð°</b> Ð¿ÑÐ¾Ð´ÑÐºÑÐ°",
+					'for_product'=>"Ð·Ð° <b>Ð¿Ð¾ÐºÑÐ¿ÐºÐ°</b>",
+					'for_review'=>"Ð·Ð° Ð´Ð¾Ð±Ð°Ð²ÐºÑ <b>Ð¾ÑÐ·ÑÐ²Ð°</b>",
+					);
+
+$lang->basket_points_amount_name="Ð¡ÑÐ¾Ð¸Ð¼Ð¾ÑÑÑ Ð·Ð°ÐºÑÐ¿Ð¾Ðº";
+$lang->basket_points_cost="Ð¡ÑÐ¾Ð¸Ð¼Ð¾ÑÑÑ Ð·Ð°ÐºÐ°Ð·Ð° Ð¿Ð¾ Ð¾ÑÐºÐ°Ð¼";
+$lang->basket_points_left="ÐÑÐºÐ¸ Ð¾ÑÑÐ°Ð²ÑÐ¸ÐµÑÑ Ð´Ð»Ñ Ð¸ÑÐ¿Ð¾Ð»ÑÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ";					
+$lang->basket_currency="ÐÐ°Ð»ÑÑÐ° Ð¾Ð¿Ð»Ð°ÑÑ Ð² Ð¼Ð°Ð³Ð°Ð·Ð¸Ð½Ðµ:";
+$lang->basket_products_extra=array(
+								  "user_id"=>"ID",
+								  "points_value"=>"Ð¿."
+								  );
+$lang->order_id="Order number";
+?>
\ No newline at end of file
diff -ruN ../soteesklep3/htdocs/plugins/_pay/_allpay/check.php soteesklep3/htdocs/plugins/_pay/_allpay/check.php
--- ../soteesklep3/htdocs/plugins/_pay/_allpay/check.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/htdocs/plugins/_pay/_allpay/check.php	2006-08-23 17:22:39.000000000 +0200
@@ -0,0 +1,11 @@
+<?php
+$global_database=true;
+$global_secure_test=true;
+global $DOCUMENT_ROOT;
+$DOCUMENT_ROOT=$HTTP_SERVER_VARS['DOCUMENT_ROOT'];
+include_once ("$DOCUMENT_ROOT/../include/head.inc");
+include_once ("config/auto_config/allpay_config.inc.php");
+include_once("include/metabase.inc");
+include_once("./include/online.inc.php");
+$allpay=new AllpayOnline;
+?>
\ No newline at end of file
diff -ruN ../soteesklep3/htdocs/plugins/_pay/_allpay/confirm.php soteesklep3/htdocs/plugins/_pay/_allpay/confirm.php
--- ../soteesklep3/htdocs/plugins/_pay/_allpay/confirm.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/htdocs/plugins/_pay/_allpay/confirm.php	2006-08-23 17:22:39.000000000 +0200
@@ -0,0 +1,25 @@
+<?php
+/**
+ * Przekieruj uzytwkonika na strone confirm.php zamieniajac $SESSIONID na $session_id
+ */
+
+if (! empty($_REQUEST['SESSIONID'])) {
+    $session_id=$_REQUEST['SESSIONID'];
+    
+    print "                                                                                                 
+              <html>                                                                                                
+                <head>                                                                                              
+                  <META HTTP-EQUIV=\"refresh\" content=\"0; url=sess_confirm.php?sess_id=$session_id\">
+                </head>                                                                                             
+              <html>                                                                                                
+          "; 
+} else {
+    print "                                                                                                 
+              <html>                                                                                                
+                <head>                                                                                              
+                  <META HTTP-EQUIV=\"refresh\" content=\"0; url=error.php\">
+                </head>                                        
+              <html>
+          "; 
+}
+?>
diff -ruN ../soteesklep3/htdocs/plugins/_pay/_allpay/include/online.inc.php soteesklep3/htdocs/plugins/_pay/_allpay/include/online.inc.php
--- ../soteesklep3/htdocs/plugins/_pay/_allpay/include/online.inc.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/htdocs/plugins/_pay/_allpay/include/online.inc.php	2006-08-23 17:22:39.000000000 +0200
@@ -0,0 +1,294 @@
+<?php
+/**
+ * Klasa do potwierdzen platnosci w tle z serwisu allpay
+ *
+ */
+
+
+define ("ALLPAY_SERVER","217.17.41.5");
+
+class AllpayOnline {
+
+    /**
+	 * Konstruktor klasy
+	 *
+	 * @return AllpayOnline
+	 */
+    function AllpayOnline() {
+        global $database, $db;
+        ob_start();
+        if($this->checkParam()) {
+            if($this->prepareData2()) {
+                $database->sql_insert("allpay_trans",array("status"=>"OK","order_id"=>$_REQUEST['description']));
+                print "OK";
+            } else {
+                $database->sql_insert("allpay_trans",array("status"=>"ERROR","order_id"=>$_REQUEST['description']));
+                print "ERROR";
+            }
+        }
+//        $query="INSERT INTO log (order_id, message) VALUES ('".$_REQUEST['description']."','".ob_get_contents()."')";
+//        $db->Query($query);
+        ob_flush();
+
+    } // end func AllpayOnline
+
+    /**
+	 * Zapisz parametry do bazy danych
+	 *
+	 */
+    function checkParam()
+    {
+        global $_REQUEST;
+        global $database;
+        global $mdbd;
+        foreach($_REQUEST as $key=>$value) {
+            $_REQUEST[$key]= addslashes($_REQUEST[$key]);
+        }
+        $database->sql_insert("allpay_trans",$_REQUEST);
+        $session=$mdbd->select('data','order_session',"order_id='".$_REQUEST['description']."'");
+        if (!empty($session)) {
+            $_SESSION=unserialize($session);
+            // zapalamy flage
+            global $session_restored;
+            $session_restored=true;
+        }
+        return true;
+    } // end func checkParam
+
+    function server() {
+        if ($_SERVER['REMOTE_ADDR']==ALLPAY_SERVER) {
+            return true;
+        }
+        return false;
+    }
+    function prepareData2() {
+        global $db, $allpay_config, $config, $database, $mdbd, $DOCUMENT_ROOT;
+        $data=$database->sql_select_multi_array4("*","order_register","order_id=".$_REQUEST['description']);
+        if (!is_array($data)) return true;
+        $amount=$data[0]['amount']+$data[0]['delivery_cost'];
+        if(!preg_match("/\./",$amount)) {
+            $amount=$amount.".00";
+        }
+        $md5=md5(
+            @$allpay_config->allpay_pin.":".
+            $allpay_config->allpay_id.":".
+            $_REQUEST['control'].":".
+            $_REQUEST['t_id'].":".
+            $amount.":".
+            $_REQUEST['email'].":".
+            @$_REQUEST['service'].":".
+            @$_REQUEST['code'].":".
+            @$_REQUEST['username'].":".
+            @$_REQUEST['password'].":".
+            $_REQUEST['t_status']
+        );
+        $database->sql_insert("allpay_trans",array(
+            "control"=>@$_REQUEST['control'],
+            "t_id"=>@$_REQUEST['t_id'],
+            "order_id"=>@$_REQUEST['description'],
+            "amount"=>$amount,
+            "email"=>@$_REQUEST['email'],
+            "service"=>@$_REQUEST['service'],
+            "code"=>@$_REQUEST['code'],
+            "username"=>@$_REQUEST['username'],
+            "password"=>@$_REQUEST['password'],
+            "t_status"=>$_REQUEST['t_status'],
+            "md5"=>$md5,
+            "md5_req"=>$_REQUEST['md5'],
+            "orginal_amount"=>$_REQUEST['amount'],
+            "remote_addres"=>$_SERVER["REMOTE_ADDR"]
+            )
+        );
+        // wylaczyc do testow - nie beda sprawdzane parametry posta i bedzie mozna wchodzic przez przegladarke zeby akceptowac transakcje
+        if ($md5!=@$_REQUEST['md5'] || !$this->server()) {
+            return false;
+        }
+        switch ($_REQUEST['t_status']) {
+            case 0:
+            // koniec powiadomien
+            return true;
+            break;
+            case 1:
+            // nowa
+            return true;
+            break;
+            case 2:
+            // ok
+            // wlaczanie mozliwosci wielokrotnego akceptowania transakcji
+//            if (true) {
+            if ($data[0]['confirm_online']!=1) {
+                global $auto_transaction;
+                $auto_transaction=true;
+                global $__secure_test;
+                $__secure_test=1;
+               
+                require_once ("include/order_register.inc");
+                $amount_all=number_format(($data[0]['amount']+$data[0]['delivery_cost']),2,".","");
+                $order_id=$_REQUEST['description'];
+                $my_checksum=OrderRegisterChecksum::checksum($_REQUEST['description'],1,$amount_all);
+                $database->sql_update("order_register","order_id=".$_REQUEST['description'],array(
+                "confirm_online"=>"1",
+                "confirm"=>"1",
+                "pay_status"=>"001",
+                "checksum_online"=>$my_checksum,
+                )
+                );
+                 include_once("$DOCUMENT_ROOT/go/_register/include/send_order.inc.php");
+                if (in_array("main_keys",$config->plugins)) {
+                    require_once ("go/_register/include/main_keys.inc.php");
+                    $main_keys = new MainKeys;
+                    $main_keys->show();
+                }
+            }
+            return true;
+            break;
+            case 3:
+            // odmowa
+            require_once ("include/order_register.inc");
+            $my_checksum=OrderRegisterChecksum::checksum($_REQUEST['description'],0,$data[0]['amount']);
+            $database->sql_update("order_register","order_id=".$_REQUEST['description'],array(
+            "confirm_online"=>"0",
+            "confirm"=>"0",
+            "pay_status"=>"003",
+            "checksum_online"=>$my_checksum,
+            )
+            );
+            return true;
+            break;
+            case 4:
+            // anulowana/zwrot
+            require_once ("include/order_register.inc");
+            $my_checksum=OrderRegisterChecksum::checksum($_REQUEST['description'],0,$data[0]['amount']);
+            $database->sql_update("order_register","order_id=".$_REQUEST['description'],array(
+            "confirm_online"=>"0",
+            "confirm"=>"0",
+            "pay_status"=>"004",
+            "checksum_online"=>$my_checksum,
+            )
+            );
+            return true;
+            break;
+            case 5:
+            // reklamacja
+            require_once ("include/order_register.inc");
+            $my_checksum=OrderRegisterChecksum::checksum($_REQUEST['description'],0,$data[0]['amount']);
+            $database->sql_update("order_register","order_id=".$_REQUEST['description'],array(
+            "confirm_online"=>"0",
+            "confirm"=>"0",
+            "pay_status"=>"005",
+            "checksum_online"=>$my_checksum,
+            )
+            );
+            return true;
+            break;
+            default:
+            return false;
+            break;
+        }
+        return;
+    }
+    /**
+     * Sprawdz trenaskacje
+     *
+     */
+    function prepareData()
+    {
+        ob_start();
+        global $database;
+        global $allpay_config;
+        global $DOCUMENT_ROOT;
+        global $config;
+        global $mdbd;
+        $data=$database->sql_select_multi_array4("*","order_register","order_id=".$_REQUEST['description']);
+
+        $amount=$data[0]['amount']+$data[0]['delivery_cost'];
+        if(!preg_match("/\./")) {
+            $amount=$amount.".00";
+        }
+
+        //$md5=md5(":10045:b03337e6e90a9dc291d528d113cdf3c3:10045-P12:70:fsd@fsdfsd.pl:::::1");
+        $md5=md5(
+        @$allpay_config->allpay_pin.":".
+        $allpay_config->allpay_id.":".
+        $_REQUEST['control'].":".
+        $_REQUEST['t_id'].":".
+        $amount.":".
+        $_REQUEST['email'].":".
+        @$_REQUEST['service'].":".
+        @$_REQUEST['code'].":".
+        @$_REQUEST['username'].":".
+        @$_REQUEST['password'].":".
+        $_REQUEST['t_status']
+        );
+
+        $database->sql_insert("allpay_trans",array(
+        "control"=>@$_REQUEST['control'],
+        "t_id"=>@$_REQUEST['t_id'],
+        "order_id"=>@$_REQUEST['description'],
+        "amount"=>$amount,
+        "email"=>@$_REQUEST['email'],
+        "service"=>@$_REQUEST['service'],
+        "code"=>@$_REQUEST['code'],
+        "username"=>@$_REQUEST['username'],
+        "password"=>@$_REQUEST['password'],
+        "t_status"=>$_REQUEST['t_status'],
+        "md5"=>$md5,
+        "md5_req"=>$_REQUEST['md5'],
+        "orginal_amount"=>$_REQUEST['amount'],
+        "remote_addres"=>$_SERVER["REMOTE_ADDR"]
+        )
+        );
+        if ($data[0]['confirm_online']==1) return;
+        // transakcja nowa lub odmowna
+        $mdbd->insert("log","order_id,message",array(
+        @$_REQUEST['description']=>"text",
+        print_r($_REQUEST,1)=>"text",
+        )
+        );
+        if($md5 == $_REQUEST['md5'] && ($_REQUEST['t_status'] == 1 || $_REQUEST['t_status'] == 3) && $_SERVER["REMOTE_ADDR"] == ALLPAY_SERVER) {
+            return true;
+        }
+        // potwierdzenie trasakcji
+        if($md5 == $_REQUEST['md5'] && $_REQUEST['t_status'] == 2 && $_SERVER["REMOTE_ADDR"] == ALLPAY_SERVER && $data['confirm_online']==0) {
+            // jesli skroty sa dobre tzn ze transakcja jest prawidlowa
+
+            global $auto_transaction;
+            $auto_transaction=true;
+            if (in_array("main_keys",$config->plugins)) {
+                require_once ("go/_register/include/main_keys.inc.php");
+                $main_keys = new MainKeys;
+                $main_keys->show();
+            }
+            require_once ("include/order_register.inc");
+            $my_checksum=OrderRegisterChecksum::checksum($_REQUEST['description'],1,$data[0]['amount']);
+            $database->sql_update("order_register","order_id=".$_REQUEST['description'],array(
+            "confirm_online"=>"1",
+            "confirm"=>"1",
+            "pay_status"=>"001",
+            "checksum_online"=>$my_checksum,
+            )
+            );
+
+            include_once("$DOCUMENT_ROOT/go/_register/include/send_order.inc.php");
+
+
+
+
+            $result_online=$database->sql_select("confirm_online","order_register","order_id=".$_REQUEST['description']);
+            if($result_online == 1) {
+                return true;
+            } else {
+                return false;
+            }
+
+        }
+
+        $mdbd->insert("log","order_id,message",array(
+        @$_REQUEST['description']=>"text",
+        ob_get_contents()=>"text",
+        )
+        );
+        ob_flush();
+    } // end func prepareData
+} // end class AllpayOnline
+?>
diff -ruN ../soteesklep3/htdocs/plugins/_pay/_allpay/sess_confirm.php soteesklep3/htdocs/plugins/_pay/_allpay/sess_confirm.php
--- ../soteesklep3/htdocs/plugins/_pay/_allpay/sess_confirm.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/htdocs/plugins/_pay/_allpay/sess_confirm.php	2006-08-23 17:22:39.000000000 +0200
@@ -0,0 +1,53 @@
+<?php
+/**
+* Wyslanie zamowienia platnosc z Przelewy24.pl. Wyslanie zamowienia            
+* na konto e-mail + potwierdzenie dla klienta                          
+*
+* \@session string $global_lock_send zapamietanie informacji, ze zamowienie zostalo juz wyslane
+*
+* @author m@sote.pl
+* @version $Id: sess_confirm.php,v 1.1 2006/05/11 10:26:54 scalak Exp $
+* @package przelewy24
+*/
+
+$global_database=true;
+$global_secure_test=true;
+$DOCUMENT_ROOT=$HTTP_SERVER_VARS['DOCUMENT_ROOT'];
+/**
+* Nag³ówek skryptu.
+*/
+require_once ("../../../../include/head.inc");
+
+// wyslij mailem zamowienie
+//include_once("$DOCUMENT_ROOT/go/_register/include/send_order.inc.php");
+
+// naglowek
+$theme->head();
+$theme->page_open_head("page_open_1_head");
+
+global $shop;
+
+if (true) {
+    // zapamietaj, ¿e zosta³o wywolane wyslanie zamowienia, pozwoli to na zabronienie
+    // ponownego wyslanie tego samego zamowienia
+    $global_lock_send=true;
+    $global_lock_basket=false;
+    $global_lock_register=false;
+    $shop->basket();
+    $shop->basket->emptyBasket();
+    $sess->register("global_lock_send",$global_lock_send);
+    $sess->register("global_lock_basket",$global_lock_basket);
+    $sess->register("global_lock_register",$global_lock_register);
+    
+    // wyswietl informacje o wyslaniu zamowienia
+    $theme->send_confirm();
+} else {
+    $theme->send_error();
+}
+
+$theme->page_open_foot("page_open_1_foot");
+
+// stopka
+$theme->foot();
+include_once ("include/foot.inc");
+?>
\ No newline at end of file
diff -ruN ../soteesklep3/htdocs/plugins/_pay/_ecard/include/ecard.inc.php soteesklep3/htdocs/plugins/_pay/_ecard/include/ecard.inc.php
--- ../soteesklep3/htdocs/plugins/_pay/_ecard/include/ecard.inc.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/htdocs/plugins/_pay/_ecard/include/ecard.inc.php	2006-08-23 16:59:16.000000000 +0200
@@ -0,0 +1,120 @@
+<?php
+/**
+ * Funckje zwiazane z obsluga platnosci za posrednictwem eCard (http://www.ecard.pl)
+ *
+ * @author Marek Jakubowicz 
+ * @copyright 2002 (C) SOTE www.sote.pl
+ */
+require_once ("HTTP/Client.php");
+
+class eCard {
+
+    /* Dane przekazywane do eCardu */
+    var $ORDERNUMBER;        // numer zamowienia
+    var $ORDERDESCRIPTION;   // opis zamowienia
+    var $AMOUNT;             // kwota do zaplaty w groszach
+    var $NAME;               // imie
+    var $SURNAME;            // nazwisko
+    var $SESSIONID;          // numer sesji
+    var $LANGUAGE="PL";      // PL lub EN jezyk w ktorym ma byc wyswietlona strona
+    /* end */ 
+        
+    /* adres skryptu eCardu */
+    var $urlpost="https://localhost:8081";
+	
+    /**
+     * Zamien kwote na format dla PolCard tj. na kwote wyrazona w groszach
+     * 
+     * @param real $price
+     * @return int kwota do zaplaty w groszach
+     */
+    function price($price) {
+        $price=number_format($price,2,".","");
+        return intval($price*100);
+    } // end
+
+    /**
+     * Dodaj element hidden w formularzu
+     */
+    function add_hidden($name) {
+        $value=$this->$name;
+        return "<input type=hidden name=$name value='$value'>\n";
+    } // end add_hidden()
+
+    /**
+     * Generuj opis skrocony zamowienia
+     *
+     * @param addr object $my_basket
+     * @return string opis skrocony zmowienia
+     */
+    function order_description(&$my_basket) {
+        $o="";
+        foreach ($my_basket->items as $item) {
+            $o.=$item['name']."; ";
+        }
+        $o=substr($o,0,strlen($o)-2);        
+        return $o;
+    } // end order_description()
+    
+    /**
+     * Funkcja wyswietla formularz HTML z elementami wymaganymi prez eCard
+     */
+    function form() {               
+        global $lang;
+        global $ecard_config;
+        
+        
+        $http =& new HTTP_Client;
+        $http->post($ecard_config->ecardServerHash,array(
+        													'orderDescription'=>"",
+        													'amount'=>$this->price($this->AMOUNT),
+        													'currency'=>'985',
+        													'merchantId'=>$ecard_config->ecardAccount,
+           													'password'=>$ecard_config->ecardPassword,
+        													'orderNumber'=>$this->ORDERNUMBER,
+        													'verify'=>1
+        													)
+        			);
+        
+        			
+        			
+       $result=$http->_responses[0]['body'];
+	    
+        
+        
+        $result=preg_replace("/^\s+/","",$result);
+		$result=preg_replace("/\s+$/","",$result);
+		if (!$result || $result=="zlyhash") {
+	    	print "blad"; 
+    		exit(1);
+  		} else {
+	        $this->ORDERDESCRIPTION=preg_replace("/\"/","\\\"",$this->ORDERDESCRIPTION);
+	        $o="<form action=\"".$ecard_config->ecardServerPay."\" method=\"post\">\n";
+	        $o.="<input type=\"hidden\" name=\"ORDERNUMBER\" value=\"".$this->ORDERNUMBER."\">\n";
+	        $o.="<input type=\"hidden\" name=\"ORDERDESCRIPTION\" value=\"".$this->ORDERDESCRIPTION."\">\n";
+	        $o.="<input type=\"hidden\" name=\"AMOUNT\" value=\"".$this->price($this->AMOUNT)."\">\n";
+	        $o.="<input type=\"hidden\" name=\"CURRENCY\" value=\"985\">\n";
+	        $o.="<input type=\"hidden\" name=\"HASH\" value=\"".$result."\">\n";
+	        $o.="<input type=\"hidden\" name=\"MERCHANTID\" value=\"".$ecard_config->ecardAccount."\">\n";
+	        $o.="<input type=\"hidden\" name=\"SESSIONID\" value=\"".$this->SESSIONID."\">\n";
+	        $o.="<input type=\"hidden\" name=\"NAME\" value=\"".$this->NAME."\">\n";
+	        $o.="<input type=\"hidden\" name=\"SURNAME\" value=\"".$this->SURNAME."\">\n";
+	        $o.="<input type=\"hidden\" name=\"LANGUAGE\" value=\"".$ecard_config->ecardLang."\">\n";
+	        $o.="<input type=\"hidden\" name=\"AUTODEPOSIT\" value=\"0\">\n";
+	        $o.="<input type=\"hidden\" name=\"CHARSET\" value=\"iso-8859-2\">\n";
+		$o.="<input TYPE=\"hidden\" name=\"PAYMENTTYPE\" value=\"".$ecard_config->ecardPayType."\">\n";
+	        $o.="<input type=\"hidden\" name=\"LINKOK\" value=\"http://".$_SERVER['HTTP_HOST']."/".$ecard_config->ecardReturnUrl."?\">\n";
+	        $o.="<input type=\"hidden\" name=\"LINKFAIL\" value=\"http://".$_SERVER['HTTP_HOST']."/".$ecard_config->ecardCancelReturnUrl."?\">\n";
+	        print "<DIV ALIGN=RIGHT>\n";
+	        $o.='<input type="submit" name="JS" value="'.$lang->next.'">';
+	        print "</DIV>\n";
+	        print "</FORM>\n";
+	        $o.="</form>";
+	
+	        return $o;
+  		}    
+    } // end form()
+
+} // end eCard class
+
+?>
diff -ruN ../soteesklep3/htdocs/plugins/_pay/_platnoscipl/sess_confirm.php soteesklep3/htdocs/plugins/_pay/_platnoscipl/sess_confirm.php
--- ../soteesklep3/htdocs/plugins/_pay/_platnoscipl/sess_confirm.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/htdocs/plugins/_pay/_platnoscipl/sess_confirm.php	2006-08-23 17:22:38.000000000 +0200
@@ -0,0 +1,73 @@
+<?php
+// +----------------------------------------------------------------------+
+// | SOTEeSKLEP version 2                                                 |
+// +----------------------------------------------------------------------+
+// | Copyright (c) 1999-2002 SOTE www.sote.pl                             |
+// +----------------------------------------------------------------------+
+// | Wyslanie zamowienia platnosc eCard. Wyslanie zamowienia              |
+// | na konto e-mail + potwierdzenie dla klienta                          |
+// +----------------------------------------------------------------------+
+// | authors: Marek Jakubowicz <m@sote.pl>                                |
+// +----------------------------------------------------------------------+
+//
+// $Id: sess_confirm.php,v 1.5 2006/06/29 14:24:19 lukasz Exp $
+
+/**
+ * @session string $global_lock_send zapamietanie informacji, ze zamowienie zostalo juz wyslane
+ */
+
+// Jesli w sesji zapisany jest obiekt, to klasa tego obiektu, 
+// musi byc zaladowana przed otworzeniem sesji!
+
+$global_database=true;
+$global_secure_test=true;
+$DOCUMENT_ROOT=$HTTP_SERVER_VARS['DOCUMENT_ROOT'];
+require_once ("../../../../include/head.inc");
+//require_once ("$DOCUMENT_ROOT/../include/metabase.inc");
+
+global $mdbd;
+/*$p24_session=$_GET['sess_id'];
+print $order_id;
+print "<pre>$p24_session";
+print_r ($_SESSION);
+print "</pre>";
+$order_id=$mdbd->select('order_id','order_register',"session_id='$p24_session'",'','LIMIT 1');
+if (!empty($order_id)) {
+	$session=$mdbd->select('data','order_session',"order_id='$order_id'");
+	if (!empty($session)) {
+		$_SESSION=unserialize($session);
+		// zapalamy flage
+		$session_restored=true;
+	}
+}
+print "<pre>";
+print_r ($_SESSION);
+print "</pre>";*/
+// wyslij mailem zamowienie
+include_once("$DOCUMENT_ROOT/go/_register/include/send_order.inc.php");
+
+// naglowek
+$theme->head();
+$theme->page_open_head("page_open_1_head");
+
+if ($confirm==true) {
+    // zapamietaj, ze zostalo wywolane wyslanie zamowienia, pozwoli to na zabronienie
+    // ponownego wyslanie tego samego zamowienia
+#    $global_lock_send=true;
+#    $global_lock_basket=false;
+#    $global_lock_register=false;
+#    $sess->register("global_lock_send",$global_lock_send);
+#    $sess->register("global_lock_basket",$global_lock_basket);
+#    $sess->register("global_lock_register",$global_lock_register);
+     // wyswietl informacje o wyslaniu zamowienia
+    $theme->send_confirm();
+} else {
+    $theme->send_error();
+}
+
+$theme->page_open_foot("page_open_1_foot");
+
+// stopka
+$theme->foot();
+include_once ("include/foot.inc");
+?>
diff -ruN ../soteesklep3/htdocs/plugins/_pay/_polcard/include/polcard.inc.php soteesklep3/htdocs/plugins/_pay/_polcard/include/polcard.inc.php
--- ../soteesklep3/htdocs/plugins/_pay/_polcard/include/polcard.inc.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/htdocs/plugins/_pay/_polcard/include/polcard.inc.php	2006-08-23 16:59:17.000000000 +0200
@@ -0,0 +1,188 @@
+<?php
+/**
+* Funckje zwiazane z obsluga IOO ePay PolCard'u
+*
+* @author Marek Jakubowicz
+* @copyright 2002 (C) SOTE www.sote.pl
+* @version    $Id: polcard.inc.php,v 1.6 2006/02/15 09:49:01 lukasz Exp $
+* @package    pay
+* @subpackage polcard
+*/
+
+/**
+* Klasa obs³uguj±ca uproszczony system p³atno¶ci PolCard. Generowanie formularza, parametrów itp.
+* @package polcard
+* @subpackage htdocs_simple
+*/
+class PolCard {
+    
+    /**
+    * @var string numer zamówienia identyfikuj±cy transakcjê
+    */
+    var $order_id;
+    
+    /**
+    * @var int kod punktu przydzielony przez PolCard
+    */
+    var $pos_id;
+    
+    /**
+    * @var int kwota transakcji wyra¿ona w groszach
+    */
+    var $amount;
+    
+    /**
+    * @var string PL lub EN jêzyk w którym ma byæ wy¶wietlona strona
+    */
+    var $language="PL";
+    
+    /**
+    * @var string adres email zamawiaj±cego
+    */
+    var $email;
+    
+    /**
+    * @var string flaga identyfikuj±ca transakcje testowe (Y/N)
+    */
+    var $test="N";
+    
+    /**
+    * @var string adres IP zamawiaj±cego (xxx.xxx.xxx.xxx)
+    */
+    var $client_ip;
+    
+    /**
+    * @var string pierwsza linia adresu wysy³ki
+    */
+    var $street;
+    
+    /**
+    * @var string numer zwi±zany z adresem (prawie zawsze numer domu)
+    */
+    var $street_n1;
+    
+    /**
+    * @var string numer zwi±zany z adresem (prawie zawsze numer mieszkania)
+    */
+    var $street_n2;
+    
+    /**
+    * @var string numer telefonu podany w sklepie
+    */
+    var $phone;
+    
+    /**
+    * @var string nazwa miasta adresu wysy³ki
+    */
+    var $city;
+    
+    /**
+    * @var string kod pocztowy z adresu wysylki
+    */
+    var $postcode;
+    
+    /**
+    * @var string kod kraju z adresu wysy³ki
+    */
+    var $country="POL";
+    
+    /**
+    * @var string numer sesji  tylko dla polcard_adv
+    */
+    var $session_id='';
+    
+    /**
+    * @var int minimalna kwota transakcji w groszach
+    */
+    var $min_amount="1";
+    
+    /**
+    * @var int maksymalna kwota transakcji w groszach
+    */
+    var $max_amount="4000";
+    
+    /* adres skryptu PolCradu */
+    var $urlpost="https://post.polcard.com.pl/cgi-bin/autoryzacja.cgi";
+        
+    /**
+    * Konstruktor
+    *
+    * \@global string $this->session_id numer sesji
+    */
+    function polcard() {
+        global $sess;
+        $this->session_id=$sess->id;
+        return(0);
+    } // end polcard
+    
+    /**
+    * Zamien kwote na format dla PolCard tj. na kwote wyrazona w groszach
+    *
+    * @param real $price
+    * @return int kwota do zaplaty w groszach
+    */
+    function price($price) {
+        $price=number_format($price,2,".","");
+        return intval($price*100);
+    } // end
+    
+    /**
+    * Dodaj element hidden w formularzu
+    *
+    * @param string  $name nazwa pola formularza
+    * @return string kod HTML
+    */
+    function add_hidden($name) {
+        $value=$this->$name;
+        return "<input type=hidden name=$name value='$value'>\n";
+    } // end add_hidden()
+    
+    /**
+    * Funkcja wyswietla formularz HTML z elementami wymaganymi prez IOO-ePay
+    */
+    function form() {
+        global $config;
+        global $lang;
+        
+        // sprawdz czy nie przekroczono maksymalnej kwoty transakcji karta
+        if ($this->amount>($this->max_amount*100)) {
+            $o=" <font color=red>$lang->polcard_amount_max_error
+    		 $this->max_amount $config->currency</font>";
+            return $o;
+        }
+        
+        // sprawdz czy nie przekroczono minimalnej kwoty transakcji karta
+        if ($this->amount<($this->min_amount*100)) {
+            $o=" <font color=red>$lang->polcard_amount_min_error
+		     $this->min_amount PLN</font>";
+            return $o;
+        }
+        
+        $o="";
+        $o="<form action=$this->urlpost method=post>\n";
+        $o.=$this->add_hidden("order_id");
+        $o.=$this->add_hidden("pos_id");
+        $o.=$this->add_hidden("amount");
+        $o.=$this->add_hidden("language");
+        $o.=$this->add_hidden("email");
+        $o.=$this->add_hidden("test");
+        $o.=$this->add_hidden("client_ip");
+        $o.=$this->add_hidden("street");
+        $o.=$this->add_hidden("street_n1");
+        $o.=$this->add_hidden("street_n2");
+        $o.=$this->add_hidden("phone");
+        $o.=$this->add_hidden("city");
+        $o.=$this->add_hidden("postcode");
+        $o.=$this->add_hidden("country");
+        if (in_array("polcard_adv",$config->plugins)) {
+            $o.=$this->add_hidden("session_id");
+        }
+        $o.='<input type=submit value="'.$lang->register_polcard_order.'">';
+        $o.="</form>";
+        
+        return $o;
+    } // end form()
+    
+} // end PolCard class
+
+?>
diff -ruN ../soteesklep3/htdocs/plugins/_pay/_przelewy24/confirm_check.php soteesklep3/htdocs/plugins/_pay/_przelewy24/confirm_check.php
--- ../soteesklep3/htdocs/plugins/_pay/_przelewy24/confirm_check.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/htdocs/plugins/_pay/_przelewy24/confirm_check.php	2006-08-23 17:36:45.000000000 +0200
@@ -0,0 +1,148 @@
+<?php
+/**
+* Przekierowanie z systemu przelewy24 po autoryzacji.
+* Strona oczekuj±ca na otrzymanie potwierdzenia z przelewy24.pl statusu zamówienia.
+*
+* @author m@sote.pl
+* @version $Id: confirm_check.php,v 1.8 2006/02/15 09:49:01 lukasz Exp $
+* @package przelewy24
+*/
+
+$global_database=true;
+$global_secure_test=true;
+$DOCUMENT_ROOT=$HTTP_SERVER_VARS['DOCUMENT_ROOT'];
+
+
+/**
+* Nag³ówek skryptu.
+*/
+require_once ("../../../../include/head.inc");
+
+// zmiana zmiennej przekazuj±cej sesjê
+/*
+if ((empty($_REQUEST['sess_id'])) && (! empty($_POST['p24_session_id']))) {
+if ($config->ssl=="yes") $protocol="https";
+else $protocol="http";
+header ("Location:  $protocol://".$_SERVER['HTTP_HOST']."/plugins/_pay/_przelewy24/confirm_check.php?sess_id=".$_POST['p24_session_id'].
+"&p24_order_id=".$_POST['p24_order_id']."&p24_kwota=".$_POST['p24_kwota']."&p24_session_id=".$_POST['p24_session_id']);
+exit;
+}
+*/
+
+define ("P24_CONFIRM_RESPONSE_TRUE",1);
+define ("P24_CONFIRM_RESPONSE_FALSE",-1);
+define ("P24_CONFIRM_RESPONSE_UNKNOWN",-2);
+define ("P24_CONFIRM_AUTH_TRUE",1);
+define ("P24_CONFIRM_AUTH_FALSE",-1);
+define ("P24_CONFIRM_AUTH_UNKNOWN",-2);
+define ("P24_CONFIRM_AUTH_FALSE_PARAM",-3);
+
+// naglowek
+$theme->head();
+$theme->page_open_head("page_open_1_head");
+
+/**
+* Biblioteka obs³uguj±ca po³±czenia HTTPS/SSL
+*/
+require_once ("HTTP/Request.php");
+
+$req =& new HTTP_Request(URL_SSL);
+$req->setMethod(HTTP_REQUEST_METHOD_POST);
+if ((! empty($_REQUEST['p24_session_id'])) && (! empty($_REQUEST['p24_order_id']))) {
+    $req->addPostData("p24_session_id",$_REQUEST['p24_session_id']);
+    $req->addPostData("p24_order_id",$_REQUEST['p24_order_id']);
+    $req->addPostData("p24_id_sprzedawcy",$przelewy24_config->posid);
+    /*
+    print "p24_session_id=".$_REQUEST['p24_session_id']."<br>";
+    print "p24_order_id=".$_REQUEST['p24_order_id']."<br>";
+    print "p24_id_sprzedawcy=".$przelewy24_config->posid."<br>";
+    */
+    $res = $req->sendRequest();
+    if (PEAR::isError($res)) {
+        die($res->getMessage());
+    }
+
+    $response1 = $req->getResponseBody();
+    $response2 = $req->getResponseHeader("Content-Length");
+
+    /**
+    * Obs³uga P24.
+    */ 
+    require_once("./include/przelewy24.inc.php");
+    $p24 =& new Przelewy24();
+
+    if (ereg("TRUE",$response1)) {
+    		global $mdbd;
+    		global $db;
+//    		$db->debug=1;
+    		
+    		$p24_session=$_REQUEST['p24_session_id'];
+    		$query="SELECT order_id FROM order_register WHERE session_id='$p24_session' LIMIT 1";
+    		$result=$db->Query($query);
+    		if ($result!=0) {
+    		   $order_id=$db->FetchResult($result,0,'order_id');
+    		}
+    		if (!empty($order_id)) {
+    		    if (empty($_SESSION['order_id']));
+    			$session=$mdbd->select('data','order_session',"order_id='$order_id'");
+    			if (!empty($session)) {
+    			    $global_id_pay_method = $_SESSION['global_id_pay_method'];
+    				$_SESSION=unserialize($session);
+    				// zapalamy flage
+    				$session_restored=true;
+    			}
+    		}
+        // transakcja zosta³a potwierdzona
+        if ($p24->confirm($_REQUEST['p24_order_id'],$_REQUEST['p24_session_id'],$_REQUEST['p24_kwota'])) {        
+            $p24->saveData($_REQUEST['p24_order_id'],$_REQUEST['p24_session_id'],$_REQUEST['p24_kwota'],P24_CONFIRM_RESPONSE_TRUE,P24_CONFIRM_AUTH_TRUE);
+        } else {
+            // odmowa autoryzacji ze strony skryptu potwierdzajacego kwote itp.
+            $p24->saveData($_REQUEST['p24_order_id'],$_REQUEST['p24_session_id'],$_REQUEST['p24_kwota'],P24_CONFIRM_RESPONSE_TRUE,P24_CONFIRM_AUTH_FALSE);            
+            
+            global $db;
+            $query="UPDATE order_register SET (pay_status='1251') WHERE order_id='".$p24->order_id."' AND session_id='".$_REQUEST['p24_session_id']."' LIMIT 1";
+            $db->Query($query);
+            // nadaj transakcji odpowiedni status w tablicy order_register pay_status
+//            $mdbd->update("order_register","pay_status=?","order_id=? AND session_id=?",
+//            array (
+//            "1251"=>"int",
+//            $p24->order_id=>"int",
+//            $_REQUEST['p24_session_id']=>"text"
+//            ),"LIMIT 1");                        
+            
+        }
+
+	    $response1 = $req->getResponseBody();
+	    $response2 = $req->getResponseHeader("Content-Length");
+        // Je¶li odebrano wynik poprawnej autoryzacji z p24, to zawsze wy¶wietlaj informacje o popranie
+        // zakoñczonej transakcji. Je¶li wynik wewnêtrznej weryfikacji danych siê nie zgadza, to wcze¶niej
+        // jest to odpowiednio odnotowywane w bazie danych.
+        
+        /**
+        * Wy¶lij zamówienie, wy¶wietl kody (opcjonalnie) itp. Zakoñczenie zamówienia. 
+        * Wy¶wietl komuniakt klientowi i podziêkowanie za dokonanie zakupów.
+        */
+        require_once("confirm.php");
+        exit;
+        
+    } else {
+        // P24:response !=TRUE -> FALSE        
+        // odmowa autoryzacji ze strony systemu przelewy24 (przelew nie potwierdzony)        
+        $p24->saveData($_REQUEST['p24_order_id'],$_REQUEST['p24_session_id'],$_REQUEST['p24_kwota'],P24_CONFIRM_RESPONSE_FALSE,P24_CONFIRM_AUTH_UNKNOWN);
+                
+        $theme->bar($lang->przelewy24_title);
+        include_once ("plugins/_pay/_przelewy24/html/przelewy24_error.html.php");
+    }
+} else {
+    // odmowa autoryzacji, brak odpowiednich parametrów w wywo³aniu strony
+    $p24->saveData($_REQUEST['p24_order_id'],$_REQUEST['p24_session_id'],$_REQUEST['p24_kwota'],P24_CONFIRM_RESPONSE_UNKNOWN,P24_CONFIRM_AUTH_FALSE_PARAM);
+    $theme->bar($lang->przelewy24_title);
+    include_once ("plugins/_pay/_przelewy24/html/przelewy24_error.html.php");
+}
+
+$theme->page_open_foot("page_open_1_foot");
+
+// stopka
+$theme->foot();
+include_once ("include/foot.inc");
+?>
diff -ruN ../soteesklep3/htdocs/plugins/_pay/_przelewy24/confirm.php soteesklep3/htdocs/plugins/_pay/_przelewy24/confirm.php
--- ../soteesklep3/htdocs/plugins/_pay/_przelewy24/confirm.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/htdocs/plugins/_pay/_przelewy24/confirm.php	2006-08-23 17:22:38.000000000 +0200
@@ -0,0 +1,48 @@
+<?php
+/**
+* Wyslanie zamowienia platnosc z Przelewy24.pl. Wyslanie zamowienia            
+* na konto e-mail + potwierdzenie dla klienta                          
+*
+* \@session string $global_lock_send zapamietanie informacji, ze zamowienie zostalo juz wyslane
+*
+* @author m@sote.pl
+* @version $Id: confirm.php,v 1.5 2006/02/15 09:49:01 lukasz Exp $
+* @package przelewy24
+*/
+
+$global_database=true;
+$global_secure_test=true;
+$DOCUMENT_ROOT=$HTTP_SERVER_VARS['DOCUMENT_ROOT'];
+/**
+* Nag³ówek skryptu.
+*/
+require_once ("../../../../include/head.inc");
+// wyslij mailem zamowienie
+include_once("$DOCUMENT_ROOT/go/_register/include/send_order.inc.php");
+
+// naglowek
+$theme->head();
+$theme->page_open_head("page_open_1_head");
+
+if ($confirm==true) {
+    // zapamietaj, ¿e zosta³o wywolane wyslanie zamowienia, pozwoli to na zabronienie
+    // ponownego wyslanie tego samego zamowienia
+    $global_lock_send=true;
+    $global_lock_basket=false;
+    $global_lock_register=false;
+    $sess->register("global_lock_send",$global_lock_send);
+    $sess->register("global_lock_basket",$global_lock_basket);
+    $sess->register("global_lock_register",$global_lock_register);
+    
+    // wyswietl informacje o wyslaniu zamowienia
+    $theme->send_confirm();
+} else {
+    $theme->send_error();
+}
+
+$theme->page_open_foot("page_open_1_foot");
+
+// stopka
+$theme->foot();
+include_once ("include/foot.inc");
+?>
\ No newline at end of file
diff -ruN ../soteesklep3/htdocs/themes/base/base_theme/_ecard/ecard_before.html.php soteesklep3/htdocs/themes/base/base_theme/_ecard/ecard_before.html.php
--- ../soteesklep3/htdocs/themes/base/base_theme/_ecard/ecard_before.html.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/htdocs/themes/base/base_theme/_ecard/ecard_before.html.php	2006-08-23 16:59:21.000000000 +0200
@@ -0,0 +1,49 @@
+<?php
+/**
+* @version    $Id: ecard_before.html.php,v 2.4 2005/11/30 10:50:04 scalak Exp $
+* @package    ecard
+*/
+?>
+<center>
+<p>
+<div align=left><?php $this->button($lang->foot_main_page,"/","300");?></div>
+<br />
+
+<table align=center width=400>
+<tr>
+<td width=70%>
+<?php echo $lang->bar_title['ecard'] ?>.
+<br />
+<?php echo $lang->register_ecard_cards ?>
+<p>
+
+
+<p>
+</td>
+<td width=30%>
+  
+  <table align=center>
+  <tr>
+  <td width=50%>
+     <img src=/themes/base/base_theme/_ecard/_img/ecard.gif>
+  </td>
+  <td>
+     <img src=/themes/base/base_theme/_ecard/_img/ecard-euro_mc.gif> <p>
+     <img src=/themes/base/base_theme/_ecard/_img/ecard-visa.gif>
+     
+  </td>
+  </tr>
+  </table>
+  
+</td>
+</tr>
+</table>
+
+<?php 
+global $ecard;
+if (! empty($ecard)) {
+    print $ecard->form();
+}
+?>
+<p>
+</center>
diff -ruN ../soteesklep3/htdocs/themes/base/base_theme/_ecard/ecard_false.html.php soteesklep3/htdocs/themes/base/base_theme/_ecard/ecard_false.html.php
--- ../soteesklep3/htdocs/themes/base/base_theme/_ecard/ecard_false.html.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/htdocs/themes/base/base_theme/_ecard/ecard_false.html.php	2006-08-23 16:59:21.000000000 +0200
@@ -0,0 +1,16 @@
+<?php
+/**
+* @version    $Id: ecard_false.html.php,v 2.2 2004/12/20 18:02:25 maroslaw Exp $
+* @package    ecard
+*/
+?>
+<p>
+
+<center>
+Brak potwierdzenia autoryzacji:(
+<form action="/go/_register/register2.php" method="get">
+<p><input type="submit" value="<?php echo $lang->change_pay_method ?>" /></p>
+</form>
+</center>
+
+
diff -ruN ../soteesklep3/htdocs/themes/base/base_theme/info.html.php soteesklep3/htdocs/themes/base/base_theme/info.html.php
--- ../soteesklep3/htdocs/themes/base/base_theme/info.html.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/htdocs/themes/base/base_theme/info.html.php	2006-08-23 16:59:21.000000000 +0200
@@ -0,0 +1,394 @@
+<?php
+/**
+* Szablon PHP wygl±du rekordu w pe³nej prezentacji produktu - info.
+*
+* @author  m@sote.pl
+* @version $Id: info.html.php,v 2.63 2006/08/16 10:41:11 lukasz Exp $
+* @package    themes
+* @subpackage base_theme
+*/
+
+// XHTML Id: info.html.php,v 2.12 2003/10/15 12:20:10 maroslaw Exp
+
+global $config, $prefix,$wp_config;
+global $description;
+global $available;
+global $DOCUMENT_ROOT;
+global $shop;
+global $theme;
+
+// odczytaj plugins
+// @todo dolaczanie dodatkowych klas wylaczyc z pliku html i przeniesc do pliku php
+if (in_array("in_category",$config->plugins)) {
+    include_once ("plugins/_info/_in_category/include/in_category.inc.php");
+}
+if (in_array("accessories",$config->plugins)) {
+    include_once ("plugins/_info/_accessories/include/accessories.inc.php");
+}
+if (in_array("pasaz.wp.pl",$config->plugins)) {
+	include_once ("config/auto_config/wp_config.inc.php");
+}
+
+include_once ("plugins/_info/_ranking/include/ranking.inc.php");
+
+?> 
+<center>
+  <?php
+  $this->bar($rec->data['name']);
+  ?>
+  <table width="100%" border="0" cellspacing="0" cellpadding="0" align="center" bgcolor="<?php print $config->theme_config['colors']['box_background'];?>">
+    <tr> 
+      <td width="1" background="<?php $this->img($prefix . $config->theme_config['box']['img']['middle']['left']);?>"><img src="<?php $this->img($prefix . $config->theme_config['box']['img']['middle']['left']);?>"></td>
+      <td width="100%" valign="top" align="center">
+  		<table width="100%" border="0" cellspacing="0" cellpadding="0">          
+          <tr> 
+            
+            <td align="center" bgcolor="<?php print $config->colors['light'];?>" style="padding: 2px;"><?php print $lang->cols['name'];?></td>
+
+            <?php global $wp_config; 
+            // rejestracja w statystykach wp
+            if(!empty($wp_config->wp_shop_id) && $_SESSION['global_partner_id'] == 47474747) { ?>
+            
+            <img src="http://zakupy.wp.pl/stat_view.html?sid=<?php print $wp_config->wp_shop_id; ?>" width="1" height="1" border="0">
+            <?php } ?>
+            
+            <?php 
+            // wy¶wietlaj cenne brutto tylko wtedy gdy hidden price=0
+            if (($rec->data['hidden_price']==0) && ($rec->data['ask4price']==0)) {
+            ?>	
+            <td align="center" bgcolor="<?php print $config->colors['light'];?>" style="padding: 2px;">
+            <?php 
+            //if ($this->checkView("price",$rec)) print $lang->cols['price_brutto'];
+            if ($this->checkView("points",$rec)) print $this->info_points(); else 
+            if ($this->checkView("price",$rec)) print $this->info_price();
+            
+            ?>
+            </td>
+            <?php 
+            }
+            ?>
+            
+            <?php
+            //stara cena
+            //wyswietlaj tylko wted kiedy stara cena jest wprowadzona i nie ma rabatu
+            if (($rec->data['price_brutto_detal']>0) && ($rec->data['base_discount']==0)){
+             ?>	
+            <td align="center" bgcolor="<?php print $config->colors['light'];?>" style="padding: 2px;">
+            	<?php 
+            	if ($this->checkView("price",$rec) && (!$this->checkView("points",$rec))) print $this->info_price();
+            	?>
+            </td>
+            <?php 
+            }
+             ?>
+            
+            <?php 
+            // rabat;
+            // wyswietalj tylko wtedy kiedy rabat jest wprowadzony
+            if ((!$this->checkView("points",$rec)) && (! empty($rec->data['base_discount']))  && ($rec->data['base_discount']>0) && ($rec->data['base_discount']<99)) {
+            ?>
+            <td align="center" bgcolor="<?php print $config->colors['light'];?>" style="padding: 2px;">
+            	<?php 
+            	if ($this->checkView("discount",$rec)) print @$lang->cols['discount'];
+            	?>
+            </td>
+            <?php
+            }
+            ?>
+            
+          </tr>
+          <tr> 
+            <td width="100%" align="center" colspan="100%" bgcolor="#536083"><img src="<?php $this->img("_img/mask.gif");?>" width="1" height="1"></td>
+          </tr>
+          <tr> 
+           
+            <td align="center"> 
+              <?php print $rec->data['name'];?>
+            </td>
+            
+            <?php             
+            //wy¶wietlaj cene brutto tylko wtedy gdy hidden price=0
+            if (($rec->data['hidden_price']==0) && ($rec->data['ask4price']==0)) {
+            ?>
+            <td align="center"> <B><CENTER>
+              <?php
+              // start cena:
+              // sprawdz, czy w opcjach sa atrybuty zmiany cen
+              if ($this->checkView("points",$rec)) {
+				print $rec->data['points_value'];
+              } else if ($this->checkView("price",$rec)) {
+                  //$price=$rec->data['price_brutto']." ".$shop->currency->currency;
+                  print $price=$this->print_price($rec)." ".$shop->currency->currency;
+              }
+              // end cena:
+             ?>
+              </B> </CENTER></td>
+            <?php 
+            }
+            ?>
+             <?php
+             //stara cena
+             //wyswietlaj tylko wted kiedy stara cena jest wprowadzona i nie ma rabatu
+             if ((!$this->checkView("points",$rec)) && ($rec->data['price_brutto_detal']>0)&& ($rec->data['base_discount']==0)){
+             ?>	
+            <td align="center">
+            <?php 
+            if ($this->checkView("price",$rec)) print"<font color=red><strike>".$rec->data['price_brutto_detal']."</strike>&nbsp;</font>".$shop->currency->currency."\n";
+            ?>
+            </td>
+              <?php
+             }
+             ?>
+            
+            
+            <?php
+            // rabat;
+            // wyswietalj tylko wtedy kiedy rabat jest wprowadzony
+            if ((!$this->checkView("points",$rec)) && (! empty($rec->data['base_discount']))  && ($rec->data['base_discount']>0) && ($rec->data['base_discount']<99)) {
+            ?>
+            <td align="center">
+            	<?php 
+            	if ($this->checkView("discount",$rec)) print $rec->data['base_discount']."%\n";
+            	?>
+            </td> 
+            <?php
+            }
+            ?>
+            
+            </tr>
+          <tr> 
+            <td width="100%" align="center" colspan="100%" bgcolor="#536083"><img src="<?php $this->img("_img/mask.gif");?>" width="1" height="1"></td>
+          </tr>
+        </table>
+        <br>
+        <table width="100%" border="0" cellspacing="0" cellpadding="0">
+          <tr> 
+            <td width="318" style="padding: 8px;" valign="top" align="left"> 
+              <!-- Opis produktu -->
+              <?php
+              //wyswietlenie producenta jesli istnieje
+              if (!empty($rec->data['producer'])){
+                  print $lang->cols['producer'].":&nbsp;".LangF::translate($rec->data['producer'])."<BR><BR>";
+              }
+              if ($config->show_user_id==1){
+                  print "<b>".$lang->basket_products_extra['user_id'].":</b> ".$rec->data['user_id']."<br><br>";
+                  }
+              ?>
+              <?php               
+              // sprawdz czy istnieje plik HTML np. A001.html.php
+              // @todo przeniesc do funkcji w temacie
+              $file=$rec->data['user_id'];
+              $file=ereg_replace(" ","_",$file);
+              $file.=".html.php";
+              $file_path="$DOCUMENT_ROOT/products/$file";
+              if (file_exists($file_path)) {
+                  $check_info=1;
+              } else $check_info=0;
+              // przekaz zmienna globalna do pliku menu.inc.php
+              $__check_info=$check_info;
+              print $rec->data['xml_description']; //description pelen opis
+              // end
+              ?>			
+              <?php 
+              // start dodatkowy link
+               if ((! empty($rec->data['link_url'])) && ($rec->data['link_name'])) {
+               print "<BR><BR>";
+               print $lang->see_link.":<BR>";
+               print "<a target=\"_blank\" href=\"http://".$rec->data['link_url']."\">".$rec->data['link_name']."</a>";
+               } 
+              // end dodatkowy link
+              ?>											
+            </td>
+            <td width="250" align="center" valign="top" style="padding: 8px 0px;"> 
+              
+              <!-- start zdjecie produktu: -->
+              <?php $image->show($rec->data['photo'],"no");?>
+              <br>
+              <?php $image->_show_max_Photo($rec->data['photo'],$lang->desc_max_photo);?>
+              <!-- end zdjecie produktu:-->
+              
+              <!-- start Flash: -->              
+              <?php print "\n\n".$rec->data['flash_html']."\n\n";?>
+              <!-- end Flash: -->
+              
+              <!-- start PDF: -->
+              <?php
+              // @todo przeniesc wywolanie pdf do funkcji w temacie
+              if ((! empty($rec->data['pdf'])) && file_exists("$DOCUMENT_ROOT/photo/_pdf/".$rec->data['pdf'])) {
+                  print "<br>";
+                  print "$lang->info_pdf <a href=".$config->url_prefix."/photo/_pdf/".$rec->data['pdf'].">"."<img src=";
+                  $this->img("_img/_icons/pdf.gif");
+                  print " border=0 align=center></a>";
+                  print "</br>";
+              }
+              ?>
+              <!-- end PDF: -->
+              <!-- start DOC: -->
+                 <?php
+              // @todo przeniesc wywolanie pdf do funkcji w temacie
+              if ((! empty($rec->data['doc'])) && file_exists("$DOCUMENT_ROOT/photo/_doc/".$rec->data['doc'])) {
+                  print "<br>";
+                  print "$lang->info_doc <a href=".$config->url_prefix."/photo/_doc/".$rec->data['doc'].">"."<img src=";
+                  $this->img("_img/_icons/doc.gif");
+                  print " border=0 align=center></a>";
+                  print "</br>";
+              }
+              ?>
+              <!-- end DOC: -->
+              <table width="250" border="0" cellspacing="0" cellpadding="0">
+                <tr> 
+                  <td width="250" align="center" colspan="4">
+                   <?php 
+                  if ($rec->data['id_available']!=0){
+                  print $lang->available."<b><nobr> ".$available->get($rec->data['id_available'],$rec,"string")."</b></nobr>";
+                  }
+                  ?>                
+                  </td>
+                </tr>
+              </table>
+            </td>
+          </tr>
+        </table>
+        <table width="100%" border="0" cellspacing="0" cellpadding="0">
+          <tr> 
+            <td align="center">
+												<!-- Koszyk -->
+              <table width="100%" border="0" cellspacing="0" cellpadding="0">
+                <tr> 
+                  <td align="center">
+			         
+                    <table border="0" cellspacing="0" cellpadding="0" align="center">
+					<tr valign="baseline">
+					  <td align="left">
+					  <?php
+					  // wy¶wietl koszyk + opcje, je¶li s± dostêpne
+					  $this->recBasket($rec->data['id'],$rec);
+				      ?>
+                      </td>
+					  <td align="left" style="padding-left: 10px">
+					  <?php
+					  // wy¶wietl koszyk + opcje, je¶li s± dostêpne
+					  $this->recWishlist($rec->data['id'],$rec);
+				      ?>
+                      </td>
+                      <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
+                      <td>
+                      <?php $this->print_page('/go/_info/print.php?id=' . $rec->data['id']);?>
+                      </td>
+                    </tr>
+                    </table>
+                  </td>
+                </tr>
+              </table>  
+
+              <br />   
+                <?php ?>
+              <?php
+              // @todo przeniesc do funckji w temacie, polec produkt itp.
+              if ($config->cd!=1) {
+                  
+                  // polec produkt
+                  
+                  $user_id=$rec->data['user_id'];
+                  $product=urlencode($rec->data['name']);
+                  $onclick=$this->onclick("360","230");
+                  $recommend_url="\"/plugins/_recommend/?id=$user_id&product=$product\" $onclick target=\"window\"";
+                  print "<a href=$recommend_url>$lang->info_recommend_product</a>";
+                  print "&nbsp;&#183;&nbsp;";
+                  // ocen produkt
+                  $onclick=$this->onclick("440","320");
+                  $id=$rec->data['id'];
+                  $score_link="\"/plugins/_reviews/add.php?id=$id&user_id=$user_id&product=$product\" $onclick target=\"window\"";
+                  print "<a href=$score_link>$lang->info_score</a>";
+                  print "&nbsp;"; // spacja pomiedzy info a wynikiem
+                  if(isset($rec->data['user_score'])){
+                      $this->user_score($rec->data['user_score'],"star.gif");
+                  }
+                  print "&nbsp;&nbsp;&nbsp;";
+              } // end plugin cd:
+              ?>
+              
+              <br /><br />
+              
+            </td>
+          </tr>
+        </table>        
+      </td>
+      <td width="1" background="<?php $this->img($prefix . $config->theme_config['box']['img']['middle']['right']);?>"><img src="<?php $this->img($prefix . $config->theme_config['box']['img']['middle']['right']);?>"></td>
+    </tr>
+  </table>
+  <table width="100%" border="0" cellspacing="0" cellpadding="0" align="center">
+    <tr> 
+      <td width="1" background="<?php $this->img($prefix . $config->theme_config['box']['img']['bottom']['left']);?>"><img src="<?php $this->img($prefix . $config->theme_config['box']['img']['bottom']['left']);?>"></td>
+      <td width="100%" background="<?php $this->img($prefix . $config->theme_config['box']['img']['bottom']['center']);?>"><img src="<?php $this->img($prefix . $config->theme_config['box']['img']['bottom']['center']);?>"></td>
+      <td width="1" background="<?php $this->img($prefix . $config->theme_config['box']['img']['bottom']['right']);?>"><img src="<?php $this->img($prefix . $config->theme_config['box']['img']['bottom']['right']);?>"></td>
+    </tr>
+  </table>
+</center>
+<br />
+<?php 
+// start plugin cd:
+if (in_array("reviews",$config->plugins)) 
+{
+?>
+<center>
+<table width="570" border="0" cellspacing="0" cellpadding="0" align="center">
+  <tr> 
+    <td width="570" align="center">
+      <?php      
+	  if (($config->ranking1_enabled == 1) && ($ranking->check_product_in_ranking($rec))) {
+//	  if (1) {
+	      $this->win_top($lang->ranking_title,570,1,1);
+	      include ("./include/ranking.inc.php");
+	      $this->win_bottom(570);
+	      echo "<br>";
+	  }
+      // @todo cale ponizsze wywolanie przeniesc do funkcji (menu z linkami pod info)
+      /**
+      * pokaz buttony dla plugin'u jesli nie to pokaz link tekstowy
+      * Inne produkty, Recenzje, itp;
+      */
+      include ("./include/menu.inc.php");
+
+
+      
+      /* obsluga zakladek w zaleznosci od klikniecia
+      *  gdy $__item=1 - inne produkty z tej samej kategorii
+      *  $__item=2 - akcesoria do produktow
+      *  $__item=3 - pelny opis produktu (zalaczony plik html)
+      *  $__item=4 - recenzje do produktu
+      */
+      $secure_test=true;
+      @$__id=$_REQUEST['id'];
+      @$__item=$_REQUEST['item'];
+      switch ($__item){
+          case 1:
+          $bar_title=$lang->in_category;
+          break;
+          case 2:
+          $bar_title=$lang->accessories;
+          break;
+          case 3:
+          $bar_title=$lang->full_description;
+          break;
+          case 4:
+          $bar_title=$lang->write_up;
+          break;
+          default:
+          $bar_title=$lang->in_category;
+      }
+      $this->win_top($bar_title,570,1,1);
+      include ("./include/choose_item.inc.php");
+      $this->win_bottom(570);
+      // koniec obsluga zakladek
+      ?>
+    </td>
+  </tr>
+</table>
+
+</center>
+<?php
+}
+// end plugin cd:
+?>
+<!-- end dodatkowe menu na dole: -->
diff -ruN ../soteesklep3/htdocs/themes/base/base_theme/_promotions/promotions_auth_true.html.php soteesklep3/htdocs/themes/base/base_theme/_promotions/promotions_auth_true.html.php
--- ../soteesklep3/htdocs/themes/base/base_theme/_promotions/promotions_auth_true.html.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/htdocs/themes/base/base_theme/_promotions/promotions_auth_true.html.php	2006-08-23 16:59:23.000000000 +0200
@@ -0,0 +1,19 @@
+<?php
+/**
+* @version    $Id: promotions_auth_true.html.php,v 1.4 2006/08/16 10:41:22 lukasz Exp $
+* @package    promotions
+*/
+?>
+<p>
+<?php print $lang->promotions_auth_true;?>
+<p>
+
+<?php
+global $shop;
+$shop->basket();
+if (! $shop->basket->isEmpty()) {
+    $form = new HTML_Form("/go/_basket/","POST");
+    $form->addSubmit("",$lang->promotions_go2basket);
+    $form->display();
+}
+?>
diff -ruN ../soteesklep3/htdocs/themes/base/base_theme/register_confirm.html.php soteesklep3/htdocs/themes/base/base_theme/register_confirm.html.php
--- ../soteesklep3/htdocs/themes/base/base_theme/register_confirm.html.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/htdocs/themes/base/base_theme/register_confirm.html.php	2006-08-23 16:59:21.000000000 +0200
@@ -0,0 +1,152 @@
+<?php
+/**
+* @version    $Id: register_confirm.html.php,v 2.10 2006/08/16 11:59:03 lukasz Exp $
+* @package    themes
+* @subpackage base_theme
+*/
+    print "<center>\n";
+    print "  <table align=\"center\" border=\"0\">\n";
+    print "    <tr>\n";
+    print "      <td valign=\"top\" align=\"center\">\n";
+    
+if ((! empty($form_cor['name'])) && (@$form['cor_addr']=="yes")) {
+    print "<center><b>".$lang->register_bil_cor_data."</b></center><br />";    
+} else {   
+    print "<b>".$lang->register_bil_data."</b><br /><br />";
+}
+?>
+<table border="0" cellspacing="0" cellpadding="0" align="center">  
+  <?php
+if (! empty($form['firm'])) {
+?>
+  <tr> 
+    <td align="right"><?php print $lang->form_name['firm'];?>:</td>
+    <td>&nbsp;&nbsp;&nbsp;</td>
+    <td align="left"><?php print $form['firm'];?></td>
+  </tr>
+  <?php
+} // end if
+?>
+  <tr> 
+    <td align="right"><?php print $lang->form_name['name']." i  ".$lang->form_name['surname'];?>:</td>
+    <td>&nbsp;&nbsp;&nbsp;</td>
+    <td align="left"><?php print $form['name']." ".$form['surname'];?></td>
+  </tr>
+  <tr> 
+    <td align="right"><?php print $lang->form_name['street'];?>:</td>
+    <td>&nbsp;&nbsp;&nbsp;</td>
+    <td align="left"><?php
+      print $form['street']." ".$form['street_n1'];
+      if (! empty($form['street_n2'])) {
+        print "/".$form['street_n2']; 
+      }
+      ?></td>
+  </tr>
+  <tr> 
+    <td align="right"><?php print $lang->form_name['postcode'].", ".$lang->form_name['city'];?>:</td>
+    <td>&nbsp;&nbsp;&nbsp;</td>
+    <td align="left"><?php print $form['postcode']." ".$form['city'];?></td>
+  </tr>
+  <tr> 
+    <td align="right"><?php print $lang->form_name['country'];?>:</td>
+    <td>&nbsp;&nbsp;&nbsp;</td>
+    <td align="left"><?php print $lang->country[$form['country']];?></td>
+  </tr>
+  <tr> 
+    <td align="right"><?php print $lang->form_name['phone'];?>:</td>
+    <td>&nbsp;&nbsp;&nbsp;</td>
+    <td align="left"><?php print $form['phone'];?></td>
+  </tr>
+  <tr> 
+    <td align="right"><?php print $lang->form_name['email'];?>:</td>
+    <td>&nbsp;&nbsp;&nbsp;</td>
+    <td align="left"><?php print $form['email'];?></td>
+  </tr>
+  <?php
+  if (! empty($form['nip'])) {
+?>
+  <tr> 
+    <td align="right"><?php print $lang->form_name['nip'];?>:</td>
+    <td>&nbsp;&nbsp;&nbsp;</td>
+    <td align="left"><?php print $form['nip'];?></td>
+  </tr>
+  <?php
+      }
+?>
+  <?php
+  if (! empty($form['description'])) {
+?>
+  <tr> 
+    <td align="right"><?php print $lang->form_name['description'];?>:</td>
+    <td>&nbsp;&nbsp;&nbsp;</td>
+    <td align="left"><?php print $form['description'];?></td>
+  </tr>
+  <?php
+      }
+?>
+</table>
+<?php
+print "</td>\n";
+// jesli wprowadzono odzielny adres korepsondencyjny, to wyswietl go
+if (!empty($form_cor['name']) && ($form['cor_addr']=="no")) {
+    print "    <td>&nbsp;&nbsp;&nbsp;</td>\n";
+    print "    <td valign=\"top\" align=\"center\">\n";
+    print "<b>".$lang->register_cor_address."</b><br /><br />";				
+?>
+<table border="0" cellspacing="0" cellpadding="0" align="center">
+  <?php
+if (!empty($form_cor['firm'])) {
+?>
+  <tr> 
+    <td align="right"><?php print $lang->form_name['firm'];?>:</td>
+    <td>&nbsp;&nbsp;&nbsp;</td>
+    <td align="left"><?php print $form_cor['firm'];?></td>
+  </tr>
+  <?php
+} // end if
+?>
+  <tr> 
+    <td align="right"><?php print $lang->form_name['name']." i  ".$lang->form_name['surname'];?>:</td>
+    <td>&nbsp;&nbsp;&nbsp;</td>
+    <td align="left"><?php print $form_cor['name']." ".$form_cor['surname'];?></td>
+  </tr>
+  <tr> 
+    <td align="right"><?php print $lang->form_name['street'];?>:</td>
+    <td>&nbsp;&nbsp;&nbsp;</td>
+    <td align="left"><?php
+    print $form_cor['street']." ".$form_cor['street_n1'];
+    if (! empty($form_cor['street_n2'])) {
+      print "/".$form_cor['street_n2']; 
+    }
+  ?></td>
+  </tr>  
+  <tr> 
+    <td align="right"><?php print $lang->form_name['postcode'].", ".$lang->form_name['city'];?>:</td>
+    <td>&nbsp;&nbsp;&nbsp;</td>
+    <td align="left"><?php print $form_cor['postcode']." ".$form_cor['city'];?></td>
+  </tr>
+  <tr> 
+    <td align="right"><?php print $lang->form_name['country'];?>:</td>
+    <td>&nbsp;&nbsp;&nbsp;</td>
+    <td align="left"><?php print $lang->country[$form_cor['country']];?></td>
+  </tr>
+  <tr> 
+    <td align="right"><?php print $lang->form_name['phone'];?>:</td>
+    <td>&nbsp;&nbsp;&nbsp;</td>
+    <td align="left"><?php print $form_cor['phone'];?></td>
+  </tr>
+  <tr> 
+    <td align="right"><?php print $lang->form_name['email'];?>:</td>
+    <td>&nbsp;&nbsp;&nbsp;</td>
+    <td align="left"><?php print $form_cor['email'];?></td>
+  </tr>
+</table>
+<?php
+print "  </td>\n";
+}
+print "    </tr>\n";
+print "  </table>\n";
+print "</center>\n";
+print "<br />\n";
+?>
+<!-- koniec adresu korespondencyjnego-->
diff -ruN ../soteesklep3/htdocs/themes/base/base_theme/register_pay_method.html.php soteesklep3/htdocs/themes/base/base_theme/register_pay_method.html.php
--- ../soteesklep3/htdocs/themes/base/base_theme/register_pay_method.html.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/htdocs/themes/base/base_theme/register_pay_method.html.php	2006-08-23 16:59:21.000000000 +0200
@@ -0,0 +1,204 @@
+ <?php
+/**
+* Wybór rodzaju p³atno¶ci, prezentacja linków do systemów p³atno¶ci + opis.
+*
+* @author  m@sote.pl
+* @version $Id: register_pay_method.html.php,v 2.27 2006/08/16 10:41:11 lukasz Exp $
+* @package    themes
+* @subpackage base_theme
+*/
+
+global $polcard_config, $config;
+@include_once ("config/auto_config/polcard_config.inc.php");
+global $przelewy24_config;
+@include_once ("config/auto_config/przelewy24_config.inc.php");
+global $ecard_config;
+@include_once ("config/auto_config/ecard_config.inc.php");
+global $paypal_config;
+@include_once ("config/auto_config/paypal_config.inc.php");
+global $platnosciPL_config;
+@include_once ("config/auto_config/platnoscipl_config.inc.php");
+global $cardpay_config;
+@include_once ("config/auto_config/cardpay_config.inc.php");
+global $allpay_config;
+@include_once ("config/auto_config/allpay_config.inc.php");
+
+$pay_method=@unserialize($_SESSION['global_delivery']['pay']);
+
+if(empty($pay_method)) {
+	$pay_method=$config->pay_method_active;
+}
+// jezeli koszta dostawy sa rowne zero i koszyk jest w trybie punktowym to jedyna dostepna metoda p³atno¶ci jest zaliczenie pocztowe
+global $global_delivery;
+if ($global_delivery['cost']=="0.00" && @$_SESSION['global_basket_data']['mode']=="points") {
+	$config->pay_method_active['1']="1";
+	$pay_method=array("1"=>"");
+}
+?> 
+
+
+<p> 
+<form action="register3.php" method="post">
+  <table align="center" border="0" width="50%">    
+    <?php
+    // czy aktywna p³atno¶æ przy odbiorze?
+    if($config->pay_method_active['1'] == 1 && array_key_exists("1",@$pay_method)) {        
+    ?> 
+    <tr>
+      <td align="center" nowrap> 
+        <?php print $lang->register_post_payment;?><p />
+       </td>
+       <td>
+        <input type=submit name=submit_post value='<?php print $lang->register_post_order;?>'>
+      </td>
+    </tr>     
+    <?php
+    };
+    ?> 
+    <?php
+    // czy aktywna p³atno¶æ przelewem?
+    if($config->pay_method_active['11'] == 1 && array_key_exists("11",@$pay_method)){
+    ?> 
+    <tr>
+      <td align="center" nowrap>
+        <?php print $lang->register_transfer_payment;?><br>
+      </td>
+      <td>    
+        <input type=submit name=submit_transfer value='<?php print $lang->register_transfer_order;?>'>
+      </td>
+    </tr>
+    <?php
+    };
+    ?> 
+    <?php
+      // aktywacja platnosci - system PolCard
+      if (@$polcard_config->active=="1" && array_key_exists("3",@$pay_method)) {
+          print "<tr>\n";
+          print "      <td align=\"center\">";
+          print $lang->register_polcard_payment;
+          if ($polcard_config->status!=1) {
+              print "<br />".$lang->pay_method_status_off;
+          }
+          print "</td>\n";
+          print "<td>\n";
+          print "<input type=submit name=submit_polcard value='$lang->register_polcard_order'>\n";
+          print "</td>\n";
+          print "</tr>\n";
+      }
+     ?>
+     
+      <?php
+      // aktywacja platnosci - system eCard
+      if (@$ecard_config->ecardActive=="1" && array_key_exists("2",@$pay_method)) {
+          print "<tr>\n";
+          print "      <td align=\"center\">";
+          print $lang->register_ecard_payment;
+          if ($ecard_config->ecardStatus!=1) {
+              print "<br />".$lang->pay_method_status_off;
+          }
+          print "</td/>\n";
+          print "<td>\n";
+          print "<input type=\"submit\" name=\"submit_ecard\" value=\"$lang->register_ecard_order\">";
+          print "</td>\n";
+          print "</tr>\n";
+      }
+      ?>
+      
+      <?php
+      // aktywacja platnosci - system Przelewy24
+      if (@$przelewy24_config->active=="1" && array_key_exists("12",@$pay_method)) {
+          print "<tr>\n";
+          print "      <td align=\"center\">";
+          print $lang->register_przelewy24_payment;
+          if ($przelewy24_config->status!=1) {
+              print "<br />".$lang->pay_method_status_off;
+          }
+          print "</td/>\n";
+          print "<td>\n";
+          print "<input type=\"submit\" name=\"submit_przelewy24\" value=\"$lang->register_przelewy24_order\">";
+          print "</td>\n";
+          print "</tr>\n";
+      }
+      ?>
+
+      <?php
+      // aktywacja platnosci - system PayPal
+      if (@$paypal_config->payPalActive=="1" && array_key_exists("101",@$pay_method)) {
+          print "<tr>\n";
+          print "      <td align=\"center\">";
+          print $lang->register_paypal_payment;
+          if ($paypal_config->payPalStatus!=1) {
+              print "<br />".$lang->pay_method_status_off;
+          }
+          print "</td/>\n";
+          print "<td>\n";
+          print "<input type=\"submit\" name=\"submit_paypal\" value=\"$lang->register_paypal_order\">";
+          print "</td>\n";
+          print "</tr>\n";
+      }
+      ?>
+      <?php
+      // aktywacja platnosci - system PlatnosciPL
+      if (@$platnoscipl_config->active=="1" && array_key_exists("20",@$pay_method)) {
+          print "<tr>\n";
+          print "      <td align=\"center\">";
+          print $lang->register_platnoscipl_payment;
+          /*
+          if ($platnoscipl_config->status!=1) {
+              print "<br />".$lang->pay_method_status_off;
+          }
+          */
+          print "</td/>\n";
+          print "<td>\n";
+          print "<input type=\"submit\" name=\"submit_platnoscipl\" value=\"$lang->register_platnoscipl_order\">";
+          print "</td>\n";
+          print "</tr>\n";
+      }
+      ?>
+      <?php
+      // aktywacja platnosci SMS poprzez Platnosci.PL
+      if (@$platnoscipl_config->active=="1" && array_key_exists("20",@$pay_method) && @$platnoscipl_config->sms=="1") {
+          print "<tr>\n";
+          print "      <td align=\"center\">";
+          print $lang->register_platnoscipl_payment;
+          /*
+          if ($platnoscipl_config->status!=1) {
+              print "<br />".$lang->pay_method_status_off;
+          }*/
+          print "</td/>\n";
+          print "<td>\n";
+          print "<input type=\"hidden\" name=\"sms\" value=1>"; 
+          print "<input type=\"submit\" name=\"submit_platnoscipl\" value=\"$lang->register_platnoscipl_sms\">";
+          print "</td>\n";
+          print "</tr>\n";
+      }
+      ?>
+      <?php
+      // aktywacja platnosci - p³atno¶æ kart±
+      if (array_key_exists("110",@$pay_method) && @$cardpay_config->active && $config->ssl) {
+          print "<tr>\n";
+          print "      <td align=\"center\">";
+          print $lang->register_cardpay_payment;
+          print "</td/>\n";
+          print "<td>\n";
+          print "<input type=\"submit\" name=\"submit_cardpay\" value=\"$lang->register_cardpay_order\">";
+          print "</td>\n";
+          print "</tr>\n";
+      }
+      ?>
+            <?php
+      // aktywacja platnosci - system Allpay
+      if ((@$allpay_config->allpay_active=='1') && array_key_exists("21",@$pay_method))  {
+          print "<tr>\n";
+          print "      <td align=\"center\">";
+          print $lang->register_allpay_payment;
+          print "</td/>\n";
+          print "<td>\n";
+          print "<input type=\"submit\" name=\"submit_allpay\" value=\"$lang->register_allpay_order\">";
+          print "</td>\n";
+          print "</tr>\n";
+      }
+      ?>
+    </tr>    
+  </table>
+</form>
diff -ruN ../soteesklep3/htdocs/themes/theme.inc.php soteesklep3/htdocs/themes/theme.inc.php
--- ../soteesklep3/htdocs/themes/theme.inc.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/htdocs/themes/theme.inc.php	2006-08-23 16:59:18.000000000 +0200
@@ -0,0 +1,2159 @@
+<?php
+/**
+* Elementy zwiazane z wygladem sklepu tzw. "tematem". Modyfikacja
+* elementow zwiazanych z ta klasa, pozwalaja na zmiena grafiki w
+* sklepie. Klasa ta powiazana jest bezposredno z klasa Lang.
+*
+* @author m@sote.pl lech@sote.pl
+* @$Id: theme.inc.php,v 2.147 2006/08/16 10:40:56 lukasz Exp $
+* @version    $Id: theme.inc.php,v 2.147 2006/08/16 10:40:56 lukasz Exp $
+* @package    themes
+* \@lang
+* \@ask4price
+*/
+
+require_once("themes/include/buttons.inc.php");
+require_once("include/image.inc");
+
+class Theme {
+
+    var $dir;                            // katalog tematu
+    var $bg_bar_color="#6699cc";         // kolor tla paskow typu bar
+    var $bg_form_color="#ffffff";        // kolr tla formularzy zamowienia
+    var $bg_basket_top_color="#abcdef";  // kolor tla w formularzu koszyka - naglowek
+    var $bg_basket_row_color="#fedcba";  // kolor tla w formularzu ksozyka - wiersze
+    var $bg_bar_color_light="#d5e6ed";
+    var $before_main_obj="";             // obiekt zawierajacy funkcje wywolywana przed dbedit
+    var $before_main_func="";            // nazwa funkcji jw.
+    var $form=array();                   // tablica z danymi z formularza(y)
+    var $form_error=false;               // oznacznie poprawnosci wypelnienia formularza
+    var $onclick="onclick=\"window.open('','window','width=760,height=580,scrollbars=0,menubar=0,status=0,location=0,directories=0,toolbar=0,resizable=0');\"";
+    var $record_row_fun="record_row";    // domyslna funkcja prezentacji rekordu
+    var $img_border=0;                   // obramowanie wokol zdjec produktow
+    var $dbedit_bar_size="100%";         // domyslna szerokosc paska bar nad listami produktow
+    var $producer_filter_name;           // nazwa producenta (filtru kategorii)
+    var $max_producer_chars=20;          // maksymalna liczba znakow wyswietlanej na liscie nazwy producenta
+    var $record_odd_color="#ffffff";           // kolor komorki nieparzystej w liscie skroconej (domyslna "#ffffff")
+    var $record_even_color="#ffffff";          // kolor komorki parzystej w liscie skroconej (domyslna "#ffffff")
+
+    /**
+    * Wy¶wietl buttony w menu g³ównym wg konfiguracji z tenmatow TEMAT/config/config.inc.php
+    *
+    * @author m@sote.pl lech@sote.pl
+    * @return none
+    */
+    function autoButtons() {
+        global $config, $prefix;
+
+        reset($config->theme_config['head']['main_menu']['buttons']);
+        print "<table>\n";
+        print "<tr>\n";
+        foreach ($config->theme_config['head']['main_menu']['buttons'] as $name=>$tab) {
+            $img_over=$prefix . $tab['over'];
+            $img_out=$prefix . $tab['out'];
+            $url=$tab['url'];
+            $desc=@$tab['desc'];
+            print "<td>";
+            print "<a href=\"$url\"><img src='";
+            $this->img($img_out);
+            print "' alt='$desc' border=\"0\" onmouseover='this.src=\"";
+            $this->img($img_over);
+            print "\"' onmouseout='this.src=\"";
+            $this->img($img_out);
+            print "\"'></a>";
+        }
+        print "</tr>";
+        print "</table>\n";
+        return;
+    } // end autoButtons()
+
+    /**
+    * Otworz obszar ramki
+    *
+    * @author       rdiak@sote.pl
+    * \@modified_by  m@sote.pl
+    *               20030317 zmiana kolejnosci atrybutow, atrybuty domyslne zostaly przeniesione na koniec wywolania,
+    *                        dzieki czemu mozna wywolac prosciej funkcje np.
+    *                        wystarczy wywolac $theme->frame_open("nazwa")
+    *
+    * @param string $width szerokosc elementu frame (ramki)
+    * @param string $align wyrownanie
+    */
+    function frame_open($title="frame",$width="100%",$align="center") {
+        $file="frame_open.html.php"; $include_once=false;
+        include ("themes/include/theme_file.inc.php");
+        return(0);
+    } // end frame_open()
+
+    /**
+    * Zamknij obszar ramki
+    *
+    * \@depend $this->frame_open()
+    */
+    function frame_close() {
+        $file="frame_close.html.php"; $include_once=false;
+        include ("themes/include/theme_file.inc.php");
+        return(0);
+    } // end frame_close()
+
+
+    /**
+    * Wyswietl formularz newslettera
+    */
+    function newsletter() {
+        global $DOCUMENT_ROOT, $image;
+        $file="newsletter.html.php"; $include_once=true;
+        include ("$DOCUMENT_ROOT/themes/include/theme_file.inc.php");
+        return(0);
+    } // end foot()
+
+
+    /**
+    * Funckja dodaje link "Drukuj" pozwalajacy wydrukowac bierzaca strone.
+    *
+    * @desc do poprawnego dzialania potrzebny jest JavaScript printPage.js
+    * @author rp@sote.pl
+    *
+    * @param string $format sposob generoania linku (submit - formularz | * - <a href>Drukuj<a>
+    *
+    * @return void
+    */
+    function printPage($format="submit"){
+        global $lang;
+        if($format=="submit"){
+            print "<form action=\"\">\n";
+            print "    <input type=\"button\" value=\"".$lang->printPage["button"]."\" onClick=\"javascript:printPage('".$lang->printPage["info"]."');\">\n";
+            print "</form>";
+        } else {
+            print "<a href=\"javascript:printPage('".$lang->printPage["info"]."');\">".$lang->printPage["button"]."</a>";
+        }
+        return;
+    }
+
+    /**
+    * Funckja sprawdza czy istnieje tablica z bitmapami dla aktualnego tematu.
+    * Jesli istnieje przeszukuje w celu odszukania lokalizacji bitmapy na dysku
+    * oraz wyswietla pelna sciezke
+    *
+    * @param string $file_name  nazwa bitmapy jesli jest z rozszerzeniem
+    *                           to nastepna funkcja z obiektu Image pomija sprawdzanie
+    *                           tablicy z bitmapami w celu zmnieszenia czasu wykonania zadania
+    * @param string $location   polozenie bitmapy w temacie lub katalogu, jesli nie ma wskazania
+    *                           lokalicacje przybierana jest domyslna wartosc default
+    *                           i wtedy sciezka przeszukiwania zaczyna sie od _bmp/default/...
+    * @param string $theme_name nazwa szablonu strony z ktorego bitmapa ma byc pobrana
+    *
+    * @return none
+    */
+    function bmp($file_name="",$location="",$theme_name=""){
+        return $this->img($file_name);
+    } // end bmp()
+
+    /**
+    * Funkcja zwracajaca odpowiedni kod Javascript do otwierania nowego okna w zaleznosci od podanych parametrow
+    *
+    * @author piotrek@sote.pl
+    *
+    * @param  $width  szerokosc okna
+    * @param  $height wysokosc okna
+    *
+    * @access public
+    *
+    * @return string $click
+    */
+    function onclick($width,$height) {
+        $click="onclick=\"window.open('','window','width=$width,height=$height,scrollbars=0,menubar=0,status=0,location=0,directories=0,toolbar=0,resizable=0');\"";
+        return $click;
+    }
+
+    /**
+    * Wyswietl naglowek programu
+    *
+    * \@global float $global_basket_amount kwota zakupow
+    * \@global int   $global_backet_count  ilosc produktow w koszyku
+    * \@global array $_SESSION
+    */
+    function head() {
+        global $_SESSION;
+        global $global_basket_amount,$global_basket_count;
+        global $config,$lang;
+        global $global_wishlist_count;
+
+        if ($config->lang!=$config->base_lang) @$config->google=@$lang->google;
+
+        if (! empty($_SESSION['global_basket_amount'])) {
+            $global_basket_amount=$_SESSION['global_basket_amount'];
+        }
+        if (! empty($_SESSION['global_basket_count'])) {
+            $global_basket_count=$_SESSION['global_basket_count'];
+        }
+        if (! empty($_SESSION['global_wishlist_count'])) {
+            $global_wishlist_count=$_SESSION['global_wishlist_count'];
+        }
+
+        if (empty($global_basket_amount)) $global_basket_amount=0;
+        if (empty($global_basket_count)) $global_basket_count=0;
+        if (empty($global_wishlist_count)) $global_wishlist_count=0;
+
+        global $DOCUMENT_ROOT;
+        $file="head.html.php"; $include_once=true;
+        include ("$DOCUMENT_ROOT/themes/include/theme_file.inc.php");
+
+        return(0);
+    } // end head()
+
+    /**
+    * Wyswietl stopke programu
+    */
+    function foot() {
+        global $DOCUMENT_ROOT, $image;
+        $file="foot.html.php"; $include_once=true;
+        include ("$DOCUMENT_ROOT/themes/include/theme_file.inc.php");
+        return(0);
+    } // end foot()
+
+    /**
+    * Wyswietl naglowek programu
+    *
+    * \@global float $global_basket_amount kwota zakupow
+    * \@global int   $global_backet_count  ilosc produktow w koszyku
+    * \@global array $_SESSION
+    */
+    function head_simple() {
+        global $DOCUMENT_ROOT;
+        $file="head_simple.html.php"; $include_once=true;
+        include ("$DOCUMENT_ROOT/themes/include/theme_file.inc.php");
+
+        return(0);
+    } // end head()
+
+    /**
+    * Wyswietl prosta stopke programu
+    */
+    function foot_simple() {
+        global $DOCUMENT_ROOT;
+        $file="foot_simple.html.php"; $include_once=true;
+        include ("$DOCUMENT_ROOT/themes/include/theme_file.inc.php");
+        return(0);
+    } // end foot()
+
+    /**
+    * Wyswietl plik z katalogu _tematu html_files
+    */
+    function file($file,$lang_name='') {
+        global $config;
+        global $DOCUMENT_ROOT;
+
+        if($lang_name=="") {
+            $lang_name=$config->lang;
+        }
+
+        global $_SERVER;
+        @include_once("$DOCUMENT_ROOT/themes/_$lang_name/_html_files/$file");
+
+        return(0);
+    }
+
+    /**
+    * Wyswietl plik z biezacego katalogu theme, jesli pliku nie ma, to wez plik z $base_theme lub z base_theme
+    * @param array $vars zmienne przekazywane do funkcji
+    */
+    function theme_file($file,$vars=array()) {
+        global $lang,$config;
+
+        while (list($key,$val) = each($vars)) {
+            $$key=$val;
+        }
+        global $DOCUMENT_ROOT;
+        include ("$DOCUMENT_ROOT/themes/include/theme_file.inc.php");
+        return(0);
+    } // end file()
+
+    /**
+    * Wyswietl sciezke (+nazwa) do obrazeka z katalogu tematu, lub z base_theme
+    *
+    * @param string $image nazwa pliku
+    */
+    function img($image) {
+        global $config;
+        global $DOCUMENT_ROOT;
+
+        $base_theme=$config->base_theme;
+
+        // sprawdz czy jest plik w zdefiniowanym temacie (katalog jezykowy)
+        $inode=@fileinode($config->theme_dir."/$image");
+
+        if ($inode>0) {
+            print $config->htdocs_dir."/themes/_$config->lang/$config->theme/$image";
+        } else {
+            //sprawdzam czy plik jest w katlogu base tematu zdefiniowanego
+            $inode2=@fileinode("$DOCUMENT_ROOT/themes/base/$config->theme/$image");
+            if ($inode2>0) {
+                print $config->htdocs_dir."/themes/base/$config->theme/$image";
+            } else {
+
+                // sprawdzam czy istnieje plik w $base_theme (katalog jezykowy)
+                $inode3=@fileinode("$DOCUMENT_ROOT/themes/_$config->lang/$base_theme/$image");
+                if ($inode3>0) {
+                    print $config->htdocs_dir."/themes/_$config->lang/$base_theme/$image";
+                } else {
+
+                    //sprawdzam czy plik istnieje w $base_theme (katalog base)
+                    $inode4=@fileinode("$DOCUMENT_ROOT/themes/base/$base_theme/$image");
+                    if ($inode4>0) {
+                        print $config->htdocs_dir."/themes/base/$base_theme/$image";
+                    } else {
+
+                        //sprawdzam czy plik istnieje w glownym temacie - base_theme (katalog jezykowy)
+                        $inode5=@fileinode("$DOCUMENT_ROOT/themes/_$config->lang/base_theme/$image");
+                        if ($inode5>0) {
+                            print $config->htdocs_dir."/themes/_$config->lang/base_theme/$image";
+                        } else {
+
+                            //sprawdzam czy plik istnieje w glownym temacie - base_theme (katalog base)
+                            $inode6=@fileinode("$DOCUMENT_ROOT/themes/base/base_theme/$image");
+                            if ($inode6>0) {
+                                print $config->htdocs_dir."/themes/base/base_theme/$image";
+                            } else {
+                                print $config->htdocs_dir."/themes/base/base_theme/_img/_mask.gif";
+                            }
+                        } //end if
+                    } //end if
+                } //end if
+            } // end if
+        }// end if
+        return(0);
+    } // end img()
+
+    /**
+    * Zwróæ sciezke (+nazwa) do pliku z katalogu tematu, lub z base_theme
+    *
+    * @param string $image nazwa pliku
+    */
+    function filepath($image) {
+        global $config;
+        global $DOCUMENT_ROOT;
+
+        $base_theme=$config->base_theme;
+
+        // sprawdz czy jest plik w zdefiniowanym temacie (katalog jezykowy)
+        $inode=@fileinode($config->theme_dir."/$image");
+
+        if ($inode>0) {
+            return $config->htdocs_dir."/themes/_$config->lang/$config->theme/$image";
+        } else {
+            //sprawdzam czy plik jest w katlogu base tematu zdefiniowanego
+            $inode2=@fileinode("$DOCUMENT_ROOT/themes/base/$config->theme/$image");
+            if ($inode2>0) {
+                return $config->htdocs_dir."/themes/base/$config->theme/$image";
+            } else {
+
+                // sprawdzam czy istnieje plik w $base_theme (katalog jezykowy)
+                $inode3=@fileinode("$DOCUMENT_ROOT/themes/_$config->lang/$base_theme/$image");
+                if ($inode3>0) {
+                    return $config->htdocs_dir."/themes/_$config->lang/$base_theme/$image";
+                } else {
+
+                    //sprawdzam czy plik istnieje w $base_theme (katalog base)
+                    $inode4=@fileinode("$DOCUMENT_ROOT/themes/base/$base_theme/$image");
+                    if ($inode4>0) {
+                        return $config->htdocs_dir."/themes/base/$base_theme/$image";
+                    } else {
+
+                        //sprawdzam czy plik istnieje w glownym temacie - base_theme (katalog jezykowy)
+                        $inode5=@fileinode("$DOCUMENT_ROOT/themes/_$config->lang/base_theme/$image");
+                        if ($inode5>0) {
+                            return $config->htdocs_dir."/themes/_$config->lang/base_theme/$image";
+                        } else {
+
+                            //sprawdzam czy plik istnieje w glownym temacie - base_theme (katalog base)
+                            $inode6=@fileinode("$DOCUMENT_ROOT/themes/base/base_theme/$image");
+                            if ($inode6>0) {
+                                return $config->htdocs_dir."/themes/base/base_theme/$image";
+                            } else {
+                                return $config->htdocs_dir."/themes/base/base_theme/_img/_mask.gif";
+                            }
+                        } //end if
+                    } //end if
+                } //end if
+            } // end if
+        }// end if
+    } // end filepath()
+
+    /**
+    * Wy¶wietl pelna sciezke do pliku lub domyslna bitmape systemowa
+    * Funkcja ma m.in. na celu wyeliminowanie pojawiania sie okienek z bledami, je¶li nie ma zdjêcia
+    *
+    * @author rp@sote.pl m@sote.pl
+    * @param string $file_name nazwa pliku
+    *
+    * @deprecated since 3.0 alfa
+    * @return none
+    */
+    function path($file_name="_img/_mask.gif"){
+        return $this->img($file_name);
+    } // end path()
+
+    /**
+    * Przejdz na glowna strone. Strona wywolywana w przypadku, kiedy klient dokonal
+    * jakiejs nieprawidlowej operacji (np. bledne wywolania back,forward) i trzeba go
+    * odeslac na glowna strone, bo za bardzo zamieszal;)
+    */
+    function go2main($rtime=0) {
+//    	print "<pre>";
+//    	print_r (debug_backtrace());
+//    	print "</pre>";
+        $this->refresh_time=$rtime;
+        $this->theme_file("go2main.html.php");
+    } // end go2main()
+
+    /**
+    * Tekst (HTML) na glownej stronie
+    */
+    function main_html(){
+        $this->theme_file("main.html.php");
+        return(0);
+    } // end main_html()
+
+    /**
+    * Formatowanie formatu pienieznego
+    *
+    * @author  m@sote.pl
+    * @param  string|real $price np. 2000.3423
+    * @return $price w odpowiednim formacie np. 2000.34 (wartosc numeryczna!)
+    */
+    function price($price) {
+        return number_format($price,2,".","");
+    } // end price()
+
+    /**
+    * Funkcja wyswietla glowna czesc strony (poza naglowkiem i stopka).
+    * Sa to domyslnie: kolumna lewa, srodek i prawa. Oczywiscie uklad ten moze zostac zmieniony.
+    *
+    * @param string $left  funkcja okreslajaca lewa kolumne
+    * @param string $main  funkcja okreslajaca srodkowa kolumne
+    * @param string $right funkcja okreslajaca prawa kolumne
+    * @param class  $cl_left  klasa zawierajaca funkcje $left (jesli jest inna niz $this)
+    * @param class  $cl_main  klasa zawierajaca funkcje $main jw.
+    * @param class  $cl_right klasa zawierajaca funkcje $right jw.
+    * @param string $page_file plik zawierajacy glowny podzial strony np. na 3 kolumny
+    */
+    function page_open($left="left",$main="main",$right="right",$cl_left="",$cl_main="",$cl_right="",$page_file="page_open") {
+        global $config;
+
+        if (empty($cl_left))  $o_left=$this;  else $o_left = new $cl_left;
+        if (empty($cl_main))  $o_main=$this;  else $o_main = new $cl_main;
+        if (empty($cl_right)) $o_right=$this; else $o_right = new $cl_right;
+
+        global $DOCUMENT_ROOT;
+        $file=$page_file.".html.php";
+        include ("$DOCUMENT_ROOT/themes/include/theme_file.inc.php");
+
+        return(0);
+    } // end page_open()
+
+    /**
+    * Jak page_open(), z ta roznica, ze podawany jest tu adres obiektu
+    * zawierajacego element czesci tzw. "main"
+    *
+    * @param string $main nazwa funkcji
+    * @param object &$o_main adres obiektu
+    * @param string $page_file jak w page_open()
+    */
+    function page_open_object($main,&$o_main,$page_file) {
+        $left="left";$right="right";
+        $o_left=$this;
+        $o_right=$this;
+
+        global $DOCUMENT_ROOT;
+        $file=$page_file.".html.php";
+        include ("$DOCUMENT_ROOT/themes/include/theme_file.inc.php");
+
+        return(0);
+    } // end page_open_object()
+
+    /**
+    * Otworz glowna tabele strony
+    *
+    * @param strong $file nazwa pliku zawierajacago naglowek
+    */
+    function page_open_head($file) {
+        $this->theme_file("$file.html.php");
+    } // end page_open_head()
+
+    /**
+    * Zamknij glowna tabele strony
+    *
+    * @param strong $file nazwa pliku zawierajacago stopke
+    */
+    function page_open_foot($file) {
+        $this->theme_file("$file.html.php");
+    } // end page_open_foot()
+
+    /**
+    * Lewa strona
+    */
+    function left() {
+        global $rand_prod;
+        if (! is_object($rand_prod)) {
+            include_once ("include/random_products.inc");
+            $rand_prod =  new RandProduct;
+        }
+
+        global $DOCUMENT_ROOT;
+        $file="left.html.php";$include_once=true;
+        include ("$DOCUMENT_ROOT/themes/include/theme_file.inc.php");
+
+        return(0);
+    } // end left()
+
+    /**
+    * Prawa strona
+    */
+    function right() {
+        global $rand_prod;
+        if (! is_object($rand_prod)) {
+            include_once ("include/random_products.inc");
+            $rand_prod =  new RandProduct;
+        }
+
+        global $DOCUMENT_ROOT;
+        $file="right.html.php";
+        include ("$DOCUMENT_ROOT/themes/include/theme_file.inc.php");
+
+        return(0);
+    } // end right()
+
+    /**
+    * Glowna czesc strony, srodek
+    */
+    function main() {
+        $this->theme_file("main.html.php");
+        return(0);
+    } // end main()
+
+    /**
+    * Dolna czesc strony, ladowana po produktach na stronie glownej
+    * uzyta w htdocs/index.php
+    *
+    * @access public
+    *
+    * @retyrn void
+    */
+    function mainBottom() {
+
+        $this->theme_file("main_bottom.html.php");
+
+        return;
+    } // end mainBottom()
+
+
+    /**
+    * @desc wyswietla rekordy plugin'u NewsEdit
+    *
+    * @author rp@sote.pl
+    * @return void
+    */
+    function mainNews() {
+        global $lang;
+        global $_REQUEST;
+        global $mdbd;
+
+        $news_title=$lang->main_news;
+        if (@ereg("^[0-9]+$",$_REQUEST['group'])) {
+            $group=$_REQUEST['group'];
+            if ($group>0) {
+                $title=$mdbd->select("name","newsedit_groups","id=?",array($group=>"int"),"LIMIT 1");
+                if ($title!="0") $news_title=$title;
+                else {
+                    $this->go2main();
+                    exit;
+                }
+            }
+        }
+
+        $this->win_top($news_title,380,1,1);
+        @include_once ("plugins/_newsedit/include/newsedit.inc.php");
+        if (is_object(@$newsedit)) {
+            $newsedit->show_list();
+        }
+        $this->win_bottom(380);
+
+        return;
+    } // end mainNews()
+
+    /**
+    * Tytul
+    */
+    function title($title) {
+        print "<table border=1><tr><td>$title</td></tr></table>";
+        return(0);
+    } // end title()
+
+    /**
+    * Pasek z napisem "bar"
+    */
+    function bar($text,$width="100%") {
+        global $DOCUMENT_ROOT;
+        $file="bar.html.php";
+        include ("$DOCUMENT_ROOT/themes/include/theme_file.inc.php");
+        return(0);
+    } // end bar()
+
+    /**
+    * Przycisk z napisem
+    */
+    function button($text,$url="/",$width=100) {
+        global $config;
+        $url=@$config->url_prefix.$url;
+        print "<form action='$url'><input type=button value='$text' onClick=\"this.form.submit();\"></form>\n";
+        return(0);
+    } // end bar()
+
+    /**
+    * Przycisk podsumuj w koszyku
+    */
+    function calc_button() {
+        global $lang;
+
+        $order_update=$lang->basket_order_update;
+
+        print "<input type=submit name=submit_update value='$order_update'>";
+        return(0);
+    } // end calc_button()
+
+
+    /**
+    * Aktualna data
+    */
+    function date() {
+        global $lang;
+        print "$lang->date:".(date("d-m-Y"));
+        return(0);
+    } // end date()
+
+    /**
+    * Elementy pojawiajace sie nad lista produktow. Np. wybor listy skroconej rozszezonej itp.
+    */
+    function top_dbedit() {
+        require_once("include/record_row_links.inc");
+
+        global $DOCUMENT_ROOT;
+        $file="list/list_top.html.php";
+        include ("$DOCUMENT_ROOT/themes/include/theme_file.inc.php");
+
+        return(0);
+    } // end top_dbedit()
+
+    /**
+    * Wyglad wiersza w prezentacji rekordu w liscie
+    */
+    function record_row(&$rec) {
+        global $image;
+        global $description;
+        global $config;
+
+        // dodaj obsluge automatycznego generowania skrotu opisu
+        if (! is_object($description)) {
+            include_once ("include/description.inc");
+        }
+
+        global $DOCUMENT_ROOT;
+        $file="record_row.html.php";
+        include ("$DOCUMENT_ROOT/themes/include/theme_file.inc.php");
+
+        return(0);
+    } // end record_row()
+
+    /**
+    * Wyglad wiersza prezentacji rekordu
+    */
+    function record_row_short(&$rec) {
+        global $config;
+        global $DOCUMENT_ROOT;
+
+        // wartosc ktora pozwoli naprzemiennei wyswietlac komorki jako parzyste i nieparzyste
+        static $odd=0;
+        $file="record_row_short.html.php";
+        include ("$DOCUMENT_ROOT/themes/include/theme_file.inc.php");
+        if($odd==0){
+            $odd=1;
+        } else {
+            $odd=0;
+        }
+        return(0);
+    } // end record_row_short()
+    
+       /**
+    * Wyglad wiersza w prezentacji rekordu w liscie
+    */
+    function record_row_search(&$rec) {
+        global $image;
+        global $description;
+        global $config;
+
+        // dodaj obsluge automatycznego generowania skrotu opisu
+        if (! is_object($description)) {
+            include_once ("include/description.inc");
+        }
+
+        global $DOCUMENT_ROOT;
+        $file="record_row_search.html.php";
+        include ("$DOCUMENT_ROOT/themes/include/theme_file.inc.php");
+
+        return(0);
+    } // end record_row()
+        
+    /**
+    * Sprawd¼ ustawienia parametrów produktu i w zale¿no¶ci od opcji wy¶iwetl cenê, info, koszyk itp.
+    * Funkcja jest wykorzystywana w info record_row itp. do obslugi pól m.in. hidden_price, ask4price, discount
+    * Przyk³ad wtwo³ania np. je¶li chcemy wy¶wietliæ cenê wywo³ujemy funkcjê:<br>
+    * $theme->recPrice($price);<br>
+    * W funckje recPrice() jest wywo³ane sparawdzanie odpowiednich parametrów i poprzez wywo³anie:<br>
+    * $this->_checkView($rec,"price") itp.
+    *
+    * @author  m@sote.pl
+    *
+    * @param string $type typ zapytania: basket,info,discount,price
+    * @param object &$rec adres obiektu z danymi produktu $rec->data
+    *
+    * @access private
+    * @return bool true mo¿na pokazaæ dan± opcjê, false w p.w.
+    */
+    function checkView($type,&$rec) {
+        global $config;
+
+        // jesli sklep jest w trybie CD, to nie pokazuj koszyka
+        if (($config->cd==1) && ($type=="basket"))   return false;
+
+        switch ($type) {
+            case "info": return true;
+            break;
+            case "ask4price": if ($rec->data['ask4price']==1) return true;
+            break;
+            case "points": if ($rec->data['points']==1) return true;
+            break;
+            default:
+            // basket, discout, price
+            if ((@$rec->data['hidden_price']==0) && (@$rec->data['ask4price']==0)) return true;
+            break;
+        }
+        return false;
+    } // end checkView()
+
+    /**
+    * Wy¶wietl informacje o cenie (netto, brutto, netto/brutto ).
+    *
+    * @author rdiak@sote.pl
+    * @param  int $id id produktu (z tabeli main)
+    * @access private
+    * @return string rodzaj ceny
+    */
+    function info_price() {
+        global $config;
+        global $lang;
+
+        if($config->price_type == 'netto') {
+            return $lang->cols['price_netto'];
+        } elseif($config->price_type == 'netto/brutto') {
+            return $lang->cols['price_nettobrutto'];
+        } else {
+            return $lang->cols['price_brutto'];
+        }
+    }
+
+    function info_points() {
+    	global $lang;
+    	return $lang->cols['points'];
+    }
+    
+    /**
+    * Wy¶wietl cene (netto, brutto).
+    *
+    * @author rdiak@sote.pl
+    * @param  int $id id produktu (z tabeli main)
+    * @access private
+    * @return string rodzaj ceny
+    */
+    function print_price(&$rec) {
+        global $config;
+
+        if ($config->price_type == 'netto') {
+            return $this->price($rec->data['price_netto']);
+        } elseif($config->price_type == 'netto/brutto') {
+            return $this->price($rec->data['price_netto'])."/".$this->price($rec->data['price_brutto']);
+        } else {
+            return $this->price($rec->data['price_brutto']);
+        }
+    } // end print_price
+
+    /**
+    * Wy¶wietl ikonkê info odsy³aj±c± do informacji szczegó³owych o produkcie.
+    * Od wersji 3.0 funckja ta zmienia swoje znaczenie. Patrz recInfo().
+    *
+    * @author m@sote.pl
+    * @param  int $id id produktu (z tabeli main)
+    * @access private
+    * @return none
+    * @todo   opisaæ lub jawnie zdefiniowaæ zmienn± $prefix (m@sote.pl->lech@sote.pl)
+    */
+    function _info($id) {
+        global $config, $prefix, $lang;
+        print "<a href=/go/_info/?id=".$id." alt=\"".$lang->tooltip['info']."\">";
+        print "<img title=\"".$lang->tooltip['info']."\" src='";$this->img($prefix . $config->theme_config['icons']['info']);print "' border=0>";
+        print "</a>";
+        return;
+    } // end _info()
+
+    /**
+    * Sprawd¼ czy mo¿na wy¶wietliæ ikonkê info i je¶li tak, to wy¶wietl j±
+    * Funckja ta zastêpuje wcze¶niejsze wywo³ania postaci $theme->info().
+    *
+    * @author m@sote.pl
+    * @param  int     $id  id produktu (z tabeli main)
+    * @param  object &$rec adres obiektu z danymi produktu $rec->data
+    * @return none
+    */
+    function recInfo($id,&$rec) {
+        if ($this->checkView("info",$rec)) {
+            return $this->_info($id);
+        } else return;
+    } // end recInfo()
+
+    // start Basket:
+
+    /**
+    * Wyswietl link do koszyka
+    */
+    function basketLink() {
+        global $DOCUMENT_ROOT, $image;
+        $file="basketlink.html.php"; $include_once=true;
+        include ("$DOCUMENT_ROOT/themes/include/theme_file.inc.php");
+        return(0);
+    } // end foot()
+
+
+    /**
+    * Wy¶wietl formularz zamówienia wraz z opcjami.
+    * Funkcja generuje pe³en formularz <form> ... </form> + przycisk submit->zamów
+    *
+    * @param int    $id id  produktu
+    * @param string $xml_options opcje
+    */
+    function _basketOptions($id,$xml_options) {
+        // atrybuty
+        if (! empty($xml_options)) {
+            // dodaj obsluge pola xml_options
+            global $result,$my_xml_options;
+            include_once ("include/xml_options.inc");
+            $my_xml_options->show($result);
+        } else {
+            $this->_basket();
+        }
+    } // end _basketOptions()
+
+    /**
+    * Wy¶wietl formularz dodania produktu do koszyka.
+    * Je¶li nie przekazujemy do funkcji ¿adnych opcji (np. L, XL itp), to zostanie wy¶wietlony
+    * standardowy koszyk. Je¶li dla danego produktu s± zdefiniowane jakie¶ opcje, poka¿e siê formularz
+    * wybrania opcji + przycisk submit->zamów.
+    *
+    * @param  int    $id           identyfikator produktu (id z tabeli main)
+    * @param  string $xml_options  opcje   
+    * @access private
+    * @return none
+    */
+    function _basket($id,$xml_options) {
+        if (! empty($xml_options)) return $this->_basketOptions($id,$xml_options);
+        $this->_basketSimple($id);
+        return;
+    } // end _basket()
+
+    /**
+    * Wy¶wietl ikonkê (formularz) koszyka.
+    * Funkcja powoduje wy¶wietlenie zwyk³ego koszyka. Ró¿ni sie od basket() tym, ¿e nie powoduje
+    * wy¶wietlania formularza z opcjami.
+    *
+    * @param  int    $id identyfikator produktu (id z tabeli main)
+    * @access private
+    * @return none
+    */
+    function _basketSimple($id) {
+        global $config;
+        global $lang;
+        if (@$config->catalog_mode==1){
+            return;
+        }
+        global $config, $prefix;
+        print "<form action=\"/go/_basket/index.php\">\n";
+        print "<input type=\"hidden\" name=\"id\" value=\"".$id."\">";
+        print "<input class=border0 type=\"image\" src=\"";
+        $this->img( $prefix . $config->theme_config['icons']['basket']);
+        print "\" title=\"".$lang->tooltip['basket']."\">";
+        print "</form>\n";
+	
+        return;
+    } // end _basketSimple()
+
+    /**
+    * Sprawd¼ czy mo¿na wy¶wietliæ ikonkê koszyk i je¶li tak, to wy¶wietl j±.
+    * Funckja ta zastêpuje wcze¶niejsze wywo³ania postaci $theme->basket().
+    *
+    * @author m@sote.pl
+    * @param  int     $id  id produktu (z tabeli main)
+    * @param  object &$rec adres obiektu z danymi produktu $rec->data
+    * @return none
+    */
+    function recBasket($id,&$rec) {
+        if ($this->checkView("basket",$rec)) {
+            return $this->_basket($id,@$rec->data['xml_options']);
+        } elseif ($this->checkView("ask4price",$rec)) {
+            $this->ask4price($rec);
+        } elseif (ereg("^music",@$rec->data['xml_options'])) {
+            // nawet je¶li jest za³±czona opcja "nie pokazuj ceny", ale
+            // produkt zawiera utwory do zakupu, to poka¿ listê atrybutów
+            return $this->_basket($id,@$rec->data['xml_options']);
+        }
+        return;
+    } // end recInfo()
+    // end Basket:
+	
+    /**
+    *Wy¶wietl drukuj i poka¿ strone prezentacji produktu do wydruku
+    *
+    * @author krzys@sote.pl
+    */
+         function print_page($url) {
+        global $config, $prefix;
+        print "<a href=$url onclick=\"window.open('', 'window_popup', 'width=590, height=450, rezisable=1, scrollbars=1, toolbar=0, status=0');\" target='window_popup'>";
+        global $lang;
+        print "<img src=\"";
+        $this->img("_img/_icons/druk.gif");
+        print "\" style='border-width: 0px;'>";
+        print "</a>";
+        return;
+    } // end _print()
+    
+    
+
+    /**
+    * Przyciski podsumuj wprowadzone zmiany, dalej, wartosc zamowienia
+    *
+    * @param float  $amount        wartosc zakupow (bez kosztow dostawy)
+    * @param float  $order_amount  kwota do zaplaty
+    * @param string $delivery_name nazwa dostawcy
+    * @param float  $delivery_cost koszt dostawy
+    */
+    function basket_submit($amount,$order_amount,$delivery_name,$delivery_cost) {
+        global $config;
+
+        global $DOCUMENT_ROOT;
+        $file="basket_delivery_submit.html.php";
+        include ("$DOCUMENT_ROOT/themes/include/theme_file.inc.php");
+
+        return(0);
+    } // end basket_submit()
+
+    /**
+    * Przyciski podsumuj wprowadzone zmiany, dalej, wartosc zamowienia - w przypadku zamówienia produktów za punkty
+    *
+    * @param float  $amount        wartosc zakupow (bez kosztow dostawy)
+    * @param float  $order_amount  kwota do zaplaty
+    * @param string $delivery_name nazwa dostawcy
+    * @param float  $delivery_cost koszt dostawy
+    */
+    function basket_points_submit($amount,$order_amount,$delivery_name,$delivery_cost) {
+        global $config;
+
+        global $DOCUMENT_ROOT;
+        $file="basket_delivery_points_submit.html.php";
+        include ("$DOCUMENT_ROOT/themes/include/theme_file.inc.php");
+
+        return(0);
+    } // end basket_submit()
+
+
+    /**
+    *
+    * Wyswietl podsumowanie kosztow dot. zakupow
+    *
+    * @param float  $amount        wartosc zakupow (bez kosztow dostawy)
+    * @param float  $order_amount  kwota do zaplaty
+    * @param string $delivery_name nazwa dostawcy
+    * @param float  $delivery_cost koszt dostawy
+    */
+    function basket_points_amount($amount,$order_amount,$delivery_name,$delivery_cost) {
+        global $config;
+        global $DOCUMENT_ROOT;
+
+        $file="basket_points_amount.html.php";
+        include ("$DOCUMENT_ROOT/themes/include/theme_file.inc.php");
+
+        return(0);
+    } // end basket_amount()
+        
+    /**
+    *
+    * Wyswietl podsumowanie kosztow dot. zakupow
+    *
+    * @param float  $amount        wartosc zakupow (bez kosztow dostawy)
+    * @param float  $order_amount  kwota do zaplaty
+    * @param string $delivery_name nazwa dostawcy
+    * @param float  $delivery_cost koszt dostawy
+    */
+    function basket_amount($amount,$order_amount,$delivery_name,$delivery_cost) {
+        global $config;
+        global $DOCUMENT_ROOT;
+
+        $file="basket_amount.html.php";
+        include ("$DOCUMENT_ROOT/themes/include/theme_file.inc.php");
+
+        return(0);
+    } // end basket_amount()
+
+    /**
+    * Koszyk jest pusty
+    */
+    function basket_empty() {
+        global $lang;
+
+        $this->bar($lang->basket_title);
+        print "<p><center>$lang->basket_empty</center>";
+        return(0);
+    } // end basket_empty()
+
+    /**
+    * Przycisk powrotu do poprzedniej strony
+    */
+    function back() {
+        global $lang;
+        global $buttons;
+
+        print "<form><input type=button value='$lang->back' onClick=\"history.back();\"></form>";
+    } // end back()
+
+    /**
+    * Przycisk powrotu do glownej strony
+    */
+    function back2main() {
+        global $lang;
+        print "<form action=/><input type=submit value='$lang->back'></form>";
+    } // end back()
+
+
+    /**
+    * Formularz rejestracji - billing
+    *
+    * @param array  $form       dane z formularza
+    * @param object $form_check obiekt klasy FormCheck - sprawdzanie formularza
+    */
+    function register_billing_form(&$form,&$form_check){
+        global $lang;
+        $this->form=&$form;
+        $this->form_check=&$form_check;
+        global $DOCUMENT_ROOT;
+
+        if (! empty($_SESSION['global_login'])) {
+            include_once("$DOCUMENT_ROOT/go/_users/include/menu.inc.php");
+        }
+
+        $this->bar($lang->bar_title['register_billing']);
+
+        $file="register_billing.html.php";
+        include ("$DOCUMENT_ROOT/themes/include/theme_file.inc.php");
+
+        return(0);
+    } // end register_billing_form()
+
+    /**
+    * Formularz rejestracji - billing w panelu zalogowanego uzytkownika
+    *
+    * @param array  $form       dane z formularza
+    * @param object $form_check obiekt klasy FormCheck - sprawdzanie formularza
+    */
+    function register_billing_form_users(&$form,&$form_check){
+        global $lang;
+        $this->form=&$form;
+        $this->form_check=&$form_check;
+        global $DOCUMENT_ROOT;
+
+        if (! empty($_SESSION['global_login'])) {
+            include_once("$DOCUMENT_ROOT/go/_users/include/menu.inc.php");
+        }
+
+        $this->bar(@$lang->bar_title['register_billing']);
+
+        $file="register_billing_users.html.php";
+        include ("$DOCUMENT_ROOT/themes/include/theme_file.inc.php");
+
+        return(0);
+    } // end register_billing_form()
+
+    /**
+    * Formularz rejestracji - adres korespondencyjny
+    *
+    * @param array $form        dane z formularza
+    * @param object $form_check obiekt klas FormCheck
+    */
+    function register_cor_form(&$form,&$form_check){
+        global $lang;
+        global $DOCUMENT_ROOT;
+        $this->form=&$form;
+        $this->form_check=&$form_check;
+
+        if (! empty($_SESSION['global_login'])) {
+            include_once("$DOCUMENT_ROOT/go/_users/include/menu.inc.php");
+        }
+
+        $this->bar($lang->bar_title['register_cor']);
+
+        $file="register_cor.html.php";
+        include ("$DOCUMENT_ROOT/themes/include/theme_file.inc.php");
+
+        return(0);
+    } // end register_cor_form()
+
+    /**
+    * Podsumowanie wprowadzonych danych
+    *
+    * @param array $form dane z formularza - dane bilingowe
+    * @param object $form_cor dane z formularza - adres korespondencyjny
+    */
+    function register_confirm(&$form,&$form_cor) {
+        global $lang;
+        global $DOCUMENT_ROOT;
+        $this->form=&$form;
+        $this->form_cor=&$form_cor;
+
+        if (! empty($_SESSION['global_login'])) {
+            include_once("$DOCUMENT_ROOT/go/_users/include/menu.inc.php");
+        }
+
+        $this->bar($lang->bar_title['register_confirm']);
+
+        $file="register_confirm.html.php";
+        include ("$DOCUMENT_ROOT/themes/include/theme_file.inc.php");
+
+    } // end register_confirm()
+
+    /**
+    * Formularz rejestracji uzytkownikow, logowanie - nowy user
+    *
+    * @param array $form dane z formularza
+    * @param object $form_check obiekt klas FormCheck
+    */
+    function users_form(&$form,&$form_check,$file="users.html.php"){
+        global $lang;
+        $this->form=&$form;
+        $this->form_check=&$form_check;
+
+        //if (empty($_SESSION['global_id_user'])) {
+        $this->bar(@$lang->bar_title['users']);
+        //}
+
+        global $DOCUMENT_ROOT;
+        include ("$DOCUMENT_ROOT/themes/include/theme_file.inc.php");
+
+        return(0);
+    } // end users_form()
+
+    /**
+    * Wybor sposobu platnosci
+    */
+    function register_pay_method(){
+        $this->theme_file("register_pay_method.html.php");
+        return(0);
+    } // end register_pay_method()
+
+    /**
+    * Wartosc elementu formularza value=$this->form_val('nazwa_pola')
+    *
+    * @param string $name nazwa pola formularza
+    */
+    function form_val($name) {
+        $form=&$this->form;
+        if (! empty($form[$name])) {
+            print $form[$name];
+        }
+        return(0);
+    } // end form_val()
+
+    /**
+    * Blednie wypelnione pole formularza
+    *
+    * @param string $name nazwa pola formularza
+    * @return wyswietla komunikat o bledzie, jesli takowy zostal wykrypty przez $this->form_check->test()
+    */
+    function form_error($name) {
+        if (! @empty($this->form_check->errors_found[$name])) {
+            print "<font color=red>";
+            print $this->form_check->errors_found[$name];
+            print "</font>\n";
+        }
+        return(0);
+    } // end form_error()
+
+    /**
+    * Formularz wyszukiwania
+    *
+    * @param string $view rodzaj prezentacji fromularza wyszukiwania "vertical" - pionowo, "horizontal" - poziomo
+    */
+    function search_form($view="vertical"){
+        global $lang;
+        global $config;
+
+        // start plugin cd:
+        if ($config->cd==1) return;
+        // end plugin cd:ss
+
+        if ($view=="vertical") $br="<BR>";
+        else $br="";
+
+        print "<div align=\"left\">\n";
+        print "  <form action=\"$config->url_prefix/go/_search/full_search.php\" method=\"get\" name=\"SearchForm\">\n";
+        print "    <input type=\"text\" name=\"search_query_words\" size=\"15\">\n";
+        print "    <input type=\"submit\" value=\"$lang->search\">$br\n";
+        /*
+        print "    <input type=\"checkbox\" name=\"search_category\"    value=\"1\">$lang->search_category $br";
+        print "    <input type=\"checkbox\" name=\"search_description\" value=\"1\">$lang->search_description";
+        print "    <select name=\"search_category\">";
+        print "      <option name=\"product\">".$lang->search_category['products']."</option>\n";
+        print "      <option name=\"product_desc\">".$lang->search_category['products_desc']."</option>\n";
+        print "      <option name=\"all\">".$lang->search_category['all']."</option>\n";
+        print "    </select>";
+        */
+        print "  </form>\n";
+        print "<a href='/go/_search/advanced_search.php'>".@$lang->search_advanced."</a>";   
+        print "</div>\n";
+    } // end search_form()
+
+    /**
+    * Informacja o tym ,z e zamowienie zostalo wyslane
+    */
+    function send_confirm() {
+        $this->theme_file("send_confirm.html.php");
+        return(0);
+    } // end send_confirm()
+
+    /**
+    * Nie udalo sie wysalc zamowienia do sklepu
+    */
+    function send_error() {
+        $this->theme_file("send_error.html.php");
+        return(0);
+    } // end send_error()
+
+    /**
+    * Bledy ciag wyszukiwania
+    */
+    function search_empty() {
+        global $lang;
+        $this->bar($lang->search_empty_title);
+        print "<center>".$lang->search_empty_query."</center>";
+    } // end search_empty()
+
+    /**
+    * Okno prezentacji rekordu (losowanie)
+    */
+    function random_row(&$rec) {
+        global $image,$config;
+
+        global $DOCUMENT_ROOT;
+        $file="random_record.html.php";
+        include ("$DOCUMENT_ROOT/themes/include/theme_file.inc.php");
+
+        return(0);
+    } // end random_row()
+
+    /**
+    * Uzytkwonik zostal zarejestrowny
+    */
+    function users_registered() {
+        $this->theme_file("users_registered.html.php");
+        return(0);
+    } // end users_registered()
+
+    /**
+    * Uzytkwonik zostal zarejestrowny, realizuj zamowienie (koszyk nie jest pusty)
+    */
+    function users_go2register() {
+        $this->theme_file("users_go2register.html.php");
+        return(0);
+    } // end users_registered()
+
+    /**
+    * Formularz logowania uzytkownikow; wylogowanie.
+    */
+    function login_form(){
+        require_once("include/login.inc");
+        $sys_login->login_form();
+        return(0);
+    } // end login_form()
+
+    /**
+    * Formularz logowanie odbiorcy hurtowego; wylogowanie.
+    */
+    function firm_login_form() {
+        require_once("include/firm_login.inc");
+        $f_login->login_form();
+        return(0);
+    } // end firm_login_form()
+
+    /**
+    * Wyswietl liste tematow do wyboru. Je¿eli lista aktywnych (dostêpnych) tematów
+    * sk³ada siê tylko z jednego tematu, to nie jest wy¶wietlona wogóle
+    */
+    function show_themes() {
+        global $config, $lang;
+
+        // start plugin cd:
+        if ($config->cd==1) return '';
+        // end plugin cd:
+
+        if (sizeof($config->themes_active) < 2 ) return;
+
+        reset($config->themes);
+
+        print "<table cellspacing=\"0\" cellpadding=\"0\" border=\"0\">\n";
+        print "  <tr>\n";
+        print "    <td>".$lang->right_choose_layout."&nbsp; </td>\n";
+        print "      <form action=\"".$config->url_prefix."/go/_themes/index.php\">";
+        print "    <td>\n";
+        print "<select name=\"theme\" onChange=\"this.form.submit();\">\n";
+
+        // wy¶wietlenie listy tematów dostêpnych dla u¿ytkownika sklepu (przegl±daj±cego sklep).
+        // Przechodzimy po ca³ej li¶cie tematów, ale wy¶wietlanmy tylko te, które
+        // znajduj± siê na li¶cie dostêpnych (aktywnych) dla klienta
+        while (list($key_theme,$value_theme) = each($config->themes)) {
+            $bExists = false;
+
+            // sprawd¼ czy temat nale¿y do aktywnych tematów
+            foreach($config->themes_active as $key_theme_active=>$value_theme_active) {
+                if ($key_theme_active == $key_theme) {
+                    // Je¿eli temat nale¿y do tematów z listy aktywnych
+                    // to mo¿na go wy¶wietliæ.
+                    $bExists = true;
+                    break;
+                }
+                else {
+                    // Tematu nie wy¶wietlamy poniewa¿ nie nale¿y on do listy
+                    // aktywnych tematów.
+                    $bExists = false;
+                }
+            }
+
+            // przepu¶æ te tematy, które nale¿± do zbioru aktywnych
+            if ($bExists == true)
+            {
+                if ($key_theme==$config->theme) $selected="selected";
+                else $selected="";
+                print "<option value=\"$key_theme\" $selected>$value_theme</option>\n";
+                $bExists = false;
+            }
+        }
+        print "</select>\n";
+        print "</td>\n";
+        print "    <td><input class=\"border0\" type=\"image\" src=\"";
+        $this->bmp("next.gif","layout_buttons");
+        print "\" value=\">\">";
+        print "</td>\n";
+        print "      </form>";
+        print "  </tr>\n";
+        print "</table>\n";
+
+        return(0);
+    } // end show_theme()
+
+    // --- start Plugins ----
+
+    // --- start InCategory --
+    /**
+    * Wiersz prezentacji produktu z tej samej kategorii na liscie w info
+    *
+    * @param object $rec obiekt z danymi produktu $rec->data
+    */
+    function category_row(&$rec) {
+        // nie wstawiac include_once, bo plik ma byc ladowany wiele razy!
+        global $DOCUMENT_ROOT;
+        $file="in_category_row.html.php";
+        include ("$DOCUMENT_ROOT/themes/include/theme_file.inc.php");
+        return(0);
+    } // end category_row()
+    // --- end InCategory ---
+
+    // --- start Reviews ----
+    /**
+    * Wiersz prezentacji recenzji na liscie w info
+    *
+    * @param object $rec obiekt z danymi produktu $rec->data
+    * @author piotrek@sote.pl
+    */
+    function reviews_row(&$rec) {
+        // nie wstawiac include_once, bo plik ma byc ladowany wiele razy!
+        global $DOCUMENT_ROOT;
+        $file="plugins/_reviews/reviews_row.html.php";
+        include ("$DOCUMENT_ROOT/themes/include/theme_file.inc.php");
+        return(0);
+    } // end reviews_row()
+
+    // end Reviews ---
+
+    // --- start HiddenPrice ---
+    /**
+    * Wstaw link zapytaj o cene
+    *
+    * @param string $name nazwa produktu
+    * @public
+    */
+    function ask4price($rec = '') {
+        global $lang,$config, $_SESSION;
+        if((!empty($_SESSION['ask4price_list'])) || (!empty($rec))) {
+            //        if(1) {
+            if(!empty($rec)) {
+                $name_url=urlencode($rec->data['name']);
+                $producer_url=urlencode($rec->data['producer']);
+                $id_url=urlencode($rec->data['user_id']);
+                print "<a href='/plugins/_ask4price/?action=add&id=$id_url&name=$name_url&producer=$producer_url' onclick=\"window.open('','window','width=400,height=300,scrollbars=1,menubar=0,status=0,location=0,directories=0,toolbar=0,resizable=1');\" target='window'>".$lang->ask4price."</a>";
+            }
+            else {
+                print "<a href='/plugins/_ask4price/?action=show' onclick=\"window.open('','window','width=400,height=300,scrollbars=1,menubar=0,status=0,location=0,directories=0,toolbar=0,resizable=1');\" target='window'>".$lang->ask4price_list."</a>";
+            }
+        }
+        return(0);
+    } // end ask4price
+    // --- end HiddenPrice ---
+
+    //-- start UserTrans
+    /**
+    * Nazwy elementow nad lista transakcji
+    */
+    function trans_list_th() {
+        global $lang, $_SESSION;
+        $o="<BR><center>$lang->trans_desc</center>";
+        $o.="<BR><table align=center>";
+        $o.="<tr bgcolor=$this->bg_bar_color_light><th>$lang->trans_id</th><th>$lang->trans_date</th><th>$lang->trans_amount</th><th>$lang->trans_stat</th><th>$lang->trans_pay_conf</th><th>$lang->trans_payment</th>";
+        if(empty($_SESSION['id_partner'])) {
+            $o .= "<th>$lang->trans_ask4trans</th></tr>\n";
+        }
+        else {
+            $o .= "\n";
+        }
+        return $o;
+    }
+    
+      //-- start UserPoints
+    /**
+    * Nazwy elementow nad liscie historii punktow 
+    */
+    
+    function points_list_th() {
+        global $lang;
+        global $lang;
+        $o="<BR><center></center>";
+        $o.="<BR><table align=center>";
+        $o.="<tr bgcolor=$this->bg_bar_color_light><th>$lang->points_action</th><th>$lang->users_points</th><th>$lang->points_time</th><th>$lang->trans_stat</th><th>$lang->trans_id</th><th>$lang->points_id_product</th></tr>\n";
+        return $o;
+        
+    }
+    
+      /**
+    * Wiersz prezentacji historii punktow
+    *
+    * @param object $rec obiekt z danymi produktu $rec->data
+    */
+    function points_record_row(&$rec) {
+        // nie wstawiac include_once, bo plik ma byc ladowany wiele razy!
+        global $DOCUMENT_ROOT;
+        $file="points_record_row.html.php";
+        include ("$DOCUMENT_ROOT/themes/include/theme_file.inc.php");
+        return(0);
+    } // end order_record_row()
+    
+    /**
+    * Wiersz prezentacji transakcji
+    *
+    * @param object $rec obiekt z danymi produktu $rec->data
+    */
+    function trans_record_row(&$rec) {
+        // nie wstawiac include_once, bo plik ma byc ladowany wiele razy!
+        global $DOCUMENT_ROOT;
+        $file="trans_record_row.html.php";
+        include ("$DOCUMENT_ROOT/themes/include/theme_file.inc.php");
+        return(0);
+    } // end order_record_row()
+
+    /**
+    * Edycja transakcji
+    *
+    * @param object $rec obiekt z danymi produktu $rec->data
+    */
+    function trans_product(&$rec) {
+        global $lang;
+        global $config;
+        global $DOCUMENT_ROOT;
+        $file="trans_products.html.php";
+        include ("$DOCUMENT_ROOT/themes/include/theme_file.inc.php");
+        return(0);
+    } // end order_edit()
+
+    /**
+    * Wstaw link, icone z opisem
+    *
+    * @param string $image nazwa fotki z katalogu _img/_icons (wzgledem katalogu tematu)
+    * @param string $link  URL wzgledem domeny
+    * @text  string $text  podpis pod ikonka
+    */
+    function icon($image,$link,$text) {
+        print "
+          <table>
+          <tr>
+           <td valign=top align=center><a href='$link'>";
+        print "<img src='";$this->img("_img/_icons/$image");print "' border=0></a></td>
+          </tr>
+          <tr><td align=center valign=top>$text</td></tr>
+         </table>";
+
+        return(0);
+    } // end icon()
+    // -- end UserTrans
+
+    // -- start producers_category
+    /**
+    * Wyswietl liste producentow, zapamietaj wybranego przez usera producenta
+    *
+    * \@global string $this->producer_filter_name nazwa producenta (filtru kategorii)
+    */
+    function producers_category() {
+        global $lang;
+        global $_REQUEST;
+        global $__all_producers;
+        global $config;
+        include_once("include/lang_functions.inc");
+
+        // start plugin cd:
+        if ($config->cd==1) return '';
+        // end plugins cd:
+
+        if (empty($__all_producers)) {
+            include_once("config/tmp/producer.php");
+        }
+
+        global $_SESSION;
+
+        // odczytaj kategorie dla danego producenta
+        if (ereg("^[0-9]+$",@$_REQUEST['producer_filter'])) {
+            $__producer_filter=$_REQUEST['producer_filter'];
+        } elseif (ereg("^[0-9]+$",@$_SESSION['__producer_filter'])) {
+            $__producer_filter=$_SESSION['__producer_filter'];
+        } else {
+            $__producer_filter='';
+        }
+
+        if (! empty($__all_producers)) {
+            print "<form action=$config->url_prefix/index.php method=GET name=producers>\n";
+            print "<nobr><select name=producer_filter onChange=\"this.form.submit();\" style='width: 98%;'>\n";
+            print "<option value='0'>$lang->producer_select</option>\b";
+            while (list($producer,$id_producer) = each($__all_producers)) {
+                $producer=stripslashes($producer);
+                if ($__producer_filter==$id_producer) {
+                    $selected=" selected";
+                    $this->producer_filter_name=$producer;
+                } else $selected="";
+                if (strlen($producer)>$this->max_producer_chars) $producer=substr($producer,0,$this->max_producer_chars)."...";
+                print "<option value='$id_producer'$selected>" . LangF::translate($producer) . "</option>\n";
+            }
+            print "</select>";
+            //            print "<input type=image src="; $this->bmp("next.gif","layout_buttons"); print " class=\"border0\"></nobr>\n";
+            print "</form>\n";
+        }
+        return;
+    } // end producers_category()
+    // -- end  producers_category
+
+    // --- end Plugins ---
+
+    /**
+    * Funkcja generujca otwarcie okienka z lewej lub prawej strony sklepu
+    *
+    * @param  int    $width     szerokosc tabeli w px
+    * @param  string $data      tekst do wyswietlenia jako nazwa naglowka
+    * @param  int    $width     szerokosc tabeli
+    * @param  int    $bar       generowac naglowek czy okno 1 - naglowek / 0 - tabela
+    * @param  int    $open_body generowac otwarcie okienka czy sam bar 1 - okno / 0 - bar
+    *
+    * @access public
+    *
+    * @return void
+    */
+    function win_top($data='',$width=180,$bar=0,$open_body=1){
+        global $config, $prefix;
+        if($bar==1){
+            $img_file="bar";
+        } else {
+            $img_file="top";
+        }
+        if($data == '&nbsp;')
+        $data = '';
+        $left      = $prefix . $config->theme_config['box']['img'][$img_file]['left'];
+        $center    = $prefix . $config->theme_config['box']['img'][$img_file]['center'];
+        $right     = $prefix . $config->theme_config['box']['img'][$img_file]['right'];
+
+        /**
+    	* pomniejsz szerokosc kolumny
+    	* o szerokosc naroznikow tabeli
+    	* o ile nie wpisano wartosci w %
+    	*/
+        if (preg_match ("/(\%)$/", $width)) {
+            $cell_width="";
+            $open_body=0; // dla wartosc procentowych szerokosci mozna generowac tylko bar'y z tekstem
+        } else {
+            $cell_width=$width-30;
+        }
+        print "<table width=\"$width\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\" align=\"center\" bgcolor=\"" . $config->theme_config['colors']['box_background'] . "\">\n";
+        print "  <tr>\n";
+        print "    <td  align=\"left\" background=\"";
+        $this->img($center);
+        print "\"><img alt=\"\" src=\"";
+        $this->img($left);
+        print "\" ></td>\n";
+        print "    <td width=\"$cell_width\" background=\"";
+        $this->img($center);
+        print "\" align=\"center\" style=\"color: ";
+        if ($bar==1){
+            print  $config->theme_config['colors']['header_font'];
+        } else {
+            print $config->theme_config['colors']['base_font'];
+        }
+        print "; font-weight: bold;\">";
+        print $data;
+        print "</td>\n";
+        print "    <td  align=\"right\" background=\"";
+        $this->img($center);
+        print "\"><img alt=\"\" src=\"";
+        $this->img($right);
+        print "\" ></td>\n";
+        print "  </tr>\n";
+        print "</table>\n";
+
+        /**
+    	* jesli nie jest to bar to zalacz cialo tabelki
+    	*/
+        if ($open_body==1){
+            $this->win_body_open($width);
+        }
+
+        return;
+    } // end win_top()
+
+    /**
+    * Funkcja generujca zamkniecie okienka z lewej lub prawej strony sklepu
+    *
+    * @param int $width szerokosc tabeli w px
+    *
+    * @return void
+    */
+    function win_bottom($width=180){
+
+        global $config, $prefix;
+        $this->win_body_close();
+        $cell_width=$width-30;
+
+        $left      = $prefix . $config->theme_config['box']['img']['bottom']['left'];
+        $center    = $prefix . $config->theme_config['box']['img']['bottom']['center'];
+        $right     = $prefix . $config->theme_config['box']['img']['bottom']['right'];
+
+        print "<table width=\"$width\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\" align=\"center\" bgcolor=\"" . $config->theme_config['colors']['box_background'] . "\">\n";
+        print "  <tr>\n";
+        print "    <td ><img alt=\"\" src=\"";
+        $this->img($left);
+        print "\" ></td>\n";
+        print "    <td width=\"100%\" background=\"";
+        $this->img($center);
+        print "\" align=\"center\" style=\"color: #FFFFFF; font-weight: bold;\"></td>\n";
+        print "    <td ><img alt=\"\" src=\"";
+        $this->img($right);
+        print "\" ></td>\n";
+        print "  </tr>\n";
+        print "</table>\n";
+
+        return;
+    } // end win_bottom()
+
+
+    /**
+    * Funkcja generujca otwarcie ciala okienka z lewej lub prawej strony sklepu
+    *    
+    * @param  int        $width szerokosc tabeli w px
+    *
+    * @access private
+    *
+    * @return void
+    */
+    function win_body_open($width=180){
+        /**
+    	* pomniejszona szerokosc kolumny o szerokosc ramki
+    	* @var int
+    	*/
+        $cell_width=$width-2;
+
+        global $config, $prefix;
+
+        print "<table width=\"".$width."\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\" align=\"center\" bgcolor=\"" . $config->theme_config['colors']['box_background'] . "\">\n";
+        print "  <tr>\n";
+        print "    <td width=\"1\" background=\"";
+        $this->path($prefix . $config->theme_config['box']['img']['middle']['left']);
+        print "\"><img alt=\"\" src=\"";
+        //    	$this->img("_img/_mask.gif");
+        $this->path($prefix . $config->theme_config['box']['img']['middle']['left']);
+        print "\" ></td>\n";
+        print "    <td width=\"100%\" align=\"left\">";
+
+        return;
+    } // win_body_open();
+
+    /**
+    * Funkcja generujca otwarcie ciala okienka z lewej lub prawej strony sklepu
+    *    
+    * @param  int        $width szerokosc tabeli w px
+    *
+    * @private
+    * @return none
+    */
+    function win_body_close(){
+        global $config, $prefix;
+        print "</td>\n";
+        print "    <td width=\"1\" background=\"";
+        $this->path($prefix . $config->theme_config['box']['img']['middle']['right']);
+        print "\"><img alt=\"\" src=\"";
+        //    	$this->img("_img/_mask.gif");
+        $this->path($prefix . $config->theme_config['box']['img']['middle']['right']);
+        print "\" ></td>\n";
+        print "  </tr>";
+        print "  </table>";
+
+        return;
+    } // end win_body_close()
+
+    /**
+    * Link odsy³aj±cy do pe³nej informacji o artykule itp.
+    *
+    * @param string $link link do strony
+    * @param int    $img  format wyswietlanego odsylacza (0 - text/1 - image)
+    *
+    * @return void
+    */
+    function infoOnPageURI($uri="", $img=0) {
+        global $lang;
+
+        if(empty($uri)) return;
+
+        print "<a href=\"".$uri."\">";
+        if($img==1){
+            print "<img src=\"";
+            $this->img("_img/info.gif");
+            print "\" border=\"0\" alt=\"info\" align=\"absmiddle\">";
+        } else print $lang->infoOnPageURI['name'];
+
+        print "</a>&nbsp;";
+
+        return;
+    } // end info()
+
+    /**
+    * wyswietla logo firmy sote oraz link do strony producenta oprogramowania
+    * xHTML 4.01
+    *
+    * @access public
+    *
+    * @return void
+    */
+    function copyrightSOTE(){
+        global $lang;
+
+        print "<table>\n";
+        print "  <tr>\n";
+        print "    <td>";
+        print "<a href=\"http://www.sote.pl\" target=\"_blank\">";
+        print $lang->foot_soft;
+        print "</a>";
+        print "</td>\n";
+        print "    <td>";
+        print "<a href=\"http://www.sote.pl\" target=\"_blank\">";
+        print "<img src=\"";
+        $this->path("_img/_bmp/foot/logo_foot.gif");
+        print "\" border=\"0\" alt=\"Sklepy internetowe\">";
+        print "</a>";
+        print "</td>\n";
+        print "  </tr>\n";
+        print "</table>\n";
+
+        return;
+    } // end copyrightSOTE()
+
+    /**
+    * Generuje link do okienka popup
+    * aby funkcja dzialala poprawnie nalezy w head.html.php
+    * zalaczyc skrypt JavaScript (popupWindow.js) lub napisac funkcje
+    * wywolujaca okno popup i przekazac do niej odpowiednie parametry
+    *
+    * @param string $file   nazwa pliku wyswietlanego w okienku lub adres URI
+    * @param string $alt    informacja wyswietlana jako info po najechaniu myszka na bitmape
+    *                       lub nazwa linku tekstowego
+    * @param int    $img    link w postaci tekstowej lub graficznej (0 - text/1 - bitmapa)
+    * @param int    $width  szerokosc okienka popUp
+    * @param int    $height wysokosc okienka popUp
+    *
+    * @access public
+    *
+    * @return void
+    */
+    function helpPopup($file="",$alt="Info",$img=0,$width=400,$height=300){
+        global $DOCUMENT_ROOT, $config;
+
+        if(empty($file)) return;
+
+        $data=ereg_replace("\.\.","",$file);
+        if(preg_match("([.html]$)",$file)){
+            $_prefix="/themes/_".$config->lang."/_html_files/";
+            if(file_exists($DOCUMENT_ROOT.$_prefix.$data)) $data=$_prefix.$file;
+            else return;
+        }
+        else if(preg_match("([.php]$)",$file)){
+            if(!preg_match("(^[/])",$file)) $file="/".$file;
+            if(!file_exists($DOCUMENT_ROOT.$file)) return;
+        }
+
+        print "<a href=\"javascript:popup('".$file."','".$width."','".$height."','20','20','0')\" onMouseOver=\"window.status=' '; return true;\">";
+
+        if($img==1){
+            print "<img src=\"";
+            $this->bmp("help","layout_buttons");
+            print "\" border=\"0\" alt=\"".$alt."\">";
+        } else print $alt;
+
+        print "</a>\n";
+
+        return;
+    } // end helpPopup()
+
+    /**
+    * pokaz dostepne promocje
+    */
+    function showPromotions(){
+        global $shop;
+
+        print "<div align=\"left\">\n";
+        $shop->promotions();
+        $shop->promotions->basketForm();
+        print "</div>\n";
+
+        return;
+    } // end showPromotions()
+
+    /**
+    * Poka¿ kwotê zamówienia, warto¶æ koszyka w odpowiedniej walucie.
+    * Funckja wykorzystywana do podgl±du warto¶ci zmówienia.
+    *
+    * @author m@sote.pl
+    * @return string warto¶c zamówienia  + waluta
+    */
+    function basketAmount() {
+        global $shop,$_SESSION;
+        $shop->currency();
+        if (! empty($_SESSION['global_basket_amount'])) {
+            $price=$_SESSION['global_basket_amount'];
+            return $shop->currency->price($price)." ".$shop->currency->currency;
+        } else return "0 ".$shop->currency->currency;
+    } // end basketAmount()
+
+
+    /**
+    * Wy¶wietl obiekt SELECT
+    *
+    * @author lech@sote.pl
+    * @param string $name Nazwa i identyfikator obiektu, nazwa zmiennej przekazanej przy zatwierdzeniu formularza
+    * @param array $options Tablica warto¶ci opcji do wyboru, klucz tablicy stanowi warto¶æ pola, warto¶æ tablicy - tekst wy¶wietlany opcji
+    * @param string $selected_value Warto¶æ domy¶lnie wybrana w obiekcie (jeden z kluczy w tablicy opcji)
+    * @param string $javascript dodatkowe parametry znacznika SELECT - w tym kod javascriptu
+    */
+    function inputSelect($name, $options, $selected_value, $javascript = '') {
+        global $lang;
+        echo "<select name='$name' id='$name' $javascript>";
+        print "<option value=0>".$lang->country_user_def."</option>";
+        while(list($key, $val) = each($options)) {
+            $sel = '';
+            if($key == $selected_value)
+            $sel = 'selected';
+            echo "
+            <option value='$key' $sel>$val</option>
+            ";
+        }
+        echo "</select>";
+    }
+
+    /**
+    * Wstaw ukryte pole formularza
+    *
+    * @author lech@sote.pl
+    * @param string $name Nazwa i identyfikator pola, nazwa zmiennej przekazanej przy zatwierdzeniu formularza
+    * @param string $value Warto¶æ domy¶lna pola
+    * @param string $show_value Opcjonany tekst, który mo¿na wy¶wietliæ
+    */
+    function inputHidden($name, $value, $show_value='') {
+        echo "<input type=hidden name='$name' id='$name' value='$value'>$show_value";
+    }
+
+    /**
+    * Wstaw pole z krajami
+    *
+    * @author lech@sote.pl
+    * @param string $name Nazwa i identyfikator pola, nazwa zmiennej przekazanej przy zatwierdzeniu formularza
+    * @param string $value Warto¶æ domy¶lna pola
+    * @param string $locked Blokada pola: je¶li 0: pojawi siê lista rozwijana z mo¿liwo¶ci± wyboru kraju; 1: pojawi siê tylko nazwa kraju bez mo¿liwo¶ci wyboru
+    * @param string $javascript dodatkowe parametry znacznika - w tym kod javascriptu
+    */
+    function inputCountries($name, $value, $locked = 0, $javascript = '') {
+        global $lang;
+        if($locked == 0) {
+            $this->inputSelect($name, $lang->country, $value, $javascript);
+        }
+        else {
+            $this->inputHidden($name, $value, $lang->country[$value]);
+        }
+    }
+
+    /**
+    * Wy¶wietl flagi jêzykowe
+    *
+    * @author lech@sote.pl
+    */
+    function showFlags() {
+        global $config, $config_flags, $DOCUMENT_ROOT;
+        include_once ("$DOCUMENT_ROOT/themes/base/base_theme/_flags/config_flags.inc.php");
+        $lang_count = 0;
+        for($i = 0; $i < count($config->langs_symbols); $i++) {
+            if($config->langs_active[$i])
+            $lang_count++;
+        }
+        if($lang_count > 1) {
+            for($i = 0; $i < count($config->langs_symbols); $i++) {
+                if($config->langs_active[$i]) {
+                    $lang_name = $config->langs_names[$i];
+                    echo "<a href='/go/_lang/?lang_id=$i'><img src='"; $this->img("_flags/" . $config_flags->files[$config->langs_symbols[$i]]); echo "' border=0 alt='$lang_name'>&nbsp;";
+                }
+            }
+        }
+    }
+
+    /**
+    * Wy¶wietl ikonki GG uwzglêdniaj±c odpowiednie statusy wg pliku syatusów.
+    *
+    * @author maciej.s@sote.pl
+    * @param int $gg_id numer GG
+    * @return void
+    */
+    function gg($gg_id){
+        if (! empty($gg_id)){
+        	echo '<img src="http://status.gadu-gadu.pl/users/status.asp?id='.$gg_id.'.&styl=1"><A href="gg:'.$gg_id.'"> Kontakt</A>';
+        }
+    }// end gg()
+
+
+    /**
+    * Wy¶wietl wszystkie kategorie przegl±daj±c je w g³±b rekurencyjnie
+    *
+    * Funkcja wywo³uje sam± siebie dla ka¿dej podkategorii, która nie jest li¶ciem
+    *
+    * @author lech@sote.pl
+    * @param array $sub_arr Tablica kategorii (kopia $__category) lub przekazana podtablica
+    * @param int $level Poziom zagnie¿d¿enia rekurencji
+    * @param string $type google -> linki do stron statycznych, "other" -> linki do stron dynamicznych
+    *
+    * @see config/tmp/category.php
+    */
+    function categoriesRecursive($sub_arr, $level = 0, $type="other") {
+        global $ocnfig;
+        reset($sub_arr);
+        while (list($key, $val) = each($sub_arr)) {
+            $id_cat = $key;
+            $subtree = array();
+            unset($subtree);
+            $subtree = $val;
+            if($level > 0) {
+                if ((is_array($val)) && (empty($val['name']))) {
+                    $arr = array_keys($val);
+                    $subtree = $val[$arr[0]];
+                    $id_cat = $arr[0];
+                }
+            }
+
+            if((!empty($subtree['name'])) && (is_array($subtree))) {
+                if($level == 0) {
+                    if ($type=="google") {
+                        echo "<li><a href='/html/cat_$id_cat".".html'>" . $subtree['name'] . "</a></li>\n";
+                    } else {
+                        echo "<li><a href='/go/_category/?idc=$id_cat'>" . $subtree['name'] . "</a></li>\n";
+                    }
+                }
+                else {
+                    if ($type=="google") {
+                        echo "<li><a href='/html/cat_$id_cat".".html'>" . $subtree['name'] . "</a</li>\n";
+                    } else {
+                        echo "<li><a href='/go/_category/?idc=$id_cat'>" . $subtree['name'] . "</a</li>\n";
+                    }
+                }
+                if (!empty($subtree['elements'])) {
+                    $subsubtree = array();
+                    $subsubtree = $subtree['elements'];
+                    // print "<ul>\n";
+                    $this->CategoriesRecursive($subsubtree, $level + 1);
+                    // print "</ul>\n";
+                }
+            }
+            else {
+                if ($type=="google") {
+                    echo "<li><a href='/html/cat_$val".".html'>" . $key . "</a></li>\n";
+                } else {
+                    echo "<li><a href='/go/_category/?idc=$val'>" . $key . "</a></li>\n";
+                }
+            }
+
+            //        if (is_array())
+        }
+        return;
+    }
+
+
+    /**
+    * Wstaw link do wersji Google dla Google;)
+    *
+    * @author  m@sote.pl
+    * @return void    
+    */
+    function google() {
+        global $config,$lang;
+        if (@$config->google_active) {
+            print "<a href=\"/google.php\">$lang->google_up_link</a>\n";
+        }
+    } // end google()
+
+    function _wishlist($id,$xml_options) {
+    	if (! empty($xml_options)) return 0;
+        $this->_wishlistSimple($id);
+        return;
+    } // end _basket()
+
+    /**
+    * Wy¶wietl ikonkê (formularz) koszyka.
+    * Funkcja powoduje wy¶wietlenie zwyk³ego koszyka. Ró¿ni sie od basket() tym, ¿e nie powoduje
+    * wy¶wietlania formularza z opcjami.
+    *
+    * @param  int    $id identyfikator produktu (id z tabeli main)
+    * @access private
+    * @return none
+    */
+    function _wishlistSimple($id) {
+        global $config;
+        global $lang;
+        if (@$config->catalog_mode==1){
+            return;
+        }
+        global $config, $prefix;
+        print "<form action=\"/go/_basket/index3.php\" method=POST>\n";
+        print "<input type=\"hidden\" name=\"id\" value=\"".$id."\">";
+        print "<input type=\"hidden\" name=\"formName\" value=\"wishlistForm\">";
+        print "<input class=border0 type=\"image\" src=\"";
+        print $this->filepath("_img/_bmp/" . $config->theme_config['icons']['wishlist']);
+        print "\" title=\"".$lang->tooltip['wishlist']."\">";
+        print "</form>\n";
+
+        return;
+    } // end _basketSimple()
+
+    /**
+    * Sprawd¼ czy mo¿na wy¶wietliæ ikonkê koszyk i je¶li tak, to wy¶wietl j±.
+    * Funckja ta zastêpuje wcze¶niejsze wywo³ania postaci $theme->basket().
+    *
+    * @author m@sote.pl
+    * @param  int     $id  id produktu (z tabeli main)
+    * @param  object &$rec adres obiektu z danymi produktu $rec->data
+    * @return none
+    */
+    function recWishlist($id,&$rec) {
+    	if (@$rec->data['points']!=1 && $this->checkView('Basket',$rec)) { 
+            return $this->_wishlist($id,@$rec->data['xml_options']);
+    	}
+    } // end recInfo()
+    // end Basket:
+
+    /**
+    * Przechowalnia jest pusta
+    */
+    function wishlist_empty() {
+        global $lang;
+
+        $this->bar($lang->wishlistForm);
+        print "<p><center>$lang->wishlist_empty</center>";
+        return(0);
+    } // end basket_empty()
+
+    
+    /**
+    * Wyswietl link do przechowalni
+    */
+    function wishlistLink() {
+        global $DOCUMENT_ROOT, $image;
+        $file="wishlistlink.html.php"; $include_once=true;
+        include ("$DOCUMENT_ROOT/themes/include/theme_file.inc.php");
+        return(0);
+    } // end foot()
+
+    
+    /**
+    * Formularz do filtrowania zamówieñ dla partnerów od daty do daty
+    * uzyta w htdocs/index.php
+    *
+    * @access public
+    *
+    * @return void
+    */
+    function ordersFilter() {
+
+        $this->theme_file("orders_filter.html.php");
+
+        return;
+    } // end ordersFilter()
+    
+} // end class Theme
+
+// sprawdz czy sa rozszezenia klas Theme z ktoryms ze zdefinicowanych tematow
+$inode=@fileinode("$DOCUMENT_ROOT/themes/base/$config->theme/theme.inc.php");
+if ($inode>0) {
+    // temat koncowy
+    include_once("$DOCUMENT_ROOT/themes/base/$config->theme/theme.inc.php");
+} else {
+    // sprawdz temat glowny
+    $inode2=@fileinode("$DOCUMENT_ROOT/themes/base/$config->base_theme/theme.inc.php");
+    if ($inode2>0) {
+        include_once("$DOCUMENT_ROOT/themes/base/$config->base_theme/theme.inc.php");
+    }
+} // end if
+
+// sprawdz czy s± pliki konfiguracyjne w zdefiniowanej hierarchii tematów, odczytaj wszystkie
+// definicje konfiguracji w kolejno¶ci od g³ównego tematu do koñcowego
+
+@include_once ("themes/base/base_theme/config/config.inc.php");          // temat g³ówny
+@include_once ("themes/base/$config->base_theme/config/config.inc.php"); // temat bazowy
+@include_once ("themes/base/$config->theme/config/config.inc.php");      // temat koñcowy
+@include_once ("themes/base/$config->theme/config/user_config.inc.php");      // temat koñcowy u¿ytkownika
+
+
+// sprawdz czy sa lokalne rozszerzenia klasy Theme
+@include_once ("./themes/theme.inc.php");
+
+// jesli nie znaleziono zadnej klasy ExtTheme, wedlug ktorej jest utowrzony obiekt $theme
+// to utworz standardowy obiekt $theme
+if (empty($theme)) {
+    $theme =& new Theme;
+}
+?>
diff -ruN ../soteesklep3/include/order/main_keys.inc soteesklep3/include/order/main_keys.inc
--- ../soteesklep3/include/order/main_keys.inc	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/include/order/main_keys.inc	2006-08-23 17:22:53.000000000 +0200
@@ -0,0 +1,721 @@
+<?php
+/**
+* Obsluga przekazania kodow klientowi, przy sprzedazy on-line
+*
+* @author  m@sote.pl
+* @version $Id: main_keys.inc,v 1.6 2005/08/30 12:02:17 maroslaw Exp $
+* @todo Dodaæ sprawdzanie, czy klient wybra³ produkt do sprzeda¿y on-line. Je¶li tak, 
+*       to powinny pojawiæ siê tylko p³atno¶ci z wiarygodnym potwierdzeniem danych
+*       o autoryzacji on-line. Modyfikacja dot. m.in. register_pay_method.html.php
+* @package    include
+*/
+
+global $__secure_test;
+if  (@$__secure_test!=true) die ("Forbidden secure test main_keys");
+
+require_once ("include/my_crypt.inc");
+
+
+class MainKeys {
+    var $status=false;         // znacznik nadania statusu transakcji
+
+    /**
+    * @var array $_mainKeysFTP informacja o tym ktore produkty zawieraja pliki - md5 kodu w main_keys
+    *                          zawartosc pola md5_main_keys przypisanego do produktu kodu
+    */
+    var $_mainKeysFTP=array();
+
+    /**
+    * Pokaz(lub nie) kody do transakcji
+    *
+    * \@global array $_SESSION['prev_session'] wybrane dane z sesji przed skasowaniem koszyka
+    *
+    * @access public
+    * @return none
+    */
+    function show() {
+        global $_SESSION;
+        global $lang;
+        global $db;
+        global $auto_transaction;
+        $prev_sess=@$_SESSION['prev_session'];
+        if (empty($prev_sess)) return false;
+        $order_id=$prev_sess['global_order_id'];
+        // sprawdz czy kwota ujeta w sesji zgadza sie z kwota w bazie
+        // jest to zabezpieczenie przed sfalszowaniem danych w seji, tak zeby nie bylo mozliwe
+        // poprzez zmiane sesji (np. robienie zakupow z 2 okna przegladarki z ta sama sesja) zwiekszyc
+        // ilosci produktow w koszyku, przez co pozniej otrzymac wiekszej ilosci kodow do zamowienia
+        if ($this->check_amount($order_id,$prev_sess['global_basket_amount'])) {
+            // sprawdz czy transakcja zostala zaplacona online
+            if ($this->check_confirm_online($order_id)) {
+                // transkacja zaplacona on-line, pokaz kody dla wybranych produktow,
+                // ktore maja main_keys_online=1 w tabeli main
+                $main_keys=$this->get_main_keys($order_id);
+                $this->show_main_keys($main_keys);
+                if (! empty($main_keys)) {
+                    $this->send_main_keys($main_keys,$order_id);
+                }
+                $this->show_errors();
+            } else {
+                // transakcja nie zostala zaplacona on-line
+                // nic nie wyswietlamy dodatkowo
+            }
+
+            // pokaz linki do plikow demo, jesli takowe sa zdefiniowane dla prouktow w koszyku
+            $this->_showDemoFiles($prev_sess,$order_id);
+
+        } else {
+            // bledna weryfikacja kwoty zamowienia
+        }
+
+        return(0);
+        //        $_SESSION['prev_session']=NULL;
+    } // end show()
+
+    /**
+    * Sprawdz czy kwota zakupow w sesji zgadza sie z kwota w bazie (bez kosztow dostawy)
+    *
+    * @param  int   $order_id id zamowienia
+    * @param  float $amount
+    *
+    * @access public
+    * @return bool  true - kwota ok, false w p.w.
+    */
+    function check_amount($order_id,$amount) {
+        global $db;
+        if (! ereg("^[0-9]+$",$order_id)) die ("Forbidden order_id");
+
+        $query="SELECT amount FROM order_register WHERE order_id=? LIMIT 1";
+        $prepared_query=$db->PrepareQuery($query);
+        if ($prepared_query) {
+            $db->QuerySetInteger($prepared_query,1,$order_id);
+            $result=$db->ExecuteQuery($prepared_query);
+            if ($result!=0) {
+                $num_rows=$db->NumberOfRows($result);
+                if ($num_rows>0) {
+                    $db_amount=$db->FetchResult($result,0,"amount");
+                    if ($amount==$db_amount) return true;
+                    else return false;
+                } else return false;
+            } else die ($db->Error());
+        } else die ($db->Error());
+
+        return false;
+    } // end check_amount()
+
+    function checkAmount($order_id,$amount) {
+        return $this->check_amount($order_id,$amount);
+    } // end checkAmount()
+
+
+    /**
+    * Pokaz kody do produktow zamowionych online
+    *
+    * @param array $main_keys kody
+    *
+    * @access public
+    * @return none
+    */
+    function show_main_keys($main_keys) {
+        global $lang;
+        global $config;
+        global $mdbd;
+        global $auto_transaction;
+        if ($auto_transaction==1) return;
+        if ((! empty($main_keys)) || (! empty($this->_mainKeysFTP))) {
+
+            print "<p /><table align=center width=50% border=0>\n";
+            reset($main_keys);$title=false;
+            while (list($user_id,$keys) = each ($main_keys)) {
+                if ($title==false) {
+                    print "<tr><td width=50%>".$lang->main_keys_title."</td></tr>\n";
+                    $title=true;
+                }
+                if (! empty($this->_mainKeysFTP[$user_id])) {
+                    // plik FTP
+                    $code=$this->_mainKeysFTP[$user_id];
+                    $o=$this->_showCode($code,$user_id);
+                    if (! empty($o)) {
+                        print "<tr>\n";
+                        print "<td valign=top>";
+                        print "<b>".$this->main_keys_name[$user_id]."</b></td>";
+                        // pokaz link do pliku z kodem
+                        print "<td valign=top>\n";
+                        print $o;
+                        print "</td>";
+                        print "</tr>";
+                    }
+                } else {
+                    // kod on-line
+                    print "<tr>\n";
+
+                    if (is_array($keys)) {
+                        print "<td><b>".$this->main_keys_name[$user_id]."</b></td>";
+                        print "<td valign=top>\n";
+                        foreach ($keys as $key) {
+                            print "<li>$key</li>\n";
+                        }
+                        print "</td>\n";
+                    } else {
+                        print "<td><b>".$this->main_keys_name[$user_id]."</b></td>";
+                        print "<td valign=top>".$keys."</td>\n";
+                    }
+                    print "</tr>\n";
+                }
+                print "</tr>\n";
+            } // end foreach
+
+            print "</table>\n";
+            print "<p />";
+        }
+
+        // sprawdz czy do produktu jest przypisany plik
+        if (! empty($this->_mainKeysFTP[@$user_id])) {
+            $this->_showMainKeysFTP($user_id);
+        }
+
+        return(0);
+    } // end show_main_keys()
+
+    /**
+    * Wstaw link do danego programu/pliku wg podanego kode $code
+    *
+    * @param string $code     kod do pliku
+    * @param string $user_id  user_id produktu
+    * @param string $type     HOST|NONE HOST oznacza wsatwienie pelnego linku http://
+    * @param string $file_ftp nazwa pliku do pobrania
+    *
+    * @access private
+    * @return string kod HTML z linkiem do pliku
+    */
+    function _showCode($code,$user_id,$type="NONE",$file_ftp='') {
+        global $mdbd,$config,$lang;
+        global $auto_transaction;
+        if ($auto_transaction==1) return;
+        if (empty($file_ftp)) {
+            $file_ftp=$mdbd->select("ftp","main_keys_ftp","user_id_main=? AND demo=0",array($user_id=>"text"),"LIMIT 1");
+            if (empty($file_ftp)) return '';
+        }
+        if ($type=="HOST") {
+            $prefix="http://".$_SERVER['HTTP_HOST'];
+            $o="$prefix".$config->url_prefix."/plugins/_main_keys/$file_ftp?code=$code";
+        } else {
+            $o="<a href=".$config->url_prefix."/plugins/_main_keys/$file_ftp?code=$code>";
+            $o.="<u>".$file_ftp." ".$lang->main_keys_download."</u></a>";
+        }
+
+        return $o;
+    }  // end _showCode()
+
+    function showMainKeys($main_keys) {
+        return $this->show_main_keys($main_keys);
+    } // end showMainKeys()
+
+    /**
+    * Sprawdz czy produkt ma przypisany plik, jesli tak to zapisz dane w $this->_mainKeysFTP[$user_id]
+    * oraz generuj wpis do main_keys z losowym kodem, ktory zostanie przypisany do zamowienia
+    *
+    * @param string $user_id            user_id produktu
+    * \@global array $this->_maimKeysFTP informacje o plikach przypisanych do produktu
+    *
+    * @access private
+    * @return none
+    */
+    function _setMainKeysFTP($user_id) {
+        global $mdbd;
+        $my_crypt = new MyCrypt;
+        $file=$mdbd->select("ftp","main_keys_ftp","user_id_main=? AND active=1",array($user_id=>"int"),"LIMIT 1");
+        $rnd_key=$my_crypt->endecrypt("",$this->_randomKey()); $md5_rnd_key=md5($rnd_key);
+        if (! empty($file)) {
+            $mdbd->insert
+            ("main_keys","user_id_main,main_key,main_key_md5","?,?,?",
+            array("1,".$user_id=>"text",
+            "2,".$rnd_key=>"text",
+            "3,".$md5_rnd_key=>"text"
+            )
+            );
+            $this->_mainKeysFTP[$user_id]=$md5_rnd_key;
+        }
+        return(0);
+    } // end _setMainKeysFTP()
+
+    /**
+    * Generuj lossowy kod
+    *
+    * @access private
+    * @reutrn string losowy kod 32 znaki
+    */
+    function _randomKey() {
+        return md5(microtime().date("YmdHis").rand(1,1000000));
+    } // end randomKey()
+
+    /**
+    * Send main_keys, wyslij kody do klienta
+    *
+    * @param  array $main_keys kody dla uzytkwonika wg. kluczy reprezentujacyhc dany produkt
+    * @param  int   $order_id  id zamowienia
+    * @return bool true - kody wyslane do klienta, false - nie udalo sie wyslac kodow mailem
+    */
+    function send_main_keys($main_keys,$order_id) {
+        global $shop;
+        global $config;
+        global $_SESSION;
+        global $lang;
+
+        // start #240
+        // if (! empty($_SESSION['form']['email'])) {
+        //     $email=$_SESSION['form']['email'];
+        // } else return false;
+        global $mdbd;
+        global $database;
+        $id_users_data=$mdbd->select("id_users_data","order_register","order_id=?",array($order_id=>"int"),"LIMIT 1");
+        $crypt_email=$mdbd->select("crypt_email","users","id=?",
+        array($id_users_data=>"int"),"LIMIT 1");
+        $my_crypt = new MyCrypt;
+        $email=$my_crypt->endecrypt("",$crypt_email,"de");
+        if (empty($email)) return false;
+        // end #240
+
+        if (! ereg("^[0-9]+$",$order_id)) return false;
+
+        $from=$config->from_email;
+        $to=$email;
+        $subject=$config->www.": ".$lang->main_keys_mail['subject']." ORDER-ID: ".$order_id;
+
+        // start tresc maila:
+        $body='';
+        $body.=$lang->main_keys_mail['title']." $config->www:\n\n";
+        while (list($user_id,$keys) = each ($main_keys)) {
+            $name=$this->main_keys_name[$user_id];
+            $body.=$lang->main_keys_mail['user_id'].": ".$user_id." ".$lang->main_keys_mail['name'].": $name\n";
+            if (! empty($this->_mainKeysFTP[$user_id])) {
+
+                $code=$this->_mainKeysFTP[$user_id];
+                $body.="\t".$this->_showCode($code,$user_id,"HOST")."\n";
+            } else {
+                if (is_array($keys)) {
+                    foreach ($keys as $key) {
+                        $body.="\t $key\n";
+                    } // end foreach
+                } else {
+                    $body.="\t $keys\n";
+
+                }
+            }
+
+        } // end foreach
+        $body.="\n";
+        // end tresc maila:
+
+        $reply=$config->from_email;
+
+        $shop->mail();
+        $shop->mail->send($from,$to,$subject,$body,$reply);
+        return (0);
+    } // end send_main_keys()
+
+    function sendMainKeys($main_keys,$order_id) {
+        return $this->send_main_keys($main_keys,$order_id);
+    } // end sendmainKeys()
+
+    /**
+    * Pokaz dodatkowe komuniakty o "bledach" do zamowienia
+    *
+    * @access public
+    * @return none
+    */
+    function show_errors() {
+        global $lang;
+        global $auto_transaction;
+        if ($auto_transaction==1) return;
+        if (! empty($this->errors)) {
+            reset($this->errors);
+            print "<p></p>\n";
+            print "<table><tr><td valign=top align=left>\n";
+            print "&nbsp;".$lang->main_keys_errors_title."<br />\n";
+            print "<table>\n";
+            print "<tr><th align=left>".$lang->main_keys_cols['name']."</th><th align=left>".$lang->main_keys_cols['info']."</tr>\n";
+            print "<tr>";
+            while (list($name,$error) = each ($this->errors)) {
+                print "<td valign=top><b>$name</b></td valign=top><td>$error</td>\n";
+            }
+            print "</tr>\n";
+            print "</table>\n";
+            print "</td></tr></table>";
+            print "<p></p>";
+        }
+
+        return(0);
+    } // end show_errors()
+
+    function showErrors() {
+        return $this->show_errors();
+    } // end showErrors()
+
+    /**
+    * Odczytaj liste produktow i ilosc z zamowienia z order_register
+    *
+    * @param int $order_id id zamowienia
+    *
+    * @access private
+    * @return array lista produktow + ilosc array(0=>array("user_id"=>"A001","num"=>2),
+    *                                                array("user_id"=>"B002","num"=>1)), ...
+    */
+    function _order2Items($order_id) {
+        global $mdbd;
+        $order=$mdbd->select("user_id_main,name,num","order_products","order_id=?",array($order_id=>"int"),'',"ARRAY");
+        return $order;
+    } // end _order2Items()
+
+    /**
+    * Sprawdz, czy ktorys z produktow z koszyka jest do sprzedazy
+    * on-line i jesli tak to pobierz odpowiednie kody
+    *
+    * @param int    $order_id id zamowienia
+    * \@global array $_SESSION['prev_session'] wybrane dane z sesji przed skasowaniem koszyka
+    * \@global array $this->main_keys_name nazwy produktow user_id->nazwa
+    *
+    * @access public
+    * @return array $this->main_keys kody do zamowienia
+    */
+    function get_main_keys($order_id) {
+        global $lang;
+
+        if (! ereg("^[0-9]+$",$order_id)) return false;
+
+        $this->main_keys=array();
+
+        // #234
+        // global $_SESSION;
+        // $items=$_SESSION['prev_session']['my_basket']->items;
+        // odczytaj liste produktow + ilosc z zamowienia
+        // end #234
+        $items=$this->_order2Items($order_id);
+        if (! empty($items)) {
+
+            foreach ($items as $item) {
+                $item['user_id']=$item['user_id_main'];
+                // sprawdz czy produkt ma przypisany jakis plik
+                // jesli tak, to generuj wpis kodu do main_keys
+                $this->_setMainKeysFTP($item['user_id']);
+
+                $keys=$this->get_key($item['user_id'],$item['num'],$order_id);
+                if (($keys) && ($keys!=-1)) {
+                    $this->main_keys[$item['user_id']]=$keys;
+                    $this->main_keys_name[$item['user_id']]=$item['name'];
+                    if (! $this->status) {
+                        // przydzielono kody do zamowienia
+                        $this->set_status($order_id,'001');
+                    }
+                } elseif ($keys==-1) {
+                    // produkt nie ma przypisanych kodow, produkt nie sprzedawany on-line
+                } else {
+                    // dla danego $item zabraklo kodow
+                    $this->set_status($order_id,'050');
+                    $this->errors[$item['name']]=$lang->main_keys_empty;
+                }
+
+            } // end foreach
+        } else {
+            return false;
+        }
+
+        return $this->main_keys;
+    } // end get_main_keys()
+
+    function getMainKeys($order_id) {
+        return $this->get_main_keys($order_id);
+    } // end getMainKeys()
+
+    /**
+    * Ustaw status dot. main_keys
+    *
+    * @param  int    $order_id id zamowienia
+    * @param  string $status   status  dot. main_keys np.
+    *                          '050' - zabraklo kodow do realizacji calego zlecenia
+    *
+    * @access public
+    * @return bool   true - status zaktualizowany, false - w p.w.
+    */
+    function set_status($order_id,$status) {
+        global $db;
+
+        $query="UPDATE order_register SET main_keys_status=? WHERE order_id=?";
+        $prepared_query=$db->PrepareQuery($query);
+        if ($prepared_query) {
+            $db->QuerySetText($prepared_query,1,$status);
+            $db->QuerySetInteger($prepared_query,2,$order_id);
+            $result=$db->ExecuteQuery($prepared_query);
+            if ($result!=0) {
+                $this->status=true;
+                return true;
+            } else die ($db->Error());
+        } else die ($db->Error());
+
+        return false;
+    } // end set_status()
+
+    function setStatus($order_id,$status) {
+        return $this->setStatus();
+    } // end setStatus()
+
+    /**
+    * Odczytaj kody dla danego produktu
+    *
+    * @param string $user_id  user_id produktu
+    * @param int    $num      ilosc zakupionego produktu
+    * @param int    $order_id id zamowienia
+    *
+    * @access public
+    * @return string|array|int 1 kod lub tablica kodow, -1 - produkt nie jest sprzedawany on-line
+    */
+    function get_key($user_id,$num=1,$order_id) {
+        global $db;
+
+        $my_crypt = new MyCrypt;
+
+        // sprawdz czy produkt jest ma kody
+        $query="SELECT main_keys_online FROM main WHERE user_id=? LIMIT 1";
+        $prepared_query=$db->PrepareQuery($query);
+        if ($prepared_query) {
+            $db->QuerySetText($prepared_query,1,$user_id);
+            $result=$db->ExecuteQuery($prepared_query);
+            if ($result!=0) {
+                $num_rows=$db->NumberOfRows($result);
+                if ($num_rows>0) {
+                    $main_keys=$db->FetchResult($result,0,"main_keys_online");
+                    if ($main_keys!=1) return -1;
+                } else return false;
+            } else die ($db->Error());
+        } else die ($db->Error());
+        // end
+
+        // odczytaj kody dla produktu
+        $query="SELECT id,main_key FROM main_keys WHERE user_id_main=? AND order_id=0 ORDER BY id LIMIT ?";
+        $prepared_query=$db->PrepareQuery($query);
+        if ($prepared_query) {
+            $db->QuerySetInteger($prepared_query,1,$user_id);
+            $db->QuerySetInteger($prepared_query,2,$num);
+            $result=$db->ExecuteQuery($prepared_query);
+            if ($result!=0) {
+                $num_rows=$db->NumberOfRows($result);
+                if ($num_rows==1) {
+                    $crypt_main_key=$db->FetchResult($result,0,"main_key");
+                    $id=$db->FetchResult($result,0,"id");
+                    if (! $this->set_key_used($id,$order_id)) return false;
+                    $main_key=$my_crypt->endecrypt("",$crypt_main_key,"de");
+
+                    return $main_key;
+
+                } elseif ($num_rows==$num) {
+                    // zmiana na warunek >1, spowoduje wyswietlenie dostepnej ilosci kodow nie koniecznie=$num
+                    $tab_main_keys=array();
+                    for ($i=0;$i<$num_rows;$i++) {
+                        $crypt_main_key=$db->FetchResult($result,$i,"main_key");
+                        $main_key=$my_crypt->endecrypt("",$crypt_main_key,"de");
+                        $tab_main_keys[$i]=$main_key;
+                        $id=$db->FetchResult($result,$i,"id");
+                        if (! $this->set_key_used($id,$order_id)) return false;
+
+                    } // end for
+                    return $tab_main_keys;
+                } else {
+                    return false;
+                }
+            } else die ($db->Error());
+        } else die ($db->Error());
+        // end
+
+        return false;
+    } // end get_key();
+
+    function getKey($user_id,$num=1,$order_id) {
+        return $this->get_key($user_id,$num,$order_id);
+    } // end getKey()
+
+    /**
+    * Zaznacz kod jako wykorzystany przez nadanie mu numeru order_id
+    *
+    * @param int $id       id kodu z tabeli main_keys
+    * @param int $order_id id zamowienia
+    *
+    * @access public
+    * @return none
+    */
+    function set_key_used($id,$order_id) {
+        global $db;
+
+        if (! ereg("^[0-9]+$",$id)) return false;
+        if (! ereg("^[0-9]+$",$order_id)) return false;
+
+        $query="UPDATE main_keys SET order_id=? WHERE id=?";
+        $prepared_query=$db->PrepareQuery($query);
+        if ($prepared_query) {
+            $db->QuerySetInteger($prepared_query,1,$order_id);
+            $db->QuerySetInteger($prepared_query,2,$id);
+            $result=$db->ExecuteQuery($prepared_query);
+            if ($result!=0) {
+                return true;
+            } else die ($db->Error());
+        } else die ($db->Error());
+
+        return false;
+    } // end set_key_used()
+
+    function setKeyUsed($id,$order_id) {
+        return $this->set_key_used($id,$order_id);
+    } // end setKeyUsed
+
+    /**
+    * Sprawdz czy transakcja zostala zaplacona on-line
+    *
+    * @param  int $order_id order_id zamowienia
+    *
+    * @access public
+    * @return bool true transakcja zaplacona online, false w p.w.
+    */
+    function check_confirm_online($order_id) {
+        global $db;
+        global $auto_transaction;
+        if ($_SESSION['global_id_pay_method']==21) {
+            if ($auto_transaction!=true) return false;
+        }
+        if (! ereg("^[0-9]+$",$order_id)) return false;
+        $query="SELECT confirm,checksum,confirm_online,checksum_online,amount,delivery_cost FROM order_register WHERE order_id=? LIMIT 1";
+        $prepared_query=$db->PrepareQuery($query);
+        if ($prepared_query) {
+            $db->QuerySetInteger($prepared_query,1,$order_id);
+            $result=$db->ExecuteQuery($prepared_query);
+            if ($result!=0) {
+                $num_rows=$db->NumberOfRows($result);
+                if ($num_rows>0) {
+                    $confirm=$db->FetchResult($result,0,"confirm");
+                    $checksum=$db->FetchResult($result,0,"checksum");
+
+                    $confirm_online=$db->FetchResult($result,0,"confirm_online");
+                    $checksum_online=$db->FetchResult($result,0,"checksum_online");
+                    if (empty($checksum_online)) return false;
+                    $amount=$db->FetchResult($result,0,"amount");
+                    $delivery_cost=$db->FetchResult($result,0,"delivery_cost");
+                    $amount_all=number_format(($amount+$delivery_cost),2,".","");
+                    // sprawdz sume kontrolna
+                    // sprawdzamy dla confirm=0 bo transakcja nie ma jeszzce zmienionego statusu w bazie
+                    require_once ("include/order_register.inc");
+                    $my_checksum=OrderRegisterChecksum::checksum($order_id,0,$amount);
+                    $my_checksum_online=OrderRegisterChecksum::checksum($order_id,0,$amount_all);
+                    // TMP wylaczenie sprawdzenia sumy kontrolnej i platnosci online
+//                    return true;
+                    // end
+                    if (($my_checksum_online!=$checksum_online) && ($my_checksum!=$checksum)) return false;
+                    else {
+                        // sprawdz czy status platnosci online = 1
+                        if (($confirm_online==1) | ($confirm==1)) {
+                            return true;
+                        } else return false;
+                    }
+
+                } else return false;
+            } else die ($db->Error());
+        } else die ($db->Error());
+
+        return false;
+    } // end check_confirm_online()
+
+    function checkConfirmOnline($order_id) {
+        return $this->check_confirm_online($order_id);
+    } // end checkConfirmOnline()
+
+    /**
+    * Sprawdz czy dany produkt ma przypisany plik DEMO, jesli tak to odczytaj nazwe pliku
+    *
+    * @param string $user_id user_id produktu
+    *
+    * @access private
+    * @return string  nazwa pliku demo lub none
+    */
+    function _getDemoFile($user_id) {
+        global $mdbd;
+        $demo_file=$mdbd->select("ftp","main_keys_ftp","user_id_main=? AND demo=1",array($user_id=>"text"),"LIMIT 1");
+        return $demo_file;
+    } // end _getDemoFile()
+
+    /**
+    * Pokaz linki do plikow demo
+    *
+    * @param array $prev_sess dane dot. kszyka z sesji z zankupow
+    * @param int   $oreder_id ID zamowienia
+    *
+    * @access private
+    * @return none
+    */
+    function _showDemoFiles($prev_sess,$order_id) {
+        global $lang;
+        global $mdbd;
+        global $auto_transaction;
+        if ($auto_transaction==1) return(0);
+        $my_basket=$prev_sess['my_basket'];
+        $items=@$my_basket->items;
+        if (! empty($items)) {
+            reset($items);$title=false;
+            foreach ($items as $item) {
+                $demo_file=$this->_getDemoFile($item['user_id']);
+                if (! empty($demo_file)) {
+                    $this->_setMainKeysFTP($item['user_id']);
+                    if ($title==false) {
+                        print "<p /><table width=50%>";
+                        print "<tr><td width=50%>".$lang->main_keys_demo_title."</td></tr>";
+                        $title=true;
+                    } else print "<tr>";
+                    $dat=$mdbd->select("id","main_keys_ftp","user_id_main=? AND demo=1",
+                    array($item['user_id']=>"text","LIMIT 1"));
+                    $name=$mdbd->select("name_L0","main","user_id=?",array($item['user_id']=>"text"),"LIMIT 1");
+                    $id=$dat['id'];
+                    print "<td><b>".$name."</b></td>";
+                    print "<td>";
+                    print $this->_showCode($this->_mainKeysFTP[$item['user_id']],$item['user_id'],"NONE",$demo_file);
+                    print "</td>";
+                    print "</tr>";
+                } // end if
+            } // end foreach
+            print "</table>\n";
+        } // end if
+
+        return(0);
+    } // end _showDemoFiles()
+
+    function show_info() {
+        global $lang;
+        $id_pay_method=$_SESSION['global_id_pay_method'];
+        $order_id=$_SESSION['global_order_id'];
+        if (empty($order_id)) $order_id=$_SESSION['prev_session']['global_order_id'];
+        switch ($id_pay_method) {
+            case 21:
+                if ($this->_check4keys($order_id)) print $lang->main_keys_via_email;
+                return;
+                break;
+            case 20:
+                if ($this->_check4keys($order_id)) print $lang->main_keys_platnosciPL;
+                return;
+                break;
+            default:
+                $this->show();
+                break;
+        }
+        return;
+    }
+    
+    function _check4keys($order_id=0) {
+        global $shop;
+        global $mdbd;
+        $items=$this->_order2Items($order_id);
+        foreach ($items as $item) {
+            $user_id=$item['user_id_main'];
+            $is_online=$mdbd->select('main_keys_online','main',"user_id=$user_id");
+            if ($is_online==1) {
+                return true;
+            }
+        }
+        return false;
+    }
+} // end class MainKeys
+?>
diff -ruN ../soteesklep3/include/order/order.inc soteesklep3/include/order/order.inc
--- ../soteesklep3/include/order/order.inc	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/include/order/order.inc	2006-08-23 17:22:53.000000000 +0200
@@ -0,0 +1,737 @@
+<?php
+/**
+* Obs³uga transakcji.
+*
+* @author  m@sote.pl
+* @version $Id: order.inc,v 1.37 2006/06/29 14:23:15 lukasz Exp $
+* @package    include
+*/
+/**
+* Dodanie klasy generuj±cej sumê kontroln± transakcji.
+*/
+require_once ("include/order/checksum.inc");
+
+/**
+* Dodanie klasy obs³ugi cen
+*/
+require_once ("include/price.inc");
+
+/**
+* Dodaj klasê obs³ugi kodowania danych.
+*/
+require_once ("include/my_crypt.inc");
+
+/**
+* Dodaj obs³ugê newslettera
+*/
+require_once ("include/newsletter_add.inc");
+
+/**
+* Klasa obs³ugi transakcji.
+* @package order
+* @subpackage htdocs
+*/
+class OrderRegister {
+    
+    /**
+    * Konstruktor
+    *
+    * @return none
+    */
+    function OrderRegister() {
+        $this->order_id=$this->getOrderID();
+        return;
+    } // end OrderRegister()
+    
+    /**
+    * Zapisz numer transakcji w sesji
+    *
+    * @param int $order_id numer transakcji
+    *
+    * @access private
+    * @return none
+    */
+    function _register($order_id) {
+        global $global_order_id,$sess;
+                
+        $global_order_id=$order_id;
+        $this->order_id=$order_id;
+        $sess->register("global_order_id",$global_order_id);
+        return;
+    } // end register()
+    
+    /**
+    * Odczytaj numer zamówienia
+    *
+    * @return int numer zamówienia, 0 - jesli nie ma nadanego numeru order_id
+    */
+    function getOrderID() {
+        global $_SESSION;
+        
+        $order_id=0;
+        if (! empty($this->order_id)) {            
+            $order_id=$this->order_id;
+        } elseif (! empty($_SESSION['global_order_id'])) {
+            $order_id=$_SESSION['global_order_id'];
+        }
+//        die($order_id);
+        return $order_id;
+    } // end getOrderID()
+    
+    /**
+    * Odczytaj numer ID transakcji + date (dzien/miesiac/rok)
+    *
+    * @return string format 1001/2004/03/12, gdzie 1001 to order_id
+    */
+    function getOrderIDDate() {
+        return $this->getOrderID()."/".date("Y/m/d");
+    } // end getOrderIDDate();
+    
+    /**
+    * @deprecated since 3.0
+    */
+    function xml_user() {}
+    
+    /**
+    * Opis transakcji w XML
+    * @deprecated ver. 3.0
+    */
+    function xml_description() {
+        return;
+    } // end xml_description()
+    
+    /**
+    * Dodaj transakcje do bazy.
+    * UWAGA! Uzytkownik zapisujacy do bazy transakcje, nie ma praw SELECT do tabeli.
+    *
+    * \@global int $this->order_id
+    * \@global string $this->order_id_date
+    * \@global int $global_id_pay_method id metody p³tno¶ci
+    */
+    function insert() {
+        global $_SESSION;
+        global $sess;
+        global $_SERVER;
+        global $global_id_pay_method;
+        global $db;
+        global $config;
+        global $theme;
+        global $mdbd;
+        
+        // odczytaj dane bilingowe
+        if (! empty ($_SESSION['form'])) {
+            $form=$_SESSION['form'];
+        } else $form=array();
+        
+        // odczytaj dane dotsawy
+        if (! empty ($_SESSION['form_cor'])) {
+            $form_cor=$_SESSION['form_cor'];
+        } else $form_cor=array();
+        
+        $global_delivery=$_SESSION['global_delivery']; // ['id'] ['name'] ['cost']
+        $delivery_cost=$global_delivery['cost'];
+        $id_delivery=$global_delivery['id'];
+        
+        // dodaj klase OrderRegister + utowrzenie obiektu tej klasy: $order
+        require_once ("include/order.inc.php");
+        // generuj numer zamowienia
+        $order->get_id();
+        // zapamietaj numer order_id i order_id_date, dane do przekazania poza klasa
+        $this->order_id=$order->id;
+        $this->order_id_date=$order->id_date;
+        
+        $order_id=$this->order_id;
+        $order_session=$mdbd->select('id','order_register',"session_id='".$sess->id."'");
+        if (empty($_SESSION['order_session']) && empty($order_session)) {
+        	$_SESSION['order_session']=$sess->id;
+        } else {
+        	$_SESSION['order_session']=md5(time());
+        }
+        $session_id=$_SESSION['order_session'];
+        $amount=$_SESSION['global_basket_amount'];
+        if (in_array("discounts",$config->plugins)) {
+            $my_price = new MyPrice;
+            $amount=$my_price->promotionsAmount($amount);
+        }
+        $date_add=date("Y-m-d");
+        $time_add=date("H:i:s");
+        $id_pay_method=$global_id_pay_method;
+        $remote_ip=$_SERVER['REMOTE_ADDR'];
+        
+       // dodaj ades e-mail klienta do bazy newslettera
+       if ($form['news']=='yes'){
+       	add_2_newsletter($form['email'],$date_add,1,1,@$email_md5,":1:",$config->lang);     
+       }
+
+        require_once("include/my_crypt.inc");
+        global $my_crypt;
+        $crypt_email=$my_crypt->endecrypt("",$form['email']);
+        
+        // @deprecated ver. 3.0 $crypt_xml_description=$my_crypt->endecrypt("",$this->xml_description());
+        $crypt_xml_description='';
+        
+        // odczytaj id uzytkownika, jesli jest zalogowany
+        if (! empty($_SESSION['global_id_user'])) {
+            $id_users=$_SESSION['global_id_user'];
+        } else $id_users=-1;
+        
+        // identyfikacja partnera - modul partners
+        if (! empty($_SESSION['global_partner_id'])) {
+            $partner_id=$_SESSION['global_partner_id'];
+            
+            // oblicz prowizje dla partnera
+            $rake_off=$mdbd->select("rake_off","partners","partner_id=?",array($partner_id=>"int"));  // prowizja procentowa dla danego partnera
+            $rake_off_amount=$amount*($rake_off/100);                                         // prowizja dla partnera od produktu
+            // end oblicz prowizje dla partnera
+            
+            // pobierz nazwe partnera z bazy
+            $partner_name=$mdbd->select("name","partners","partner_id=?",array($partner_id=>"int"));
+        } else {
+            $partner_id=0;
+            $rake_off_amount=0;
+            $partner_name='';
+        };
+        // end partners module
+        
+        // koduj dane klienta
+        $crypt_xml_user=$my_crypt->endecrypt("",$this->xml_user());
+        $crypt_name=$my_crypt->endecrypt("",$form['name']." ".$form['surname']);
+        
+        // statusy domyslne
+        $id_status=0;
+        $confirm=0;
+        
+        // sprawdz czy produkt byl polecany wczesniej przez innego uzytkownika sklepu
+	    $items=@$_SESSION['global_basket_data']['items'];
+        foreach ($items as $key=>$value) {
+        	if ($value['user_id']==@$_SESSION['recom']['recom_product']) {
+        		$recom_id_user=@$_SESSION['recom']['recom_user'];
+				$recom_code=@$_SESSION['recom']['recom_code'];
+				$sess->unregister('recom');
+        	} else {
+        		$recom_id_user="0";
+				$recom_code="0";
+        	}
+        }
+        // suma kontrolna potwierdzenia transakcji
+        $amount_all=$theme->price($amount+$delivery_cost);
+        $checksum = OrderChecksum::checksum($order_id,0,$amount);
+        $checksum_online = OrderChecksum::checksum($order_id,0,$amount_all);
+        // end
+        
+        // start oblicz date: do kiedy nalezy potwierdzic transakcje
+        $date_confirm='0000-00-00';
+        if (! empty($config->order_timeout[$id_pay_method])) {
+            require_once ("Date/Calc.php");
+            $day=date("d")+$config->order_timeout[$id_pay_method]-1;  // -1 bo obliczmy date wg funkcji nextDay
+            $month=date("m");
+            $year=date("Y");
+            $date_confirm=Date_Calc::nextDay($day,$month,$year,$format="%Y-%m-%d");
+        }
+        // end oblicz date:
+        
+        // dodaj dane klienta do bazy, niezaleznie od tego czy user jest zalogowany
+        // dane klient sa zapisywane jako nowy rekord
+        $id_users_data=$this->_addUser($_SESSION['form'],@$_SESSION['form_cor']);
+        
+        // je¿eli transakcja szla przez karte - konieczne sa dodatkowe wpisy do bazy
+        if ($id_pay_method==110) {
+        	require_once('include/order/card.inc');
+        	$card=& New Card_Pay;
+        	$id_card_pay=$card->save_to_db();
+        } else $id_card_pay=0;
+        
+        // obs³uga zamówieñ produktów punktowych
+        global $shop;
+        if ($shop->basket->mode=="points") {
+        	require_once("include/order/points.inc");
+        	$points=&new Points_pay();
+        	$points->pay_with_points($this->getOrderID());
+        	$is_points="1";
+        } else $id_points="0";
+        $query="INSERT INTO order_register (order_id,session_id,amount,delivery_cost,id_delivery,
+                                            id_pay_method,date_add,time_add,remote_ip,
+                                            id_users,
+                                            id_status,confirm,
+                                            partner_id,rake_off_amount,partner_name,
+                                            checksum,checksum_online,date_confirm,
+                                            id_promotions,promotions_name,promotions_discount,
+                                            total_amount,id_users_data,user_description,record_version,
+                                            id_card_pay,recom_id_user,recom_code,lang_id,
+                                            points
+                                            )
+                       VALUES (?,?,?,?,?,
+                               ?,?,?,?,
+                               ?,
+                               ?,?,
+                               ?,?,?,
+                               ?,?,?,
+                               ?,?,?,
+                               ?,?,?,'30',?,?,?,?,?)";
+        
+        $prepared_query=$db->PrepareQuery($query);
+        if ($prepared_query) {
+            $db->QuerySetInteger($prepared_query,1, $order_id);
+            $db->QuerySetText(   $prepared_query,2, $session_id);
+            $db->QuerySetText(   $prepared_query,3, $amount);
+            $db->QuerySetText(   $prepared_query,4, $delivery_cost);            
+            $db->QuerySetText(   $prepared_query,5, $id_delivery);
+            
+            $db->QuerySetInteger($prepared_query,6, $id_pay_method);
+            $db->QuerySetText(   $prepared_query,7, $date_add);
+            $db->QuerySetText(   $prepared_query,8, $time_add);
+            $db->QuerySetText(   $prepared_query,9, $remote_ip);
+                        
+            $db->QuerySetInteger($prepared_query,10,$id_users);            
+                                   
+            $db->QuerySetInteger($prepared_query,11,$id_status);
+            $db->QuerySetText(   $prepared_query,12,$confirm);
+            
+            $db->QuerySetInteger($prepared_query,13,$partner_id);
+            $db->QuerySetInteger($prepared_query,14,$rake_off_amount);
+            $db->QuerySetText(   $prepared_query,15,$partner_name);
+            
+            $db->QuerySetText(   $prepared_query,16,$checksum);
+            $db->QuerySetText(   $prepared_query,17,$checksum_online);
+            $db->QuerySetText(   $prepared_query,18,$date_confirm);
+            
+            $db->QuerySetText(   $prepared_query,19,@$_SESSION['__promotions']['id']);
+            $db->QuerySetText(   $prepared_query,20,@$_SESSION['__promotions']['name']);
+            $db->QuerySetText(   $prepared_query,21,@$_SESSION['__promotions']['discount']);
+                        
+            $total_amount=$amount;
+            $db->QuerySetText(   $prepared_query,22, $total_amount);
+            $db->QuerySetText(   $prepared_query,23,$id_users_data);
+            $db->QuerySetText(   $prepared_query,24,@$form['description']);
+            $db->QuerySetInteger($prepared_query,25,@$id_card_pay);
+            $db->QuerySetText(	 $prepared_query,26,$recom_id_user);
+		    $db->QuerySetText(	 $prepared_query,27,$recom_code);
+		    $db->QuerySetText(	 $prepared_query,29,@$is_points);
+		    $db->QuerySetText(	 $prepared_query,28,$config->lang_id);
+            $result=$db->ExecuteQuery($prepared_query);
+            if ($result!=0) {
+                // Transakcja zostala dodana.
+                // user obecny nie ma praw do selectu, wiec update jest dokonywany w pozniejszym czasie
+                // na podsatwie order_id, ktory jest takze unikalnym numerem transakcji
+                
+                // zapisz numer order_id w sesji
+                $this->_register($order_id);
+                $saved_session=serialize($_SESSION);
+                $mdbd->insert('order_session','order_id,data','?,?',array("$order_id"=>"int","$saved_session"=>"text"));
+                // zapisz produkty z zamówienia
+                $this->_registerProducts($order_id);
+            } else die ("I".$db->Error());
+        } else die ("J".$db->Error());
+       
+        if (! empty($_SESSION['global_partner_id'])) {
+			// jesli jest to partner "Onet" to wyslij info o transakcji
+            $partner_name=$mdbd->select("name","partners","partner_id=?",array($partner_id=>"int"));
+            if ($partner_name == 'onet') {
+		        global $onet_config;
+            	@include_once ("include/onet/onet_transaction.inc.php");
+            	$onet_trans=new OnetTrans;
+            	$onet_trans->send_trans(1,$order_id);
+            	//print_r($onet_trans);
+            } elseif ($partner_name == 'wp') {
+            	global $wp_config;
+            	include_once ("include/wp/wp_transaction.inc.php");
+            	$wp_trans=new WpTransaction();
+            	// wysylamy order_id oraz potwierdzenie transakcji w tej sytuacji zawsze jest
+            	// to transakcje niepotwierdzona
+            	$wp_trans->SendTrans($order_id,-1);
+            } elseif ($partner_name == 'interia') {
+            	global $interia_config;
+            	include_once ("include/interia/interia_transaction.inc.php");
+            	$interia_trans=new InteriaTransaction();
+            	// wysylamy order_id oraz potwierdzenie transakcji w tej sytuacji zawsze jest
+            	// to transakcje niepotwierdzona
+            	$interia_trans->SendTrans($order_id,1);
+            } 
+            
+        }        
+        return;
+    } // end insert()
+    
+    /**
+    * Dodaj dane zamawiaj±cego oraz dane odbiorcy do bazy klientów.
+    * Dane klienta z zamówienia s± dodawane jako nowy rekord do tabeli "users", niezale¿nie od tego
+    * czy klient by³ zalogowany czy nie. Rozwi±zanie takie umo¿liwia na zapamiêtanie
+    * modyfikacji adresu i danych osoby zalogowanej i nie powoduje zmiany danych w zamówieniu
+    * przy zmianie danych klienta.
+    *
+    * @param array $form
+    * @param array $form_cor
+    *
+    * @access private
+    * @return int  ID dodanego klienta, lub 0 jesli nie uda³o siê dodaæ klienta    
+    */
+    function _addUser($form,$form_cor=array()) {
+        global $db,$_SERVER;
+        
+        $crypt =& new MyCrypt;
+        
+        // podstaw dodatkowe dane, które bêd± zapisywane w tabeli users
+        $form['last_ip']=$_SERVER['REMOTE_ADDR'];
+        $form['date_add']=date("Y-m-d");
+        $form['login']=$this->_maxIDUsers()+1;          
+        $form['password']=md5(rand(1,100000).$form['login'].time());      // losowe haslo
+        
+                
+        $query1="INSERT INTO users (
+                                   crypt_firm,crypt_name,crypt_surname,
+                                   crypt_street,crypt_street_n1,crypt_street_n2,
+                                   crypt_country,crypt_postcode,crypt_city,
+                                   crypt_phone,crypt_email,crypt_nip,
+                                   crypt_cor_firm,crypt_cor_name,crypt_cor_surname,
+                                   crypt_cor_street,crypt_cor_street_n1,crypt_cor_street_n2,
+                                   crypt_cor_country,crypt_cor_postcode,crypt_cor_city,
+                                   crypt_cor_phone,crypt_cor_email,
+                                   date_add,last_ip,order_data,
+                                   crypt_login,crypt_password,record_version)
+                            VALUES (
+                                    ?,?,?,
+                                    ?,?,?,
+                                    ?,?,?,
+                                    ?,?,?,
+                                    ?,?,?,
+                                    ?,?,?,
+                                    ?,?,?,
+                                    ?,?,
+                                    ?,?,1,
+                                    ?,?,30)";
+        $prepared_query1=$db->PrepareQuery($query1);
+        if ($prepared_query1) {            
+            $db->QuerySetText($prepared_query1,1,$crypt->endecrypt('',@$form['firm']));
+            $db->QuerySetText($prepared_query1,2,$crypt->endecrypt('',@$form['name']));
+            $db->QuerySetText($prepared_query1,3,$crypt->endecrypt('',@$form['surname']));
+            $db->QuerySetText($prepared_query1,4,$crypt->endecrypt('',@$form['street']));
+            $db->QuerySetText($prepared_query1,5,$crypt->endecrypt('',@$form['street_n1']));
+            $db->QuerySetText($prepared_query1,6,$crypt->endecrypt('',@$form['street_n2']));
+            $db->QuerySetText($prepared_query1,7,$crypt->endecrypt('',@$form['country']));
+            $db->QuerySetText($prepared_query1,8,$crypt->endecrypt('',@$form['postcode']));
+            $db->QuerySetText($prepared_query1,9,$crypt->endecrypt('',@$form['city']));
+            $db->QuerySetText($prepared_query1,10,$crypt->endecrypt('',@$form['phone']));
+            $db->QuerySetText($prepared_query1,11,$crypt->endecrypt('',@$form['email']));
+            $db->QuerySetText($prepared_query1,12,$crypt->endecrypt('',@$form['nip']));
+            $db->QuerySetText($prepared_query1,13,$crypt->endecrypt('',@$form_cor['firm']));
+            $db->QuerySetText($prepared_query1,14,$crypt->endecrypt('',@$form_cor['name']));
+            $db->QuerySetText($prepared_query1,15,$crypt->endecrypt('',@$form_cor['surname']));
+            $db->QuerySetText($prepared_query1,16,$crypt->endecrypt('',@$form_cor['street']));
+            $db->QuerySetText($prepared_query1,17,$crypt->endecrypt('',@$form_cor['street_n1']));
+            $db->QuerySetText($prepared_query1,18,$crypt->endecrypt('',@$form_cor['street_n2']));
+            $db->QuerySetText($prepared_query1,19,$crypt->endecrypt('',@$form_cor['country']));
+            $db->QuerySetText($prepared_query1,20,$crypt->endecrypt('',@$form_cor['postcode']));
+            $db->QuerySetText($prepared_query1,21,$crypt->endecrypt('',@$form_cor['city']));
+            $db->QuerySetText($prepared_query1,22,$crypt->endecrypt('',@$form_cor['phone']));
+            $db->QuerySetText($prepared_query1,23,$crypt->endecrypt('',@$form_cor['email']));
+            $db->QuerySetText($prepared_query1,24,$form['date_add']);
+            $db->QuerySetText($prepared_query1,25,$form['last_ip']);
+            $db->QuerySetText($prepared_query1,26,$crypt->endecrypt('',@$form['login']));
+            $db->QuerySetText($prepared_query1,27,$form['password']);
+            
+            $result1=$db->ExecuteQuery($prepared_query1);
+            if ($result1!=0) {
+                // dane klienta zosta³y poprawnie dodane do bazy
+                // odczytaj ID kleinta                                
+                return $this->_maxIDUsers();
+            } else die ("F".$db->Error());
+        } else die ("G".$db->Error());
+        
+        return 0;
+    } // end _addUser()
+    
+       /**
+    * Dodaj dane zamawiaj±cego oraz dane odbiorcy do bazy klientów.
+    * Dane klienta z zamówienia s± dodawane jako nowy rekord do tabeli "users", niezale¿nie od tego
+    * czy klient by³ zalogowany czy nie. Rozwi±zanie takie umo¿liwia na zapamiêtanie
+    * modyfikacji adresu i danych osoby zalogowanej i nie powoduje zmiany danych w zamówieniu
+    * przy zmianie danych klienta.
+    *
+    * @param array $form
+    * @param array $form_cor
+    *
+    * @access private
+    * @return int  ID dodanego klienta, lub 0 jesli nie uda³o siê dodaæ klienta    
+    */
+    function _updateUser($id,$form,$form_cor=array()) {
+        global $db,$_SERVER;
+        
+        $crypt =& new MyCrypt;
+        
+        // podstaw dodatkowe dane, które bêd± zapisywane w tabeli users
+        $form['last_ip']=$_SERVER['REMOTE_ADDR'];
+        $form['date_add']=date("Y-m-d");
+        
+                
+        $query1="UPDATE users SET  crypt_firm=?,crypt_name=?,crypt_surname=?,
+                                   crypt_street=?,crypt_street_n1=?,crypt_street_n2=?,
+                                   crypt_country=?,crypt_postcode=?,crypt_city=?,
+                                   crypt_phone=?,crypt_email=?,crypt_nip=?,
+                                   crypt_cor_firm=?,crypt_cor_name=?,crypt_cor_surname=?,
+                                   crypt_cor_street=?,crypt_cor_street_n1=?,crypt_cor_street_n2=?,
+                                   crypt_cor_country=?,crypt_cor_postcode=?,crypt_cor_city=?,
+                                   crypt_cor_phone=?,crypt_cor_email=?,last_ip=? WHERE id=?";
+
+        $prepared_query1=$db->PrepareQuery($query1);
+        if ($prepared_query1) {            
+            $db->QuerySetText($prepared_query1,1,$crypt->endecrypt('',@$form['firm']));
+            $db->QuerySetText($prepared_query1,2,$crypt->endecrypt('',@$form['name']));
+            $db->QuerySetText($prepared_query1,3,$crypt->endecrypt('',@$form['surname']));
+            $db->QuerySetText($prepared_query1,4,$crypt->endecrypt('',@$form['street']));
+            $db->QuerySetText($prepared_query1,5,$crypt->endecrypt('',@$form['street_n1']));
+            $db->QuerySetText($prepared_query1,6,$crypt->endecrypt('',@$form['street_n2']));
+            $db->QuerySetText($prepared_query1,7,$crypt->endecrypt('',@$form['country']));
+            $db->QuerySetText($prepared_query1,8,$crypt->endecrypt('',@$form['postcode']));
+            $db->QuerySetText($prepared_query1,9,$crypt->endecrypt('',@$form['city']));
+            $db->QuerySetText($prepared_query1,10,$crypt->endecrypt('',@$form['phone']));
+            $db->QuerySetText($prepared_query1,11,$crypt->endecrypt('',@$form['email']));
+            $db->QuerySetText($prepared_query1,12,$crypt->endecrypt('',@$form['nip']));
+            $db->QuerySetText($prepared_query1,13,$crypt->endecrypt('',@$form_cor['firm']));
+            $db->QuerySetText($prepared_query1,14,$crypt->endecrypt('',@$form_cor['name']));
+            $db->QuerySetText($prepared_query1,15,$crypt->endecrypt('',@$form_cor['surname']));
+            $db->QuerySetText($prepared_query1,16,$crypt->endecrypt('',@$form_cor['street']));
+            $db->QuerySetText($prepared_query1,17,$crypt->endecrypt('',@$form_cor['street_n1']));
+            $db->QuerySetText($prepared_query1,18,$crypt->endecrypt('',@$form_cor['street_n2']));
+            $db->QuerySetText($prepared_query1,19,$crypt->endecrypt('',@$form_cor['country']));
+            $db->QuerySetText($prepared_query1,20,$crypt->endecrypt('',@$form_cor['postcode']));
+            $db->QuerySetText($prepared_query1,21,$crypt->endecrypt('',@$form_cor['city']));
+            $db->QuerySetText($prepared_query1,22,$crypt->endecrypt('',@$form_cor['phone']));
+            $db->QuerySetText($prepared_query1,23,$crypt->endecrypt('',@$form_cor['email']));
+            $db->QuerySetText($prepared_query1,24,$form['last_ip']);
+            $db->QuerySetInteger($prepared_query1,25,$id);
+            
+            $result1=$db->ExecuteQuery($prepared_query1);
+            if ($result1!=0) {
+                // dane klienta zosta³y poprawnie dodane do bazy
+                // odczytaj ID kleinta                                
+                return $this->_maxIDUsers();
+            } else die ("F".$db->Error());
+        } else die ("G".$db->Error());
+        
+        return 0;
+    } // end _addUser()
+    
+    /**
+    * Odczytaj maksymalne ID kleinta w bazie
+    * @access private
+    * @return int max ID
+    */
+     function _maxIDUsers() {
+        global $db;
+        $query2="SELECT max(id) AS maxid FROM users LIMIT 1";
+        $db->soteSetModSQLOff();
+        $result2=$db->Query($query2);
+        if ($result2!=0) {
+            $num_rows2=$db->NumberOfRows($result2);
+            if ($num_rows2>0) {
+            	$db->soteSetModSQLOn();
+                return $db->FetchResult($result2,0,"maxid");
+            } else return 0;
+        } else die ("E".$db->Error());
+    } // end _maxIDUsers()
+    
+     /**
+    * Odczytaj id_users kleinta w bazie
+    * @access private
+    * @return int max ID
+    */
+    function _getIDUsers($order_id) {
+        global $db;
+        $query2="SELECT id_users_data FROM order_register WHERE order_id=$order_id";
+        $result2=$db->Query($query2);
+        if ($result2!=0) {
+            //$db->QuerySetInteger($result2,0,$order_id);
+            $num_rows2=$db->NumberOfRows($result2);
+            if ($num_rows2>0) {
+                return $db->FetchResult($result2,0,"id_users_data");
+            } else return 0;
+        } else die ("E".$db->Error());
+    } // end _maxIDUsers()
+    
+    /**
+    * Generuj opis opcji produktu
+    *
+    * @param array $options dane opcji
+    *
+    * @access private
+    * @return string opis opcji, który zostanie zapisany pó¼niej w bazie danych
+    */
+    function _getOptions($options) {
+        if (is_array($options)) {
+            reset($options);$o='';
+            foreach ($options as $key=>$val) {
+                $o.=$val.";";
+            }
+            $o=substr($o,0,strlen($o)-1);
+            return $o;
+        } else return '';
+    } // end _getOptions()
+    
+    /**
+    * Zapisz produkty do danej transakcji w bazie.
+    *
+    * @param int $order_id order_id transakcji
+    *
+    * @access private
+    * @return none
+    */
+    function _registerProducts($order_id) {
+        global $db;
+        global $my_basket;
+        global $config, $mdbd;
+        
+        
+        $items=&$my_basket->items;
+        if (@$config->depository['update_num_on_action'] == 'on_take_order') {
+            $res_available = $mdbd->select("user_id,num_from,num_to", "available", "1=1", array(), '', 'array');
+        }
+        reset($items);$pos=0;
+        foreach ($items as $item) {
+            $pos++;
+            $options=$this->_getOptions(@$item['data']['options']);            
+            $query="INSERT INTO order_products (order_id,user_id_main,price_brutto,vat,name,num,currency,measure,
+                                                id_category1,id_category2,id_category3,id_category4,id_category5,
+                                                category1,category2,category3,category4,category5,
+                                                id_producer,producer,
+                                                promotion,new,bestseller,discount,
+                                                date_add,basket_pos,time_from,
+                                                options,points_value)
+                           VALUES (?,?,?,?,?,?,?,?,
+                                   ?,?,?,?,?,
+                                   ?,?,?,?,?,
+                                   ?,?,
+                                   ?,?,?,?,
+                                   ?,?,?,
+                                   ?,?)";
+            $prepared_query=$db->PrepareQuery($query);
+            if ($prepared_query) {
+                $db->QuerySetInteger($prepared_query,1,$order_id);
+                $db->QuerySetText(   $prepared_query,2,$item['data']['user_id']);
+                $db->QuerySetText(   $prepared_query,3,$item['price']);
+                $db->QuerySetText(   $prepared_query,4,$item['data']['vat']);
+                $db->QuerySetText(   $prepared_query,5,$item['name']);
+                
+                
+                $db->QuerySetText(   $prepared_query,6,$item['num']);
+                $db->QuerySetText(   $prepared_query,7,$item['data']['currency']);
+                $db->QuerySetText(   $prepared_query,8,'');
+                
+                $db->QuerySetText(   $prepared_query,9,@$item['data']['category']['id_category1']);
+                $db->QuerySetText(   $prepared_query,10,@$item['data']['category']['id_category2']);
+                $db->QuerySetText(   $prepared_query,11,@$item['data']['category']['id_category3']);
+                $db->QuerySetText(   $prepared_query,12,@$item['data']['category']['id_category4']);
+                $db->QuerySetText(   $prepared_query,13,@$item['data']['category']['id_category1']);
+                
+                $db->QuerySetText(   $prepared_query,14,@$item['data']['category']['category1']);
+                $db->QuerySetText(   $prepared_query,15,@$item['data']['category']['category2']);
+                $db->QuerySetText(   $prepared_query,16,@$item['data']['category']['category3']);
+                $db->QuerySetText(   $prepared_query,17,@$item['data']['category']['category4']);
+                $db->QuerySetText(   $prepared_query,18,@$item['data']['category']['category5']);
+                
+                $db->QuerySetText(   $prepared_query,19,@$item['data']['category']['id_producer']);
+                $db->QuerySetText(   $prepared_query,20,@$item['data']['category']['producer']);
+                
+                $db->QuerySetText(   $prepared_query,21,0);
+                $db->QuerySetText(   $prepared_query,22,0);
+                $db->QuerySetText(   $prepared_query,23,0);
+                $db->QuerySetText(   $prepared_query,24,0);
+                
+                
+                $db->QuerySetText(   $prepared_query,25,date("Y-m-d"));
+                $db->QuerySetInteger($prepared_query,26,$pos);
+                $db->QuerySetText(   $prepared_query,27,0);
+                $db->QuerySetText(   $prepared_query,28,@$options);
+                $db->QuerySetText(   $prepared_query,29,@$item['points_value']);
+                
+                $result=$db->ExecuteQuery($prepared_query);
+                if ($result!=0) {
+                    // rekord zosta³ poprawnie dodany do bazy
+                    // debug: print "<pre>";print_r($item);print "</pre>";
+                    if (@$config->depository['update_num_on_action'] == 'on_take_order') { // zdejmij produkty z magazynu
+                    
+                        $user_id_main = $item['data']['user_id'];
+                        $num = $item['num'];
+                        
+                        $res = $mdbd->select("num,min_num,id", "depository", "user_id_main=?", array($user_id_main => 'text'), '', 'array');
+                        if(is_array($res) && (count($res) == 1)) {
+                            $base_num = $res[0]['num'];
+                            $res_num = $base_num - $num;
+                            $res_num_positive = $res_num;
+                            if($res_num_positive < 0)
+                                $res_num_positive = 0;
+                                
+                            $mdbd->update("depository", "num=$res_num", "user_id_main=?", array($user_id_main => 'text')); // update depository
+
+                            
+                            if(!empty($res_available)) {
+                                $av_id = 0;
+                                reset($res_available);
+                                while (($av_id == 0) && (list($key, $val) = each($res_available))) {
+                                    $a = $val['user_id'];
+                                    $from = $val['num_from'];
+                                    $to = $val['num_to'];
+                                    if($to != '*') {
+                                        if (($from <= $res_num_positive) && ($res_num_positive <= $to)) {
+                                            $av_id = $a;
+                                        }
+                                    }
+                                    else {
+                                        $last_id = $a;
+                                    }
+                                }
+                                if($av_id == 0) {
+                                    $av_id = $last_id;
+                                }
+                                if(($av_id == '') || (!is_numeric($av_id)))
+                                    $av_id = 0;
+                                $mdbd->update("main","id_available=$av_id", "user_id=?", array($user_id_main => "text"));
+                            }
+
+                        }
+                    }
+                } else die ($db->Error());
+                
+            } else die ($db->Error());
+            
+        } // end foreach
+        
+        return;
+    } // end _registerProducts()
+    
+    /**
+    * Aktualizuj dane transakcji
+    *
+    * \@global int $id_pay_method id methody p³atno¶ci
+    * @return none
+    */
+    function update($order_id) {
+        global $db;
+        global $global_id_pay_method;
+        global $mdbd;
+        if (empty($order_id)) return;
+        
+        $query="UPDATE order_register SET id_pay_method=? WHERE order_id=?";
+        $prepared_query=$db->PrepareQuery($query);
+        if ($prepared_query) {
+            $db->QuerySetInteger($prepared_query,1,$global_id_pay_method);
+            $db->QuerySetInteger($prepared_query,2,$order_id);
+            $result=$db->ExecuteQuery($prepared_query);
+            if ($result!=0) {
+            	$id_users_data=$this->_getIDUsers($order_id);
+                $this->_updateUser($id_users_data,$_SESSION['form'],@$_SESSION['form_cor']);
+                $saved_session=serialize($_SESSION);
+                $order_id=$this->getOrderID();
+                
+                $new_sess_id=md5(time());
+                $mdbd->update('order_register',"session_id='$new_sess_id'","order_id=$order_id");
+                $_SESSION['order_session']=$new_sess_id;
+                $mdbd->update('order_session','data=?','order_id=?',array("$saved_session"=>"text","$order_id"=>"int"));
+                // dane transakcji zostaly poprawnie zaktualizowane
+            } else die ("C".$db->Error());
+        } else die ("D".$db->Error());
+        
+        return;
+    } // end update()
+    
+} // end class OrderRegister
+?>
diff -ruN ../soteesklep3/include/order/send.inc soteesklep3/include/order/send.inc
--- ../soteesklep3/include/order/send.inc	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/include/order/send.inc	2006-08-23 17:30:43.000000000 +0200
@@ -0,0 +1,211 @@
+<?php
+/**
+* Generowanie maila i wys³anie zamówienia do sprzedawcy i kleinta.
+*
+* @author  m@sote.pl
+* @version $Id: send.inc,v 1.20 2006/04/14 13:50:52 lukasz Exp $
+* @package    include
+*/
+
+/**
+* Klasa obs³uguj±ca wys³anie zamówienia.
+* @package order
+* @subpackage htdocs
+*/
+class OrderSend {
+    
+    /**
+    * Wy¶lij zamówienie do sprzedawcy i potwierdzenie do klienta.
+    *
+    * @return bool true - zamówienie zosta³o poprawnie wys³ane, false w p.w.
+    */
+    function send() {
+        global $_SESSION,$sess;
+        global $DOCUMENT_ROOT;
+        global $lang,$config;
+        global $__check,$theme;
+        global $auto_transaction;
+//        global $my_basket, $basket;
+        
+        require_once ("include/order/order.inc");
+        $ord_reg =& new OrderRegister;
+        if (my(@$_SESSION['global_lock_register'])!=true) {
+            // wyswietl strone z linkiem do glownej strony
+            if (!$auto_transaction) {
+                $theme->go2main();
+                exit;
+            } else return;
+        }
+        if (! empty($_SESSION['global_basket_data'])) {
+            require_once ("go/_basket/include/my_ext_basket.inc.php");
+            $basket=& new My_Ext_Basket;
+            $basket->init();
+            $my_basket=&$basket;
+            $my_basket->display="text";
+        } else {
+            if (!$auto_transaction) {
+                $theme->go2main();
+                exit;
+            } else return;
+        }
+                
+        
+        // includujemy plik obliczajacy punkty uzytkownika
+        require_once("$DOCUMENT_ROOT/go/_register/include/points.inc.php");
+        $points =& new UserPoints;
+        
+        // generowanie tresci zamowienia do maila
+        require_once("go/_register/include/message.inc.php");
+        $message =& new Message; // odczytaj dane z sesji z wczesniej wypelnionych formularzy
+        
+        if (! empty($_SESSION['form'])) {
+            $form=$_SESSION['form'];
+        }
+        if (! empty($_SESSION['form_cor'])) {
+            $form_cor=$_SESSION['form_cor'];
+        }
+        
+        $body=$message->order2txt($ord_reg->getOrderID());
+        
+        $basket_txt=$my_basket->basket_txt(); 
+        // dodaj obsluge wysylania wiadomosci e-mail
+        require_once ("lib/Mail/MyMail.php");
+        $mail =& new MyMail;
+                
+        // wyslij maila z zamowieniem
+        $from=$config->from_email;
+        $to=$config->order_email;
+        $merchant_email=$to;
+        $subject=$lang->order_subject;
+        
+        if (! empty($form['email'])) {
+            $reply=$form['email']; $user_email=$reply;
+        } else $reply="";
+        
+        $confirm=false;
+              
+        // wyslij maila z zamowieniem o ile mail nie zostal juz wyslany
+        if (my(@$_SESSION['global_lock_send'])!=true) {                    
+            
+            // odczytaj rodzaj platnosci
+            if (! empty($_SESSION['global_pay_name'])) {
+                $pay_name=$_SESSION['global_pay_name'];
+            }
+            if (empty($pay_name)) $pay_name=$_SESSION['prev_session']['global_pay_name'];
+            if ((empty($pay_name)) && (! empty($global_pay_name))) {
+                $pay_name=$global_pay_name;
+            }
+            
+            // odczytaj numer transakcji
+            $order_id=$ord_reg->getOrderID();
+            $order_id_date=$ord_reg->getOrderIDDate();
+            
+            // odczytaj identyfikator uzytkownika
+            // jesli jest to obluicz dla niego liczbe punktow
+            $user_id=0;
+            if (! empty($_SESSION['global_id_user'])) {
+                $global_id_user=$_SESSION['global_id_user'];
+                $MyPoints=$points->show_user_points($global_id_user);
+                $user_id=1;
+            }
+            
+            // pelna tresc zamowienia
+            $order_body=$message->order_body($basket_txt,$body,$order_id,$pay_name);
+            
+            // sprawdz czy uzytkownik nie wybral wczesniej platnosci karta
+            if ($__check==1) {
+                $order_body.=$lang->send_add_info;
+            }
+            
+            // generuj tytu³
+            $subject="$lang->order_id: $order_id, $pay_name, $subject";
+			                  
+            // wyslij maila z zamowieniem do sprzedawcy
+            if ($mail->send($from,$to,$subject,$order_body,$reply)) {                
+                // wyslij maila z potwierdzeniem zamowienia do klienta
+                $confirm_subject=$lang->order_confirm_subject." ".$_SERVER['HTTP_HOST'];
+                $host=$_SERVER['HTTP_HOST'];
+                $from=$merchant_email;
+                $to=$user_email;
+                $order_body='';
+
+                $user_text_file = $DOCUMENT_ROOT . "/themes/_" . $config->langs_symbols[$config->lang_id] . "/_html_files/order_mail_hello.html";
+                $pfile = fopen($user_text_file, "r");
+                $user_text = fread($pfile, filesize($user_text_file));
+                fclose($pfile);
+                $user_text = strip_tags($user_text);
+                $order_body .= $user_text;
+                
+                // definicja linku, ktory bedzie potwierdzeniem zamowienia
+                $order_body.="\n";
+                $order_body.=$lang->send_link;  // w celu potwierdzenia zamówienia kliknij ponizszy link
+                $order_body.="\n";
+                // stworzenie specjalnego kodu, by klient mogl zatwierdzic tylko swoja transakcje
+                $sign=md5($order_id.$config->salt);
+                $order_body.="http://$host".$config->url_prefix."/go/_register/confirm.php?trans=$order_id&code=$sign";
+                
+                // dodanie linku za pomoca , ktorego klient bedzie mogl zobaczc informacje o swojej transakcji
+                $order_body.="\n\n";
+                $order_body.=$lang->trans_link; // by sprawdzic stan swojej transakcji kliknij ponizszy link
+                $order_body.="\n";
+                $order_body.="http://$host".$config->url_prefix."/go/_users/order_info.php?id=$order_id&code=$sign";
+                $order_body.="\n\n";
+                
+                $order_body.=$message->order_body($basket_txt,$body,$order_id,$pay_name);
+                // nazwa hosta
+                
+
+                $user_text_file = $DOCUMENT_ROOT . "/themes/_" . $config->langs_symbols[$config->lang_id] . "/_html_files/order_mail.html";
+                $pfile = fopen($user_text_file, "r");
+                $user_text = fread($pfile, filesize($user_text_file));
+                fclose($pfile);
+                $user_text = strip_tags($user_text);
+                $user_text = str_replace("{bank}", $config->merchant['bank'], $user_text);
+                $order_body .= $user_text;
+                
+                // jezeli uzytkownik byl zalogowany podczas skladania zamowienia to dodaj do maila aktualna liczbe punktow
+                if (($user_id==1) && (my($MyPoints>0))) {
+                    $order_body.="\n\n";
+                    $order_body.="$lang->users_your_points:".$MyPoints;   //aktualna liczba punktow klienta do langow
+                }
+                
+                $reply=$config->from_email;
+                $mail->send($from,$to,$confirm_subject,$order_body,$reply);
+                $confirm=true;
+                
+                // jesli jest wlaczona opcja sprzedazy on-line, to zapamietaj stan koszyka przed jeggo skasowaniem
+                if (in_array("main_keys",$config->plugins)) {
+                    $prev_session['my_basket']=$my_basket;
+                    $prev_session['global_order_id']=$order_id;
+                    $prev_session['global_basket_amount']=$_SESSION['global_basket_amount'];
+                    $sess->register("prev_session",$prev_session);
+                }
+                // end
+                
+                // skasuj zawartosc koszyka
+                $basket->emptyBasket();
+                global $global_basket_amount,$global_basket_count,$global_order_amount;
+                $global_order_amount=0;
+                $global_basket_count=0;
+                $global_order_amount=0;
+                global $mdbd;
+                $sess->unregister('global_lock_register');
+                $saved_session=serialize($_SESSION);
+                $mdbd->update('order_session','data=?','order_id=?',array("$saved_session"=>"text","$order_id"=>"int"));
+                $sess->unregister("global_basket_amount");
+                $sess->unregister("global_order_amount");
+                $sess->unregister("global_basket_count");
+                $sess->unregister("global_order_id");
+                $sess->unregister("global_order_id_date");
+                $sess->unregister("global_basket_data");
+            } 
+        } else {
+            $confirm=true;
+        }
+        
+        return $confirm;
+    } // end send()
+    
+} // end class OrderSend
+
+?>
diff -ruN ../soteesklep3/include/platnoscipl/online.inc.php soteesklep3/include/platnoscipl/online.inc.php
--- ../soteesklep3/include/platnoscipl/online.inc.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/include/platnoscipl/online.inc.php	2006-08-23 17:22:54.000000000 +0200
@@ -0,0 +1,184 @@
+<?php
+/**
+ * Funckje zwiazane z obsluga platnosciPl
+ *
+ * @author Robert Diak
+ */
+
+require_once ("HTTP/Client.php");
+include_once ("config/auto_config/platnoscipl_config.inc.php");
+include_once ("include/metabase.inc");
+
+class PlatnosciPLOnline {
+
+    var $_pos_id='';
+    var $_session_id='';
+    var $_ts='';
+    var $_sig='';                       // otrzymany sig jako parametr
+    var $_sig_compute='';               // obliczony numer sig
+    var $_values='';
+    var $_tags='';
+
+    /**
+     * Constructor
+     */
+    function PlatnosciPLOnline($order='') {
+        global $_REQUEST;
+        global $database;
+        
+        if(!empty($_REQUEST['pos_id'])) {
+            $this->_pos_id=@$_REQUEST['pos_id'];
+            $this->_session_id=@$_REQUEST['session_id'];
+            $this->_ts=@$_REQUEST['ts'];
+            $this->_sig=@$_REQUEST['sig'];
+        } else {
+            $this->_session_id=$database->sql_select("session_id","order_register","order_id=".$order);   
+            $data=$database->sql_select_multi_array4(array("pos_id","sig","ts"),"platnoscipl_error","session_id=".$this->_session_id," LIMIT 1");
+            $this->_pos_id=$data[0]['pos_id'];           
+            $this->_sig=$data[0]['sig'];           
+            $this->_ts=$data[0]['ts'];
+        }
+        return true;
+    } // end constructor
+
+    /**
+     * Constructor
+     */
+    function action() {
+
+        $this->_send_request();
+
+        return true;
+    } // end func action
+
+    /**
+     * Funkcja wysyla potwierdzenie requesta po kazdej zmianie statusu transakcji.
+     */
+    function _send_request() {
+        global $platnoscipl_config;
+
+        // jesli pos_id zawiera inne znaki niz cyfry to
+        if(!preg_match("/^\d+$/",$this->_pos_id)) {
+            $this->_save_error("Nieprawidlowy pos_id");
+            return false;
+        }
+        if(!preg_match("/^\w{32}$/",$this->_session_id)) {
+            $this->_save_error("Nieprawidlowy numer sesji");
+            return false;
+        }
+        $this->_sig_compute=md5($this->_pos_id.$this->_session_id.$this->_ts.$platnoscipl_config->pl_md5_two);
+        if($this->_sig_compute == $this->_sig) {
+            // jesli podpisy sie zgadzaja to sprawdamy status transakcji
+            if($this->_check_status()) {
+                $this->_save_error("Wszystko OK");
+                print "OK";
+            } else {
+                $this->_save_error("B³±d");
+            }
+        } else {
+            $this->_save_error("niezgodne sygnatury");
+        }
+        return true;
+    } // end func _send_request
+
+    /**
+     * Funkcja sprawdza status transakcji
+     *
+     * 
+     */
+    function _check_status() {
+        global $platnoscipl_config;
+        global $database;
+
+        $order_id=$database->sql_select("order_id","order_register","session_id=$this->_session_id");
+        
+        $sig=md5($this->_pos_id.$this->_session_id.$this->_ts.$platnoscipl_config->pl_md5_one);
+
+        //$this->_save_error("",$this->_session_id."::".$order_id);
+
+        // pobierz status transakcji
+        $http =& new HTTP_Client;
+        $res=$http->post("https://www.platnosci.pl/paygw/ISO/Payment/get/txt",array(
+                                                                    "pos_id"=>$this->_pos_id,
+                                                                    "session_id"=>$this->_session_id,
+                                                                    "ts"=>$this->_ts,
+                                                                    "sig"=>$sig,
+                                                                    )
+                   );
+
+        $result=$http->_responses[0]['body'];
+
+        if(preg_match("/trans_status: 1/",$result)) {
+            // ustaw kwadracik pomaranczowy
+            /*$database->sql_update("order_register","order_id=".$order_id,array(
+        														"pay_status"=>'000'
+																)
+						);*/
+            $this->_save_error('status 1');
+            $result="transakcja nowa";
+        }
+        if(preg_match("/trans_status: 2/",$result)) {
+            $result="transakcja anulowana";
+            $this->_save_error('status 2');
+        }
+        if(preg_match("/trans_status: 3/",$result)) {
+            $result="transakcja odrzucona";
+            $this->_save_error('status 3');
+        }
+        if(preg_match("/trans_status: 4/",$result)) {
+           /*$database->sql_update("order_register","order_id=".$order_id,array(
+        														"pay_status"=>'000'
+																)
+						);*/
+           $this->_save_error('status 4');
+            $result="transakcja rozpoczeta";
+        }
+        if(preg_match("/trans_status: 5/",$result)) {
+            $result="oczekuje na odbior";
+            $this->_save_error('status 5');
+        }
+        if(preg_match("/trans_status: 6/",$result)) {
+            $result="autoryzacja odmowna";
+            $this->_save_error('status 6');
+        }
+        if(preg_match("/trans_status: 99/",$result)) {
+           $database->sql_update("order_register","order_id=".$order_id,array(
+             													"confirm_online"=>"1",
+                                                                "pay_status"=>"001",
+                                                                "confirm"=>"1",
+																)
+						);
+			$this->_save_error("status 99 [ $order_id ]");
+            $result="p³atnosc odebrana";
+        }
+        if(preg_match("/trans_status: 888/",$result)) {
+            $result="bledny status";
+            $this->_save_error('status 888');
+        }
+        $res=serialize($res);
+        $this->_save_error('',$res);
+        $this->_save_error("",$result);
+        return true;
+    } // end func _check_status
+
+    /**
+     * Zapisz informacje o requescie do bazy danych
+     *
+     * @param $error string opis bledu
+     */
+    function _save_error($error='',$string='') {
+        global $database;
+        $database->sql_insert("platnoscipl_error",array(
+        "pos_id"=>$this->_pos_id,
+        "session_id"=>$this->_session_id,
+        "ts"=>$this->_ts,
+        "sig"=>$this->_sig,
+        "sig_compute"=>$this->_sig_compute,
+        "error"=>$error,
+        "string"=>$string,
+        )
+        );
+        return false;
+    } // end fun _save_error
+} // end class PlatnosciPLOnline
+?>
\ No newline at end of file
diff -ruN ../soteesklep3/lib/Mail/MyMail.php soteesklep3/lib/Mail/MyMail.php
--- ../soteesklep3/lib/Mail/MyMail.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/lib/Mail/MyMail.php	2006-08-23 16:59:31.000000000 +0200
@@ -0,0 +1,63 @@
+<?php
+/**
+ * Obsluga wysylania poczty.
+ *
+ * @author  m@sote.pl
+ * @version $Id: MyMail.php,v 2.8 2006/08/16 14:31:12 lukasz Exp $
+ * @package soteesklep
+ */ 
+
+// PEAR Mail
+require_once ("Mail.php");
+
+class MyMail {
+    
+    /**
+     * Wysli wiadomosc e-mail
+     *
+     * @param string $to      adresat
+     * @param string $from    nadawca
+     * @param string $subject temat
+     * @param string $body    tresc maila
+     * @param string $reply   odpowiedz na adres
+     * @param string $type    typ wiadomosci np. [html]
+     * @access public
+     * @return bool true  mail wyslany, false - problem z wyslaniem maila
+     */
+    function send($from,$to,$subject,$body,$reply="",$type="") {
+        global $lang;
+        if ($type=="html") {
+            $type="text/html";
+        } else $type="text/plain";        
+
+        
+        if (isset($lang->encoding))
+        {
+        	if (strpos($type, 'charset') === false)
+        	$type .= '; charset='.$lang->encoding;
+        	$subject = "=?".$lang->encoding."?B?".base64_encode($subject) ."?=";
+        }
+        else 
+        {
+        	$type .= '; charset=iso-8859-2';
+        	$subject = "=?iso-8859-2?B?".base64_encode($subject) ."?=";
+        }
+        
+        if (empty($reply)) $reply=$from;
+        
+        $mail =& new Mail;
+        
+        if (
+        $mail->send(array($to),array("From"=>$from,
+                                    "Subject"=>$subject,
+                                    "Reply-to"=>$reply,
+                                    "Content-type"=>$type
+                                   ),
+                               $body
+                  )
+           ) return true;
+        else return false;        
+    } // end send()
+} // end class MyMail
+
+?>
diff -ruN ../soteesklep3/sql/upgrade_15.mysql soteesklep3/sql/upgrade_15.mysql
--- ../soteesklep3/sql/upgrade_15.mysql	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/sql/upgrade_15.mysql	2006-08-21 09:01:04.000000000 +0200
@@ -0,0 +1,3 @@
+ALTER TABLE `allegro_auctions` CHANGE `allegro_pay_collect_on_delivery_price` `allegro_pay_collect_on_delivery_price` FLOAT NULL, CHANGE `allegro_pay_wire_transfer_price` `allegro_pay_wire_transfer_price` FLOAT NULL;
+ALTER TABLE `allegro_auctions` ADD `allegro_delivery_other_text` VARCHAR(500) NOT NULL AFTER `allegro_delivery_other`;
+UPDATE help_content SET html = '<div style="text-align: center;"><span style="font-weight: bold;">Opis modu³u Ceneo.pl w soteesklep3<br /><br /></span><div style="text-align: left;"></span><div style="text-align: left;"><span style="font-weight: bold; text-decoration: underline;">Zak³adka "Export Produktów"<br /><br /></span>Po nadaniu atrybutów dla produktu i po kliknieciu na przycisk <span style="font-weight: bold;">Opcje/Ceneo/Export Produktów</span> produkt powinien pojawiæ siê na li¶cie pozycji przeznaczonych do exportu. Export produktów do pasa¿u odbywa sie po przejsciu do zak³adki <span style="font-weight: bold;">Opcje/Ceneo/Export Produktów</span> i klikniêciu na przycisk <span style="font-weight: bold;">Export Produktów</span>. <br />W efekcie produkty, w postaci pliku xml, zostan± wygenerowane i nale¿y je przes³aæ do systemu Ceneo.<br /><span style="font-weight: bold; text-decoration: underline;"><br /></span><br />' WHERE `id` = 57 LIMIT 1;
\ No newline at end of file
diff -ruN ../soteesklep3/VERSION soteesklep3/VERSION
--- ../soteesklep3/VERSION	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/VERSION	2006-08-20 15:32:11.000000000 +0200
@@ -0,0 +1 @@
+3.5RC15
