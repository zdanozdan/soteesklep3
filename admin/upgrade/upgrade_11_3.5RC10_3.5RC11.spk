diff -ruN ../soteesklep3/000-upgrade_config.php soteesklep3/000-upgrade_config.php
--- ../soteesklep3/000-upgrade_config.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/000-upgrade_config.php	2006-06-30 15:50:02.000000000 +0200
@@ -0,0 +1,3 @@
+<?php
+define("PATCH_VERSION",11);
+?>
diff -ruN ../soteesklep3/admin/go/_configure/lang/_en/lang.inc.php soteesklep3/admin/go/_configure/lang/_en/lang.inc.php
--- ../soteesklep3/admin/go/_configure/lang/_en/lang.inc.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/admin/go/_configure/lang/_en/lang.inc.php	2006-06-30 14:10:47.000000000 +0200
@@ -0,0 +1,83 @@
+<?php
+$lang->configure_title="Configuration";
+$lang->button_help="Help";
+$lang->main_order_default=array(
+                'name_L0'=>"names",
+                'price'=>"prices",
+                'producer'=>"producer",
+                );
+$lang->price_type=array(
+                'netto/brutto'=>"net/gross",
+                'netto'=>"net",
+                'brutto'=>"gross",
+                );
+$lang->configure_record_row_type_default=array(
+                'long'=>"full list",
+                'short'=>"short list",
+                );
+$lang->configure_titles=array(
+                'price'=>"Prices",
+                'product_list'=>"Product list",
+                'google'=>"Indexing",
+                'other'=>"Other",
+                );
+$lang->newsedit_columns_default=array(
+                '1'=>"1",
+                '2'=>"2",
+                );
+$lang->configure_form=array(
+                'record_row_type_default'=>"Product list type",
+                'cyfra_photo'=>"Switching on the service of photos taken by means of a digital camera",
+                'basket_photo'=>"Enable the possibility of adding photos and description to products being ordered",
+                'currency'=>"Enter in currency",
+                'price_type'=>"Select price display type",
+                'main_order_default'=>"Product sorting according to",
+                'products_on_page_short'=>"Number of products in a short list",
+                'products_on_page_long'=>"Number of products in a full list",
+                'google_keywords'=>"Key words",
+                'google_title'=>"Page title",
+                'google_description'=>"<BR><BR><BR>Page description <BR><I>max. 150 characters</l> ",
+                'image_max_size'=>"Big photo size",
+                'image_min_size'=>"Small photo size",
+                'random_on_page'=>"Number of products in the window:<BR>",
+                'random_on_page_promotion'=>"promotions",
+                'random_on_page_newcol'=>"news",
+                'random_on_page_bestseller'=>"bestseller",
+                'pixels'=>" in <l>pixels</l>",
+                'newsletter'=>"Place newsletter window on the page",
+                'category_multi'=>"Alow one product to be available in several categories at the same time",
+                'newsedit'=>"Place news window on the page",
+                'currency_show_form'=>"Place the list of currencies for selection on the page",
+                'newsedit_columns_default'=>"How many columns should the news window be divided into",
+                'id_start_orders_default'=>"Last transaction id",
+                'pay_method_active_1'=>"Switch on the option of cash-on-delivery payment",
+                'pay_method_active_11'=>"Switch on the option of payment by transfer",
+                'in_category_down'=>"The number of nests for other products from the same category",
+                'debug'=>"DEBUG ",
+                'users_online'=>"Place the number of users online on the page",
+                'ssl'=>"Use SSL secured order forms",
+                'unit'=>"Give the unit of measurement according to which delivery costs are calculated.",
+                'basket_ext'=>"Display detailed information about the product in the basket",
+                'display_availability'=>"Display in the shop the information about product availability",
+                'show_user_id'=>"Show product ID in the shop",
+                );
+$lang->button_catalog_conf="Directory mode configuration";
+$lang->button_configuration="General configuration";
+$lang->catalog_conf_title="Directory mode configuration";
+$lang->catalog_conf_text="The shop will be changed into a directory after clicking <B>Directory mode</B>. In the directory mode all functions of the basket are disabled. The customer can only browse the goods available.";
+$lang->catalog_mode_options=array(
+                'catalog_mode'=>"Directory mode",
+                'currency'=>"Switch on the currency list in the directory",
+                'users'=>"Switch on customer service in the directory",
+                'newsletter'=>"Switch on the newsletter window in the directory",
+                'newsedit'=>"Switch on the latest news window in the directory",
+                );
+$lang->configure_lang_changed="Default language was changed";
+$lang->configure_in_category_down=array(
+                '1'=>"1",
+                '2'=>"2",
+                '3'=>"3",
+                '4'=>"4",
+                '5'=>"5",
+                );
+?>
\ No newline at end of file
diff -ruN ../soteesklep3/admin/go/_edit/edit_allegro.php soteesklep3/admin/go/_edit/edit_allegro.php
--- ../soteesklep3/admin/go/_edit/edit_allegro.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/admin/go/_edit/edit_allegro.php	2006-06-30 14:10:52.000000000 +0200
@@ -0,0 +1,118 @@
+<?php
+/**
+* Edycja parametrów produktu wymaganych do exportu do pasaz.allegro.pl
+*
+* @author  rdiak@sote.pl
+* @version $Id: edit_allegro.php,v 2.4 2006/06/28 08:57:21 lukasz Exp $
+*
+* \@verified 2004-03-15 m@sote.pl
+* @package    edit
+*/
+
+$global_database=true;
+$global_secure_test=true;
+global $DOCUMENT_ROOT;
+if (empty($DOCUMENT_ROOT)) {
+	$DOCUMENT_ROOT=$HTTP_SERVER_VARS['DOCUMENT_ROOT'];
+}
+
+require_once ("../../../include/head.inc");
+require_once ("include/metabase.inc");
+include_once ("config/auto_config/allegro_config.inc.php");
+
+$form_elements->type="edit"; // nie pokazuj zaznaczonych elementow select
+// inicju ID
+$__id=&$id;
+if (! empty($_REQUEST['id'])) {
+	$id=$_REQUEST['id'];
+	$user_id=$database->sql_select("user_id","main","id=$id");
+	$_REQUEST['user_id']=$user_id;
+} elseif (! empty($_REQUEST['user_id'])) {
+	$user_id=$_REQUEST['user_id'];
+	$id=$database->sql_select("id","main","user_id=$user_id");
+}
+
+if (empty($id)) die ("Forbidden: Unknown ID");
+
+if (! empty($_REQUEST['update'])) {
+	$update=true;
+} else {
+	$update=false;
+}
+
+$theme->head_window();
+// menu
+include_once ("./include/menu.inc.php");
+$theme->bar($lang->edit_edit_title);
+
+// aktualizuj dane produktu
+$update_info="";
+if ($update==true) {
+	// obsluga sprawdzania formularzy
+	require_once("./include/my_form_check.inc.php");
+	
+	$form_check = new MyFormCheck;
+	$theme->form_check=&$form_check;
+	
+	//$form_check->fun['allegro_export']="int";
+	//$form_check->fun['allegro_status']="int";
+	
+	$form_check->form=$_REQUEST['item'];
+	$form_check->errors=$lang->allegro_form_errors;
+	
+	// sprawdz czy wywolano sprawdzanie danych, czy tylko wyswietlenie formularza
+	if (! empty($_REQUEST['update'])) {
+		$form_check->check=true;
+	}
+	
+	if ($form_check->check=="true") {
+		if ($form_check->form_test()) {
+			// poprawnie allegrorowadzone dane, aktualizuj tylko przy edycji
+			if (@$__add!=true) {
+				require_once ("./include/edit_update_allegro.inc.php"); // aktualizuj parametrow allegro, zalacz zdjecia htdocs/photo
+			}
+			$error=$debug->get_errors();
+			if (empty($error)) {
+				$update_info=str_repeat("<img src=/themes/base/base_theme/_img/b.gif width=5 height=5>",date("s"))." [".date("Y-M-d h:G:s")."] &nbsp; &nbsp; ".$lang->edit_update_ok;
+			} else {
+				$update_info=$error;
+			}
+		} else {
+			// wyswietl formularz z komunikatami o bledach
+			// wstaw dane z formularza do obiektu $rec
+			$action="edit_allegro.php";
+			require_once("./html/edit_allegro.html.php");
+			
+			$theme->foot_window();
+			include_once ("include/foot.inc");
+			exit;
+		}
+	}
+}
+
+// zapytaj sie o wlasciwosci(atrybuty) produktu
+$query="SELECT * FROM allegro_auctions WHERE user_id=?";
+$prepared_query=$db->PrepareQuery($query);
+if ($prepared_query) {
+    $db->QuerySetText($prepared_query,1,$user_id);
+    $result=$db->ExecuteQuery($prepared_query);
+    if ($result!=0) {
+        $num_rows=$db->NumberOfRows($result);
+        if ($num_rows>0) {
+            require_once("include/query_rec_allegro.inc.php");
+            $theme->status_bar($update_info);
+            $action="edit_allegro.php";
+            require_once("html/edit_allegro.html.php");
+        } else {
+            $theme->status_bar($update_info);
+            $action="edit_allegro.php";
+            require_once("html/edit_allegro.html.php");
+        }
+    } else die ($db->Error());
+} else {
+    die ($db->Error());    
+}
+
+$theme->foot_window();
+include_once ("include/foot.inc");
+?>
diff -ruN ../soteesklep3/admin/go/_edit/html/edit_allegro.html.php soteesklep3/admin/go/_edit/html/edit_allegro.html.php
--- ../soteesklep3/admin/go/_edit/html/edit_allegro.html.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/admin/go/_edit/html/edit_allegro.html.php	2006-06-30 14:10:49.000000000 +0200
@@ -0,0 +1,284 @@
+<?php
+/**
+* Edycja opcji zwi±zanych z allegro.pl
+*
+* @author  krzys@sote.pl
+* @version $Id: edit_allegro.html.php,v 2.6 2006/06/28 08:57:06 lukasz Exp $
+*
+* @package    edit
+*/
+?>
+
+<?php 
+global $action;
+global $DOCUMENT_ROOT;
+
+include_once("include/allegro.inc.php");
+$allegro=new Allegro;
+$id=@$_REQUEST['id'];
+print "<br><center>";        
+
+$theme->desktop_open();
+
+if (@$rec->data['allegro_auction_type']=="2") {
+    $allegro_auction_type2="checked";
+} else  {
+    $allegro_auction_type1="checked";
+}
+if (@$rec->data['allegro_miniature']=="1") $check_allegro_miniature="checked"; else $check_allegro_miniature="";
+if (@$rec->data['allegro_delivery_shipment']=="1") $check_allegro_delivery_shipment="checked"; else $check_allegro_delivery_shipment="";
+if (@$rec->data['allegro_delivery_priority_shipment']=="1") $check_allegro_delivery_priority_shipment="checked"; else $check_allegro_delivery_priority_shipment="";
+if (@$rec->data['allegro_delivery_courier']=="1") $check_allegro_delivery_courier="checked"; else $check_allegro_delivery_courier="";
+if (@$rec->data['allegro_delivery_personal_acceptance']=="1") $check_allegro_delivery_personal_acceptance="checked"; else $check_allegro_delivery_personal_acceptance="";
+if (@$rec->data['allegro_delivery_other']=="1") $check_allegro_delivery_other="checked"; else $check_allegro_delivery_other="";
+if (@$rec->data['allegro_delivery_abroad']=="1") $check_allegro_delivery_abroad="checked"; else $check_allegro_delivery_abroad="";
+
+if (@$rec->data['allegro_pay_wire_transfer']=="1") $check_allegro_pay_wire_transfer="checked"; else $check_allegro_pay_wire_transfer="";
+if (@$rec->data['allegro_pay_collect_on_delivery']=="1") $check_allegro_pay_collect_on_delivery="checked"; else $check_allegro_pay_collect_on_delivery="";
+if (@$rec->data['allegro_pay_on_line_pay']=="1") $check_allegro_pay_on_line_pay="checked"; else $check_allegro_pay_on_line_pay="";
+if (@$rec->data['allegro_pay_payu_accept_escrow']=="1") $check_allegro_pay_payu_accept_escrow="checked"; else $check_allegro_pay_payu_accept_escrow="";
+if (@$rec->data['allegro_pay']=="1") $check_allegro_pay="checked"; else $check_allegro_pay="";
+
+if (@$rec->data['allegro_bold']=="1") $check_allegro_bold="checked"; else $check_allegro_bold="";
+if (@$rec->data['allegro_light']=="1") $check_allegro_light="checked"; else $check_allegro_light="";
+if (@$rec->data['allegro_favouritism']=="1") $check_allegro_favouritism="checked"; else $check_allegro_favouritism="";
+if (@$rec->data['allegro_category_site']=="1") $check_allegro_category_site="checked"; else $check_allegro_category_site="";
+if (@$rec->data['allegro_home_page']=="1") $check_allegro_home_page="checked"; else $check_allegro_home_page="";
+
+
+
+?>
+<form action=<?php print @$action;?> method=post name=editForm  enctype=multipart/form-data>
+<input type=hidden name=user_id value='<?php print @$_REQUEST['user_id'];?>'>
+<input type=hidden name=update value=true>
+<table border="0" cellpadding="0" cellspacing="0" width="100%">
+<tr>
+<td width="60" valign="top">
+
+<table border=0 align="center" cellpadding="3" cellspacing="9">
+<tr>
+  <td align="left" bgcolor="#d0f9f9" colspan="2"><b><nobr><?php print $lang->edit_allegro['allegro_auction_type']; ?>:</nobr></b></td>
+</tr>
+<tr>  
+<td colspan="2">
+  <input type=radio name=item[allegro_auction_type] value="1" <?php print @$allegro_auction_type1; ?>><?php print $lang->edit_allegro['allegro_auction_type_auction'];?><Br>
+  <input type=radio name=item[allegro_auction_type] value="2" <?php print @$allegro_auction_type2; ?>><?php print $lang->edit_allegro['allegro_auction_type_buy_now'];?>
+  </td>
+</tr>
+<tr>
+  <td width="30%" align="right"><b><?php print $lang->edit_allegro['allegro_product_name']; ?>:</b></td>
+  <?php
+  //odczytaj nazwe produktu
+  if(empty($rec->data['allegro_product_name'])) {
+      $name=$database->sql_select("name_L0","main","user_id=".$user_id);
+  } else {
+    $name=$rec->data['allegro_product_name'];
+  }
+  ?>
+  <td><input type="text" name="item[allegro_product_name]" size="30" value="<?php print $name; ?>"></td>
+</tr>
+<tr>
+  <td width="20%" align="left" colspan="2" bgcolor="#dcddf9"><b><?php print $lang->edit_allegro['allegro_product_description']; ?>:</b></td>
+</tr>
+<tr>
+  <?php
+  //odczytaj nazwe produktu
+  if(empty($rec->data['allegro_product_description'])) {
+      $desc=$database->sql_select("xml_description_L0","main","user_id=".$user_id);
+  } else {
+      $desc=$rec->data['allegro_product_description'];
+  }
+  ?>
+<td colspan="2"><textarea cols="50" rows="20" name="item[allegro_product_description]"><?php print $desc; ?></textarea></td>
+</tr>
+<tr>
+  <?php
+  //odczytaj nazwe produktu
+  if(empty($rec->data['allegro_photo'])) {
+      $photo=$database->sql_select("photo","main","user_id=".$user_id);
+  } else {
+      $photo=@$rec->data['allegro_photo'];
+  }
+ ?>
+    <td width="20%" align="right"><b><?php print $lang->edit_allegro['allegro_photo']; ?>:</b></td>
+  <td>
+  <input type="text" name="item[allegro_photo]" size="30" value="<?php print $photo; ?>">
+  </td>
+</tr>
+<tr>
+  <td width="20%" align="right"><b><?php print $lang->edit_allegro['allegro_miniature']; ?>:</b></td>
+  <td><input type="checkbox" name=item[allegro_miniature] value="1" <?php print $check_allegro_miniature; ?>></td>
+</tr>
+</table>
+
+
+</td>
+<td align="left" valign="top">
+
+
+<table border=0 align="left" cellpadding="4">
+<tr>
+<td>
+<table border=0 align="left" cellpadding="4">
+<tr>
+<td colspan="4" bgcolor="#e2f9a7"><b><?php print $lang->edit_allegro['allegro_prices_duration']; ?>:</b></td>
+</tr>
+<?php
+//ustawianie cen
+$price_brutto=$database->sql_select("price_brutto","main","user_id=".$user_id);
+if(empty($rec->data['allegro_price_start'])) {
+    $allegro_price_start=$price_brutto;
+} else {
+    $allegro_price_start=$rec->data['allegro_price_start'];
+}
+$allegro_price_buy_now=@$rec->data['allegro_price_buy_now'];
+$allegro_price_min=@$rec->data['allegro_price_min'];
+$allegro_stock=@$rec->data['allegro_stock'];
+
+?>
+
+
+<tr>
+<td width="20%" align="right"><b><?php print $lang->edit_allegro['allegro_price_start']; ?>:</b></td>
+  <td><input type="text" name="item[allegro_price_start]" size="10" value="<?php print $allegro_price_start;?>"> 
+  <?php print $lang->edit_allegro['allegro_currency']; ?></td>
+  <td width="20%" align="right"><b><?php print $lang->edit_allegro['allegro_price_buy_now']; ?>:</b></td>
+  <td><input type="text" name="item[allegro_price_buy_now]" size="10" value="<?php print $allegro_price_buy_now;?>"> <?php print $lang->edit_allegro['allegro_currency']; ?></td>
+</tr>
+<tr>
+  <td width="20%" align="right"><b><?php print $lang->edit_allegro['allegro_price_min']; ?>:</b></td>
+  <td><input type="text" name="item[allegro_price_min]" size="10" value="<?php print $allegro_price_min;?>"> <?php print $lang->edit_allegro['allegro_currency']; ?></td></td>
+  <td width="20%" align="right"><b><?php print $lang->edit_allegro['allegro_stock']; ?>:</b></td>
+  <td><input type="text" name="item[allegro_stock]" size="3" value="<?php print $allegro_stock;?>"></td>
+</tr>
+<tr>
+  <td width="20%" align="right"><b><nobr><?php print $lang->edit_allegro['allegro_how_long']; ?></nobr>:</b></td>
+  <td>
+  <select name="item[allegro_how_long]">
+  <?php
+    foreach($allegro_config->allegro_time as $key=>$value) {
+        if($rec->data['allegro_how_long'] == $key) {
+            print "<option value=\"".$key."\" selected>".$value."</option>";
+        } else {
+            print "<option value=\"".$key."\">".$value."</option>";
+        }    
+    }
+  ?>
+  </select> 
+  <?php print $lang->edit_allegro['allegro_days']; ?></td>
+</tr>
+</table>
+</td>
+</tr>
+  
+<tr>
+  <td colspan="2"><table border="0" cellpadding="3" cellspacing="3" width="100%">
+  		<tr>
+  			<td colspan="2" bgcolor="#fdffc9"><b><?php print $lang->edit_allegro['allegro_delivery']; ?>:</b></td>
+  		</tr>
+  		<tr>
+  			<td width="100"><nobr><?php print $lang->edit_allegro['allegro_delivery_who_pay']; ?></nobr></td>
+  			<td>
+            <select name="item[allegro_delivery_who_pay]">
+ 			<?PHP
+  			foreach($allegro_config->allegro_trans as $key=>$value) {
+                if($rec->data['allegro_delivery_who_pay'] == $key) {
+                    print "<option value=\"".$key."\" selected>".$value."</option>";
+                } else {
+                    print "<option value=\"".$key."\">".$value."</option>";
+                }    
+  			}
+  			?>
+            </select> 
+            </td>
+            </tr>
+  		<tr>
+  		<td colspan="2">
+  		<input type="checkbox" name=item[allegro_delivery_shipment]  value="1" <?php print $check_allegro_delivery_shipment; ?>><?php print $lang->edit_allegro['allegro_delivery_shipment'];?><br>
+  		<input type="checkbox" name=item[allegro_delivery_priority_shipment]  value="1" <?php print $check_allegro_delivery_priority_shipment; ?>><?php print $lang->edit_allegro['allegro_delivery_priority_shipment'];?><br>
+  		<input type="checkbox" name=item[allegro_delivery_courier]  value="1" <?php print $check_allegro_delivery_courier; ?>><?php print $lang->edit_allegro['allegro_delivery_courier'];?><br>
+  		<input type="checkbox" name=item[allegro_delivery_personal_acceptance]  value="1" <?php print $check_allegro_delivery_personal_acceptance; ?>><?php print $lang->edit_allegro['allegro_delivery_personal_acceptance'];?><br>
+  		<input type="checkbox" name=item[allegro_delivery_other]  value="1" <?php print $check_allegro_delivery_other; ?>><?php print $lang->edit_allegro['allegro_delivery_other'];?><br>
+  		<input type="checkbox" name=item[allegro_delivery_abroad]  value="1" <?php print $check_allegro_delivery_abroad; ?>><?php print $lang->edit_allegro['allegro_delivery_abroad'];?><br>
+  		</td>
+  		</tr>
+  		</table>
+    </td>
+</tr>
+<tr>
+  <td colspan="2"><table border="0" cellpadding="3" cellspacing="3" width="100%">
+  		<tr>
+  			<td colspan="2" bgcolor="#f9eabe"><b><?php print $lang->edit_allegro['allegro_pay']; ?>:</b></td>
+  		</tr>
+  		<tr>
+  		<td colspan="2">
+  		
+  		<input type="checkbox" name=item[allegro_pay_wire_transfer] value="1" <?php print $check_allegro_pay_wire_transfer; ?>>
+  		<?php print $lang->edit_allegro['allegro_pay_wire_transfer'];print "&nbsp;&nbsp;&nbsp;&nbsp;".$lang->edit_allegro['allegro_pay_price'];?>: 
+  		<input type="text" name=item[allegro_pay_wire_transfer_price] size="10" value="<?php print @$rec->data['allegro_pay_wire_transfer_price']?>">
+  		 <?php print $lang->edit_allegro['allegro_currency']; ?><br>
+  		
+  		<input type="checkbox" name=item[allegro_pay_collect_on_delivery]  value="1" <?php print $check_allegro_pay_collect_on_delivery; ?>><?php print $lang->edit_allegro['allegro_pay_collect_on_delivery'];
+  		print "&nbsp;&nbsp;&nbsp;&nbsp;".$lang->edit_allegro['allegro_pay_price'];?>: 
+  		<input type="text" name=item[allegro_pay_collect_on_delivery_price] size="10" value="<?php print @$rec->data['allegro_pay_collect_on_delivery_price']?>">
+  		 <?php print $lang->edit_allegro['allegro_currency']; ?><br>
+  		
+  		 <input type="checkbox" name=item[allegro_pay_on_line_pay]  value="1" <?php print $check_allegro_pay_on_line_pay; ?>><?php print $lang->edit_allegro['allegro_pay_on_line_pay'];?><br>
+  		<input type="checkbox" name=item[allegro_pay_payu_accept_escrow] value="1" <?php print $check_allegro_pay_payu_accept_escrow; ?> ><?php print $lang->edit_allegro['allegro_pay_payu_accept_escrow'];?><br>
+  		<input type="checkbox" name=item[allegro_pay]  value="1" <?php print $check_allegro_pay; ?>><?php print $lang->edit_allegro['allegro_pay'];?><br>
+  		</td>
+  		</tr>
+  		</table>
+    </td>
+</tr>
+
+<tr>
+<td><table border=0 cellpadding="3" cellspacing="3" width="100%">
+<tr>
+<td colspan="6" bgcolor="#f9dcdc"><b><?php print $lang->edit_allegro['allegro_additional_options']; ?>:</b></td>
+</tr>
+<tr>
+ <td width="20%" align="right"><b><nobr><?php print $lang->edit_allegro['allegro_bold']; ?>:</nobr></b></td>
+  <td><input type="checkbox" name=item[allegro_bold]  value="1" <?php print $check_allegro_bold; ?>></td>
+  <td width="20%" align="right"><b><?php print $lang->edit_allegro['allegro_light']; ?>:</b></td>
+  <td><input type="checkbox" name=item[allegro_light]  value="1" <?php print $check_allegro_light; ?>></td>
+  <td width="20%" align="right"><b><?php print $lang->edit_allegro['allegro_favouritism']; ?>:</b></td>
+  <td><input type="checkbox" name=item[allegro_favouritism] value="1" <?php print $check_allegro_favouritism; ?>></td>
+</tr>
+<tr>
+  <td align="right"><b><?php print $lang->edit_allegro['allegro_category_site']; ?>:</b></td>
+  <td><input type="checkbox" name=item[allegro_category_site] value="1" <?php print $check_allegro_category_site; ?>></td>
+  <td align="right"><b><?php print $lang->edit_allegro['allegro_home_page']; ?>:</b></td>
+  <td><input type="checkbox" name=item[allegro_home_page] value="1" <?php print $check_allegro_home_page; ?>></td>
+</tr>
+</table>
+</td>
+</tr>
+</table>
+</td>
+</tr>
+
+<tr>
+<td colspan="2" align="left">
+<table><tr>
+<td width="10%" align="left"><b><?php print $lang->edit_allegro['allegro_category']; ?>:</b></td>
+  <td><?php 
+  print $allegro->buildTree(@$rec->data['allegro_category']); ?></td>
+</tr>
+</table>
+</td>
+</tr>
+
+<tr>
+<td colspan="2" align="center">&nbsp;</td>
+</tr>
+
+<tr>
+<td colspan="2" align="center"><?php $buttons->button($lang->edit_edit_submit,"javascript:document.editForm.submit();");?></td>
+</tr>
+
+</table>
+<?php
+$theme->desktop_close();
+?>
+<!-- pasaz.ceneo.pl -->
diff -ruN ../soteesklep3/admin/go/_edit/html/edit_page.html.php soteesklep3/admin/go/_edit/html/edit_page.html.php
--- ../soteesklep3/admin/go/_edit/html/edit_page.html.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/admin/go/_edit/html/edit_page.html.php	2006-06-30 14:10:49.000000000 +0200
@@ -0,0 +1,719 @@
+<?php
+/**
+* Formularz edycji produktu
+*
+* @author  m@sote.pl
+* @version $Id: edit_page.html.php,v 2.54 2006/05/23 14:53:22 krzys Exp $
+*
+* @package    edit
+*/
+
+global $config,$lang;
+
+if (empty($rec)) {
+    class RecTmp{}
+    $rec = new RecTmp();
+}
+
+if (@$rec->data['main_page']=="1") $checked_main_page="checked"; else $checked_main_page="";
+if (@$rec->data['newcol']=="1") $checked_newcol="checked"; else $checked_newcol="";
+if (@$rec->data['promotion']=="1") $checked_promotion="checked"; else $checked_promotion="";
+if (@$rec->data['bestseller']=="1") $checked_bestseller="checked"; else $checked_bestseller="";
+if (@$rec->data['hidden_price']=="1") $checked_hidden_price="checked"; else $checked_hidden_price="";
+if (@$rec->data['points']=="1") $checked_points="checked"; else $checked_points="";
+if (@$rec->data['sms']=="1") $checked_sms="checked"; else $checked_sms="";
+if (@$rec->data['active']=="1") $checked_active="checked"; else $checked_active="";
+
+global $__edit;
+if ($__edit!=true) $checked_active="checked";
+
+if (@$rec->data['ask4price']=="1") $checked_ask4price="checked"; else $checked_ask4price="";
+if (@$rec->data['status_vat']=="1") $checked_status_vat="checked"; else $checked_status_vat="";
+// sprzadaz kodow/pinow online
+if (in_array("main_keys",$config->plugins)) {
+    if (@$rec->data['main_keys_online']=="1") $checked_main_keys_online="checked"; else $checked_main_keys_online="";
+}
+
+// sprawdz jakie oznaczenia cen domyslnie prezentowac na listach rozwijanych (netto/brutto)
+if (@$edit_config->netto=="1") {
+    $netto_default="selected";
+    $brutto_default="";
+} else {
+    $netto_default="";
+    $brutto_default="selected";
+}
+// end
+
+// skroc opisy jesli sa zbyt dlugie
+require_once ("include/description.inc");
+if (! empty($rec->data['xml_short_description'])) {
+    $rec->data['xml_description']=$description->short("",$rec->data['xml_description']);
+}
+
+if (! empty($rec->data['xml_description'])) {
+    $rec->data['xml_short_description']=$description->short("",$rec->data['xml_short_description']);
+}
+// end
+
+// sprawdz czy jest jakas wartosc w price_curency, jesli nie ma to pod to pole przypisz wartosc price_brutto
+// ma to miejsce wtedy, kiedy w polu price_brutto sa wprowad4zone ceny i mamy aktywny modul "currency" i nie
+// wprowadzilismy jeszcze zadnych wartosci do price_currency
+if (in_array("currency",$config->plugins)) {
+    if ((empty($rec->data['price_currency'])) &&  (! empty($rec->data['price_brutto']))) {
+        if (@$edit_config->netto!="1") {
+            $rec->data['price_currency']=$rec->data['price_brutto'];
+        } else  {
+            $rec->data['price_currency']=$my_price->brutto2netto($rec->data['price_brutto'],$rec->data['vat']);
+        }
+    }
+}
+
+// odczytaj ID
+global $__id;
+if ((empty($rec->data['id'])) && (! empty($__id))) {
+    $rec->data['id']=$__id;
+}
+
+// odczytaj dostawców magazynowych do pola wyboru
+if (empty($rec->data['deliverer_id']))
+    $rec->data['deliverer_id'] = 0;
+$res = $mdbd->select("id,name", "deliverers", "1=1", array(), '', 'array');
+$deliverers = array();
+if(!empty($res) && (is_array($res))) {
+    $deliverers[0] = "---";
+    for ($i = 0; $i < count($res); $i++) {
+        $deliverers[$res[$i]['id']] = $res[$i]['name'];
+    }
+}
+$deliverers_selected[$rec->data['deliverer_id']] = 'selected';
+?>
+<?php
+/*
+include_once("config/category_tree.php"); // tablice do konstrukcji list kategorii
+$tree = unserialize($tree);
+$category_names = unserialize($category_names);
+?>
+<script>
+<?php
+include_once("html/category_selection.js");
+*/
+?>
+</script>
+
+<!-- glowna tabela-->
+<table border=0 width=100%>
+<tr>
+  <td width=30% valign=top>
+
+
+  <!-- kategorie cena -->
+  <form action=<?php print $action;?> method=post name=editForm  enctype=multipart/form-data>
+  <input type=hidden name=id value='<?php print $rec->data['id'];?>'>
+  <input type=hidden name=update value=true>
+
+  <?php $theme->desktop_open();?>
+
+  <table border=0 width=100%>
+  <tr> 
+    <td>
+
+    <b><?php print $lang->cols['user_id'];?></b></td>
+    <?php
+    if ($action=="index.php") {
+        // update rekordu
+        print "<td><b>".@$rec->data['user_id']."</b></td>\n";
+        print "<td><input type=hidden name=item[user_id] value=\"".@$rec->data['user_id']."\">\n";
+    } else {
+        // dodanie rekordu
+        if (! empty($default_user_id)) {
+            print "<td><input type=texdt size=16 name=item[user_id] value=\"$default_user_id\"><br>\n";
+        } else {
+            print "<td><input type=text size=16 name=item[user_id] value=\"".@$rec->data['user_id']."\"><br>\n";
+        }
+        $theme->form_error('user_id');
+        print "</td>\n";
+    }
+    ?>
+  </tr>
+  <tr>
+    <td>
+      <b><?php print $lang->cols['name'];?></b></td>
+    <td>
+      <input type=text size=28 name=item[name] value='<?php print @$rec->data['name'];?>'>       
+      <br><?php $theme->form_error('name');?>
+   </td>
+  </tr>
+
+  <!-- cena itp.-->
+  <!-- waluty -->
+  <?php
+  // if (in_array("currency",$config->plugins)) {
+  if (1) {
+  ?>
+  <tr bgcolor=<?php print $theme->bg_select3;?>>
+    <td><?php print $lang->cols['price_brutto'];?></td>
+    <td>
+      <?php print $theme->price(@$rec->data['price_brutto']);?> <?php print $config->currency;?>
+      <input type=hidden name=item[price_brutto] value=<?php print @$rec->data['price_brutto'];?>>
+    </td>
+  </tr>
+  <tr bgcolor=<?php print $theme->bg_select3;?>>
+    <td>
+      <nobr>
+      <?php print $lang->cols['price_currency'];?></td>
+      <td>
+            
+      <input type=text size=10 name=item[price_currency] value="<?php print $theme->price(@$rec->data['price_currency']);?>">
+      <!--
+      <input type=hidden name=item[price_currency_long]  value="<?php print @$rec->data['price_currency'];?>">
+      <input type=hidden name=item[price_currency_short] value="<?php print $theme->price(@$rec->data['price_currency']);?>">
+      -->
+      <?php $currency->select_list(@$rec->data['id_currency']);?>
+      
+
+      <!-- start netto/brutto: -->
+      <select name=item[price_nb]>
+      <option value='netto' <?php print $netto_default;?>><?php print $lang->netto;?>
+      <option value='brutto' <?php print $brutto_default;?>><?php print $lang->brutto;?>
+      </select>
+      </nobr>
+      <!-- end netto/brutto -->
+
+      <br><?php $theme->form_error('price_currency');?>     
+      
+    </td>
+  </tr>
+  <?php
+  } else {
+  ?>
+  <input type=hidden name=item[price_currency] value=''>
+  <tr bgcolor=<?php print $theme->bg_select3;?>>
+    <td>
+      <nobr>      
+      <b><?php print $lang->cols['price_brutto'];?></b></td><td><input type=text size=10 name=item[price_brutto] value="<?php print @$rec->data['price_brutto'];?>"> <?php print $config->currency;?><br>
+
+      <!-- start netto/brutto: -->
+      <select name=item[price_nb]>
+      <option value='netto' <?php print $netto_default;?>><?php print $lang->netto;?>
+      <option value='brutto' <?php print $brutto_default;?>><?php print $lang->brutto;?>
+      </select>
+      </nobr>
+      <!-- end netto/brutto -->
+    
+      <br>
+      <?php $theme->form_error('price_brutto');?>
+    </td>
+  </tr>
+  <?php
+  }
+  ?>
+  <!-- end waluty-->
+
+  <!-- vat -->
+  <tr bgcolor=<?php print $theme->bg_select3;?>>
+    <td><?php print $lang->cols['vat'];?></td>
+    <td>
+      <?php 
+      include_once ("./include/vat.inc.php");
+      ?>
+      %<br>
+      <?php $theme->form_error('vat');?>
+    </td>
+  </tr>
+  <!-- end vat -->
+
+  <tr  bgcolor=<?php print $theme->bg_select3;?>>
+    <td>
+      <nobr>
+      <?php print $lang->cols['price_2'];?></td><td><input type=text size=10 name=item[price_2] value="<?php print @$rec->data['price_2'];?>">
+      <?php $theme->form_error('price_2');?>
+      <select name=item[price_2_nb]>
+      <option value='netto' <?php print $netto_default;?>><?php print $lang->netto;?>
+      <option value='brutto' <?php print $brutto_default;?>><?php print $lang->brutto;?>
+      </select>
+      </nobr>
+    </td>
+  </tr>
+  <tr  bgcolor=<?php print $theme->bg_select3;?>>
+    <td>
+      <?php print $lang->cols['price_brutto_detal'];?></td>
+      <td>
+      <input type=text size=10 name=item[price_brutto_detal] value="<?php print $theme->price(@$rec->data['price_brutto_detal']);?>">
+      <!--
+      <input type=hidden name=item[price_brutto_detal_long] value="<?php print @$rec->data['price_brutto_detal'];?>">
+      <input type=hidden size=10 name=item[price_brutto_detal_short] value="<?php $theme->price(print @$rec->data['price_brutto_detal']);?>">
+      -->
+      
+      <?php print $lang->cols['discount'];?>  <input type=text size=4 name=item[discount] value="<?php print @$rec->data['discount'];?>">%
+    </td>
+  </tr>
+<!-- warto¶æ produktu w punktach -->
+  <tr  bgcolor=<?php print $theme->bg_select3;?>>
+    <td>
+      <?php print $lang->cols['points_value'];?></td>
+      <td>
+      <input type=text size=10 name=item[points_value] value="<?php print @$rec->data['points_value'];?>">
+    </td>
+  </tr>
+  <?php
+  // jesli sa definiowane rabaty wg kategorii/producentow i grup kategorii to dodaj definiowanie rabatu progowego produktu
+  if (in_array("product_discounts",$config->plugins)) {
+      print "<tr bgcolor=$theme->bg_select3>\n";
+      print "<td></td><td>".$lang->cols['max_discount']." ";
+      print "<input type=text size=4 name=item[max_discount] value=".@$rec->data['max_discount'].">%</td>\n";
+      print "</tr>\n";
+  }
+  ?>
+  <!-- end rabat-->
+
+  <!-- producent -->
+  <tr bgcolor=<?php print $theme->bg_select2;?>>
+    <td><?php print $lang->cols['producer'];?></td>
+    <td>
+      <?php $form_elements->select("producer",@$rec->data['producer']);?><br>
+      <input type=text size=32 name=item[producer] value="<?php print @$rec->data['producer'];?>">
+    </td>
+  </tr>
+  <!-- end producent-->
+
+  <!-- kategorie -->
+  <tr>
+    <td></td>
+    <td><?php print $lang->edit_category_info;?></td>
+  </tr>
+  <tr>
+    <td><b><?php print $lang->cols['category1'];?></b></td>
+    <td>
+      <?php $form_elements->select("category1",@$rec->data['category1']);?>
+      <?php $theme->add2Dictionary(@$rec->data['category1']);?>
+      <br>
+      <input type=text size=32 name=item[category1] value="<?php print @$rec->data['category1'];?>"><BR>
+      <?php $theme->form_error('category1');?>
+    </td>
+  </tr>
+  <tr bgcolor=<?php print $theme->bg_select;?>>
+    <td><?php print $lang->cols['category2'];?></td>
+    <td>
+      <?php $form_elements->select("category2",@$rec->data['category2']);?>
+      <?php $theme->add2Dictionary(@$rec->data['category2']);?>
+      <br>
+      <input type=text size=32 name=item[category2] value="<?php print @$rec->data['category2'];?>"><BR>
+      <?php $theme->form_error('category2');?>
+    </td>
+  </tr>
+  <tr>
+    <td><?php print $lang->cols['category3'];?></td>
+    <td>
+      <?php $form_elements->select("category3",@$rec->data['category3']);?>
+      <?php $theme->add2Dictionary(@$rec->data['category3']);?>
+      <br>
+      <input type=text size=32 name=item[category3] value="<?php print @$rec->data['category3'];?>"><BR>
+      <?php $theme->form_error('category3');?>
+    </td>
+  </tr>
+  <tr bgcolor=<?php print $theme->bg_select;?>>
+    <td><?php print $lang->cols['category4'];?></td>
+    <td>
+      <?php $form_elements->select("category4",@$rec->data['category4']);?>
+      <?php $theme->add2Dictionary(@$rec->data['category4']);?>
+      <br>
+      <input type=text size=32 name=item[category4] value="<?php print @$rec->data['category4'];?>"><BR>
+      <?php $theme->form_error('category4');?>
+    </td>
+  </tr>
+  <tr>
+    <td><?php print $lang->cols['category5'];?></td>
+    <td>
+      <?php $form_elements->select("category5",@$rec->data['category5']);?>
+      <?php $theme->add2Dictionary(@$rec->data['category5']);?>
+      <br>
+      <input type=text size=32  name=item[category5] value="<?php print @$rec->data['category5'];?>"><BR>
+      <?php $theme->form_error('category5');?>
+    </td>
+  </tr>
+  </table>
+  <!-- end kategorie -->
+
+  <!-- strony promocyjne [0|1]-->
+  <table width=100%>
+  <tr>
+    <td colspan="100%">
+        <br>
+        <?php print $lang->depository_num; ?>: <input type=text size="5" name=item[depository_num] value="<?php print @$rec->data['depository_num'];?>"><BR>
+        <?php
+        if (!empty($deliverers)) {
+            reset($deliverers);
+            ?>
+            <br>
+            <?php print $lang->deliverer; ?>:
+            <select name="item[deliverer_id]" style="width: 160px;">
+            <?php
+            while (list($deliverer_id, $deliverer_name) = each($deliverers)) {
+                echo "
+                <option value='$deliverer_id' " . @$deliverers_selected[$deliverer_id] . ">$deliverer_name</option>
+                ";
+            }
+            ?>
+            </select>
+            <?php
+        }
+        else {
+            echo "<input type=hidden name='item[deliverer_id]' value=0>";
+        }
+        ?>
+    </td>
+  </tr>
+  <tr>
+    <td></td>
+    <td>
+      <input type=checkbox name=item[main_page] <?php print $checked_main_page;?> value=1>
+      <?php print $lang->cols['main_page'];?><br>
+      <input type=checkbox name=item[newcol] <?php print $checked_newcol;?> value=1>
+      <?php print $lang->cols['newcol'];?><br>
+      <input type=checkbox name=item[promotion] <?php print $checked_promotion;?> value=1> 
+      <?php print $lang->cols['promotion'];?><br>
+      <input type=checkbox name=item[bestseller] <?php print $checked_bestseller;?> value=1>
+      <?php print $lang->cols['bestseller'];?><br>
+      <input type=checkbox name=item[points] <?php print $checked_points;?> value=1>
+      <?php print $lang->cols['points'];?><br>
+      <?php print $lang->points_warning;?><br>
+  
+      <!-- nie pokazuj ceny -->
+      <?php
+      if (in_array("hidden_price",$config->plugins)) {
+          print "<input type=checkbox name=item[hidden_price] $checked_hidden_price value=1 \>\n";
+          print $lang->cols['hidden_price']."<BR>";
+      } else {
+          print "<input type=hidden name=item[hidden_price] value=0 \>";
+      }
+      ?>
+      <!-- end -->
+ 
+      <!-- main_keys kody/piny, sprzedaz on-line -->
+      <?php
+      if (in_array("main_keys",$config->plugins)) {
+          print "<input type=checkbox name=item[main_keys_online] $checked_main_keys_online value=1 \>\n";
+          print $lang->cols['main_keys_online']."<BR>";
+      } else {
+          print "<input type=hidden name=item[main_keys_online] value=0 \>";
+      }
+      ?>
+      <!-- end -->   
+      
+      <input type=checkbox name=item[ask4price] <?php print $checked_ask4price;?> value=1>
+      <?php print $lang->cols['ask4price'];?><br>
+      
+      <input type=checkbox name=item[status_vat] <?php print $checked_status_vat;?> value=1>
+      <?php print $lang->cols['status_vat'];?><br>
+
+      <input type=checkbox name=item[active] <?php print $checked_active;?> value=1>
+      <?php print $lang->cols['active'];?><br>
+
+      <input type=checkbox name=item[sms] <?php print $checked_sms;?> value=1>
+      <?php print $lang->cols['sms'];?><br>
+      
+   
+      
+    </td>
+    <td valign=top align=right>
+      <?php
+      if ($action!="add.php") {
+          $buttons->button($lang->edit_edit_submit,"javascript:document.editForm.submit();");
+      } else {
+          $buttons->button($lang->edit_add_submit,"javascript:document.editForm.submit();");
+      }       ?>     
+    <td>
+ 
+    </tr>
+  
+    <!-- end strony promocyjne-->
+
+  </table>
+  
+
+  <!-- end kategorie cena-->
+  <?php $theme->desktop_close();?>
+  </td>
+
+
+<!--opisy-->
+  <td width=60% valign=top>
+    <?php
+    if ($action!="add.php") {
+    ?>
+
+    <?php $theme->desktop_open();?>
+    <table bgcolor='#f0f0f0' width=100%>
+    <tr>
+      <td>
+        <?php print $lang->upload." ".$lang->cols['xml_description'];?> <input type=file name=desc_file>   
+        <br>
+        <?php show_desc_file_info(@$rec->data['user_id'],@$rec->data['id']);?>
+      </td>
+      <td align=right>
+        <?php $buttons->button($lang->edit_submit,"javascript:document.editForm.submit();");?>
+      </td>
+    </tr>
+    </table>
+    <div align=right>
+    <?php $buttons->button($lang->edit_link,"description_lang.php?id=".@$rec->data['id']);?>
+    </div>
+    <div align=right>
+    <?php 
+    $onclick=$theme->onclick(360,425);
+    $buttons->button($lang->edit_add_review,"/plugins/_reviews/add.php?user_id=".@$rec->data['user_id']." $onclick");
+    ?>
+    </div>
+
+    <b><?php print $lang->cols['xml_description'];?>:</b><br>
+    <?php print @$rec->data['xml_description'];?><br>
+
+    <br>
+    <b><?php print $lang->cols['xml_short_description'];?>:</b><br>
+    <?php print @$rec->data['xml_short_description'];?><br>
+    <p>
+    <?php $theme->desktop_close();?>
+    <?php
+    } else {
+        $theme->desktop_open();
+        print $lang->edit_add_description_info;
+        $theme->desktop_close();
+    }
+    ?>
+
+    <!-- end opisy-->
+
+    <!-- zdjecia--> 
+    <p>
+    <?php $theme->desktop_open();?>
+    
+    <?php print $lang->cols['photo'];?>: <input type=text size=15 name=item[photo] value="<?php print @$rec->data['photo'];?>">
+
+    <input type=hidden name=id value='<?php print @$rec->data['id'];?>'>
+    <table border=0 width=100%>
+    <tr>
+      <td width="0">   
+        <?php    
+        $image->max_size="150";
+        $image->show(@$rec->data['photo'],"");
+        ?>
+      </td>
+      <td>  
+        <?php $image->show(@$rec->data['photo'],"","m_");?>
+      </td>  
+    </tr>
+    <tr>
+       <td valign=top>
+         <?php print $lang->edit_photo_upload;?><br>
+         <input type=file size=5 name=item_photo_upload align=center><br>  
+         <input type=radio name=del[photo] value="<?php print @$rec->data['photo'];?>" onClick="document.editForm.submit();"><?php print $lang->edit_photo_delete;?>
+       </td>
+       <td valign=top>
+         <?php print $lang->edit_m_photo_upload;?><br>
+         <input type=file size=5 name=item_m_photo_upload align=center><br>     
+         <input type=radio name=del[m_photo] value="<?php print "m_".@$rec->data['photo'];?>" onClick="document.editForm.submit();"><?php print $lang->edit_photo_delete;?>
+      </td>
+    </tr>
+    
+    </table>
+    <?php $theme->desktop_close();?>
+    <!-- end zdjecia -->
+    <p>
+     <?php $theme->desktop_open();?>
+     <table cellpadding="0" cellspacing="0"  border="0" width="100%">
+     <tr>
+     	<td valign=top align="left">    
+        <table cellspacing="0" cellpadding="0" border=0 align="left">
+        <tr>
+          <td align="left" width="0"><nobr>PDF (.pdf)</nobr></td>
+          <td align="left">&nbsp;&nbsp;<input type=image src=html/_img/pdf.gif style='border-width: 0px;'></td>
+        </tr>
+         <tr>
+         <td colspan="2" align="left"> 
+        <input type=file size=5 name=item_pdf_upload align=center><br>
+        <input type=hidden name=item[pdf] value='<?php print @$rec->data['pdf'];?>'>
+        <?php
+        if (! empty($rec->data['pdf'])) {
+            print "<a href=/photo/_pdf/".$rec->data['pdf'].">".$rec->data['pdf']."</a> <input type=radio name=del[pdf] value=".@$rec->data['pdf']." onClick=\"document.editForm.submit();\">$lang->delete</a>";
+        }
+        ?>
+        <td>
+        </tr>
+        <tr>
+        <td><img src="<?php $theme->img('_img/mask.gif');?>" height="40"></td>
+        </tr>
+        <tr>
+        <td align="left" width="0"><nobr>DOC (.doc)</nobr></td>
+        <td align="left">&nbsp;&nbsp;<input type=image src=html/_img/doc.gif style='border-width: 0px;'></td>
+        </tr>
+        <tr>
+         <td colspan="2" align="left"> 
+        <input type=file size=5 name=item_doc_upload align=center><br>
+        <input type=hidden name=item[doc] value='<?php print @$rec->data['doc'];?>'>
+        <?php
+        if (! empty($rec->data['doc'])) {
+            print "<a href=/photo/_doc/".$rec->data['doc'].">".$rec->data['doc']."</a> <input type=radio name=del[doc] value=".@$rec->data['doc']." onClick=\"document.editForm.submit();\">$lang->delete</a>";
+        }
+        ?>
+        <td>
+        </tr>
+        </table>
+      </td>
+      <td valign=top align="left">
+        <table cellspacing=0 cellpadding=0 border=0 align="left"> 
+        <tr>
+          <td width="0"><nobr>Flash (.swf)</nobr></td>
+          <td align=left width="100%">&nbsp;&nbsp;<input type=image src=html/_img/flash.gif style='border-width: 0px;'></td>
+        </tr>
+        <tr>
+        <td colspan="2" align="left" style="padding-top:2px;">
+	       	<input type=file size=5 name=item_flash_upload align=center><br>
+	        <?php
+	        if (! empty($rec->data['flash'])) {
+	            print "<a href=/photo/_flash/".$rec->data['flash']." target=preview>".$rec->data['flash']."</a> <input type=radio name=del[flash] value=".@$rec->data['flash']." onClick=\"document.editForm.submit();\">$lang->delete</a>";    }
+	        ?>
+        </td>
+        </tr>
+        <tr>
+        	<td style="padding-top:6px;"><nobr><?php print $lang->flash_description;?></nobr></td>
+        </tr>
+        <tr>
+         <td colspan="2" align="left" style="padding-top:6px;">
+	        <textarea name=item[flash_html] rows=6 cols=26 wrap=off><?php print @$rec->data['flash_html'];?></textarea><br>
+	        <input type=hidden name=item[flash] value='<?php print @$rec->data['flash'];?>'> 
+        </td>
+        </tr>
+        </table>
+      </td>
+     </tr>
+     <tr>
+     <td colspan="2">
+	     <table cellspacing=0 cellpadding=2 border=0 align="left"> 
+	     <tr>
+		     <td style="padding-top:10px; padding-bottom:10px;" colspan="2">
+		     	<?php print $lang->add_link;?>
+		     </td>
+	     </tr>
+	     <tr>
+	     <td bgcolor="#fdffc9"><?php print $lang->link['url'];?></td>
+	     <td bgcolor="#fdffc9">
+	      	<input type=text size=28 name=item[link_url] value='<?php print @$rec->data['link_url'];?>'>       
+	     </td>
+	     </tr>
+	     <tr>
+	     <td bgcolor="#fdffc9"><?php print $lang->link['name'];?></td>
+	     <td bgcolor="#fdffc9">
+	      	<input type=text size=28 name=item[link_name] value='<?php print @$rec->data['link_name'];?>'>       
+	     </td>
+	     </tr>
+	     </table>
+     </td>
+     </tr>
+     </table>
+     <?php $theme->desktop_close();?>
+    <p>
+
+    <?php $theme->desktop_open();?>
+    <table>
+    <tr>
+    <td valign=top>
+
+
+      <!-- start dostepnosc -->
+      <table>
+      <tr bgcolor=<?php print $theme->bg_select;?>>
+        <td>
+          <?php print @$lang->cols['id_available'];?></td>
+        <td>
+          <?php $form_elements->select_available(@$rec->data['id_available']);?>
+        </td>
+      </tr>
+      </table>
+      <!-- end dostepnosc -->
+
+    </td>
+    </tr>
+    <tr>
+      <td>
+        <?php 
+        print $lang->cols['weight'];?> [ <?php print $config->unit; ?> ]</b>: <input type=text size=4 name=item[weight] value="<?php print @$rec->data['weight'];?>"><br>
+      </td>
+    </tr> 
+    <tr>
+      <td width=50% valign=top>
+      
+      <table border=0>
+      <!-- xml options -->
+      <tr>
+         <td><?php print $lang->cols['xml_options'];?></td>
+         <td>
+       
+           <?php
+           
+           if (! empty($rec->data['xml_options'])) {
+               // dodaj obsluge pola xml_options
+               global $result,$my_xml_options;
+               include_once ("include/xml_options.inc");
+           }
+           // nie wyswietlaj pola <input ...> jesli dany typ opcji nie ma edycji uproszczonej
+           // $my_xml_options->checkSimpleEdit() -> false (@see ../include/query_rec.inc.php)
+           
+           if ((method_exists($my_xml_options,"checkSimpleEdit")) && ($my_xml_options->checkSimpleEdit())) {
+               print "<input type=text size=24 name=item[xml_options] value='".@$rec->data['xml_options']."'>\n";
+               print "</td>\n";
+               print "<td bgcolor=#ffffff>\n";
+               $my_xml_options->show($result);
+               print "</td>\n";
+               print "<td>";
+           } else {
+               print "<input type=hidden name=item[xml_options2] value='".@$rec->data['xml_options2']."'>\n";
+           }
+           ?>
+           <?php
+           if (! empty($rec->data['id'])) {
+               $buttons->button("<nobr>".$lang->edit_edit['options_adv']."</nobr>","edit_xml_options_frame.php?id=".$rec->data['id']);
+           }
+           ?>
+          </td>
+      </tr>
+      <!-- end xml options -->
+
+      <!-- start accessories -->
+      <?php
+      if (in_array("accessories",$config->plugins)) {
+      ?>
+      <tr>
+        <td>
+          <?php print $lang->cols['accessories'];?></b></td><td><input type=text size=24 name=item[accessories] value="<?php print @$rec->data['accessories'];?>"><br>
+          <?php $theme->form_error('accessories');?>
+        </td>
+      </tr> 
+      <?php
+      } else {
+          print "<input type=hidden name=item[accessories] value=''>";
+      }
+      ?>
+      </table>
+      <p>
+      <?php
+      // wstaw liste akcesorii
+      if (! empty($rec->data['accessories'])) {
+          $__accessories=$rec->data['accessories'];
+          include_once ("./include/accessories.inc.php");
+      }
+      ?>
+     <!-- end accessories -->
+ 
+    </td>
+  </tr>
+  </table>
+
+  <?php $theme->desktop_close();?>
+
+  <p>
+
+ <!-- end zdjecia-->
+</td>
+</tr>
+</table>
+<!-- end glowna tabela-->
diff -ruN ../soteesklep3/admin/go/_edit/include/edit_update_allegro.inc.php soteesklep3/admin/go/_edit/include/edit_update_allegro.inc.php
--- ../soteesklep3/admin/go/_edit/include/edit_update_allegro.inc.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/admin/go/_edit/include/edit_update_allegro.inc.php	2006-06-30 14:10:52.000000000 +0200
@@ -0,0 +1,124 @@
+<?php
+/**
+* Aktualizuj w baze wartosc pola zwi±zane z ceneoPasa¿
+*
+* @author  rdiak@sote.pl
+* @version $Id: edit_update_allegro.inc.php,v 2.4 2006/06/28 08:57:02 lukasz Exp $
+*
+* \@verified 2004-03-16 m@sote.pl
+* @package    edit
+*/
+
+if ($global_secure_test!=true) {
+    die ("Forbidden");
+}
+
+require_once("include/metabase.inc");
+global $database;
+global $mdbd;
+global $allegro_config;
+
+//print_r($datat);
+
+// pobieramy z tablicy main user_id produktu
+$user_id=$mdbd->select("user_id","main","id=?",array($id=>"int"));
+
+// sprawdzamy czy rekord juz istnieje w bazie
+$count=$mdbd->select("count(*)","allegro_auctions","user_id=?",array($user_id=>"string"));
+
+// odczytaj dane z formularza
+if (! empty($_REQUEST['item'])) {
+    $item=&$_REQUEST['item'];
+} else {
+    die ("Forbidden: Unknown item");
+}
+
+
+$item['allegro_price_start']=preg_replace("/\,/",".",$item['allegro_price_start']);
+$item['allegro_price_buy_now']=preg_replace("/\,/",".",$item['allegro_price_buy_now']);
+$item['allegro_price_min']=preg_replace("/\,/",".",$item['allegro_price_min']);
+$item['allegro_pay_wire_transfer_price']=preg_replace("/\,/",".",$item['allegro_pay_wire_transfer_price']);
+$item['allegro_pay_collect_on_delivery_price']=preg_replace("/\,/",".",$item['allegro_pay_collect_on_delivery_price']);
+
+if($allegro_config->allegro_mode == 'true') {
+    $send='product';
+} else {
+    $send='test';
+}    
+
+if($count == 0) {
+    $database->sql_insert("allegro_auctions",array(
+                            'user_id'=> $user_id,
+                            'allegro_auction_type'=>@$item['allegro_auction_type'],
+                            'allegro_product_name'=>@$item['allegro_product_name'],
+                            'allegro_product_description'=>@$item['allegro_product_description'],
+                            'allegro_photo'=>@$item['allegro_photo'],
+                            'allegro_miniature'=>@$item['allegro_miniature'],
+                            'allegro_price_start'=>@$item['allegro_price_start'],
+                            'allegro_price_buy_now'=>@$item['allegro_price_buy_now'],
+                            'allegro_price_min'=>@$item['allegro_price_min'],
+                            'allegro_stock'=>@$item['allegro_stock'],
+                            'allegro_how_long'=>@$item['allegro_how_long'],
+                            'allegro_delivery_who_pay'=>@$item['allegro_delivery_who_pay'],
+                            'allegro_delivery_shipment'=>@$item['allegro_delivery_shipment'],
+                            'allegro_delivery_priority_shipment'=>@$item['allegro_delivery_priority_shipment'],
+                            'allegro_delivery_courier'=>@$item['allegro_delivery_courier'],
+                            'allegro_delivery_personal_acceptance'=>@$item['allegro_delivery_personal_acceptance'],
+                            'allegro_delivery_other'=>@$item['allegro_delivery_other'],
+                            'allegro_delivery_abroad'=>@$item['allegro_delivery_abroad'],
+                            'allegro_pay_wire_transfer'=>@$item['allegro_pay_wire_transfer'],
+                            'allegro_pay_wire_transfer_price'=>@$item['allegro_pay_wire_transfer_price'],
+                            'allegro_pay_collect_on_delivery'=>@$item['allegro_pay_collect_on_delivery'],
+                            'allegro_pay_collect_on_delivery_price'=>@$item['allegro_pay_collect_on_delivery_price'],
+                            'allegro_pay_on_line_pay'=>@$item['allegro_pay_on_line_pay'],
+                            'allegro_pay_payu_accept_escrow'=>@$item['allegro_pay_payu_accept_escrow'],
+                            'allegro_pay' =>@$item['allegro_pay'],
+                            'allegro_pay_wire_transfer_price'=>@$item['allegro_pay_wire_transfer_price'],
+                            'allegro_pay_price'=>@$item['allegro_pay_price'],
+                            'allegro_bold'=>@$item['allegro_bold'],
+                            'allegro_light' =>@$item['allegro_light'],
+                            'allegro_favouritism'=>@$item['allegro_favouritism'],
+                            'allegro_category_site'=>@$item['allegro_category_site'],
+                            'allegro_home_page'=>@$item['allegro_home_page'],
+                            'allegro_category'=>@$item['allegro_category'],
+                            'allegro_send'=>$send,
+                        ));
+} else {
+    $database->sql_update("allegro_auctions","user_id=$user_id",
+                    array(
+                            'allegro_auction_type'=>@$item['allegro_auction_type'],
+                            'allegro_product_name'=>@$item['allegro_product_name'],
+                            'allegro_product_description'=>@$item['allegro_product_description'],
+                            'allegro_photo'=>@$item['allegro_photo'],
+                            'allegro_miniature'=>@$item['allegro_miniature'],
+                            'allegro_price_start'=>@$item['allegro_price_start'],
+                            'allegro_price_buy_now'=>@$item['allegro_price_buy_now'],
+                            'allegro_price_min'=>@$item['allegro_price_min'],
+                            'allegro_stock'=>@$item['allegro_stock'],
+                            'allegro_how_long'=>@$item['allegro_how_long'],
+                            'allegro_delivery_who_pay'=>@$item['allegro_delivery_who_pay'],
+                            'allegro_delivery_shipment'=>@$item['allegro_delivery_shipment'],
+                            'allegro_delivery_priority_shipment'=>@$item['allegro_delivery_priority_shipment'],
+                            'allegro_delivery_courier'=>@$item['allegro_delivery_courier'],
+                            'allegro_delivery_personal_acceptance'=>@$item['allegro_delivery_personal_acceptance'],
+                            'allegro_delivery_other'=>@$item['allegro_delivery_other'],
+                            'allegro_delivery_abroad'=>@$item['allegro_delivery_abroad'],
+                            'allegro_pay_wire_transfer'=>@$item['allegro_pay_wire_transfer'],
+                            'allegro_pay_wire_transfer_price'=>@$item['allegro_pay_wire_transfer_price'],
+                            'allegro_pay_collect_on_delivery'=>@$item['allegro_pay_collect_on_delivery'],
+                            'allegro_pay_collect_on_delivery_price'=>@$item['allegro_pay_collect_on_delivery_price'],
+                            'allegro_pay_on_line_pay'=>@$item['allegro_pay_on_line_pay'],
+                            'allegro_pay_payu_accept_escrow'=>@$item['allegro_pay_payu_accept_escrow'],
+                            'allegro_pay' =>@$item['allegro_pay'],
+                            'allegro_pay_wire_transfer_price'=>@$item['allegro_pay_wire_transfer_price'],
+                            'allegro_pay_price'=>@$item['allegro_pay_price'],
+                            'allegro_bold'=>@$item['allegro_bold'],
+                            'allegro_light' =>@$item['allegro_light'],
+                            'allegro_favouritism'=>@$item['allegro_favouritism'],
+                            'allegro_category_site'=>@$item['allegro_category_site'],
+                            'allegro_home_page'=>@$item['allegro_home_page'],
+                            'allegro_category'=>@$item['allegro_category'],
+                            'allegro_send'=>$send,
+    ));
+}
+?>
diff -ruN ../soteesklep3/admin/go/_edit/include/edit_update_wp.inc.php soteesklep3/admin/go/_edit/include/edit_update_wp.inc.php
--- ../soteesklep3/admin/go/_edit/include/edit_update_wp.inc.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/admin/go/_edit/include/edit_update_wp.inc.php	2006-06-30 14:10:51.000000000 +0200
@@ -0,0 +1,133 @@
+<?php
+/**
+* Aktualizuj w baze wartosc pola zwi±zane z wpPasa¿
+*
+* @author  rdiak@sote.pl
+* @version $Id: edit_update_wp.inc.php,v 2.10 2006/06/14 11:35:21 scalak Exp $
+*
+* \@verified 2004-03-16 m@sote.pl
+* @package    edit
+*/
+
+if ($global_secure_test!=true) {
+	die ("Forbidden");
+}
+
+require_once("include/metabase.inc");
+global $database;
+global $mdbd;
+
+$m_date=& new DateManage;
+$m_date->count=1;
+$m_date->lang='pl';
+$datat=$m_date->saveToDb();
+//print_r($datat);
+
+// pobieramy z tablicy main user_id produktu 
+$user_id=$mdbd->select("user_id","main","id=?",array($id=>"int"));
+
+// sprawdzamy czy rekord juz istnieje w bazie
+$count=$mdbd->select("count(*)","main_param","user_id=?",array($user_id=>"string"));
+
+// odczytaj dane z formularza
+if (! empty($_REQUEST['item'])) {
+	$item=&$_REQUEST['item'];
+} else {
+	die ("Forbidden: Unknown item");
+}
+
+
+// korzyscie
+$wp_advantages='';
+if(!empty($item['wp_advantages'])) {
+	foreach($item['wp_advantages'] as $key=>$value) {
+		$wp_advantages.=$value.",";
+	}
+	$wp_advantages=ereg_replace(",$","",$wp_advantages);
+}
+
+//filtry
+$wp_filters='';
+if(!empty($item['wp_filters'])) {
+	foreach($item['wp_filters'] as $key=>$value) {
+		$wp_filters.=$value.",";
+	}
+	$wp_filters=ereg_replace(",$","",$wp_filters);
+}
+
+
+if($count == 0) {
+	$database->sql_insert("main_param",array(
+							   "user_id"=>$user_id,
+							    "wp_export"=>@$item['wp_export'],
+								"wp_status"=>@$item['wp_status'],
+							    "wp_dictid"=>@$item['wp_dictid'],
+							    "wp_category"=>@$item['wp_category'],
+								"wp_producer"=>@$item['wp_producer'],
+								"wp_advantages"=>$wp_advantages,
+								"wp_filters"=>$wp_filters,
+							    "wp_dest"=>@$item['wp_dest'],
+							    "wp_fields"=>@$item['wp_fields'],
+							    "wp_ptg"=>@$item['wp_ptg'],
+							    "wp_ptg_desc"=>@$item['wp_ptg_desc'],
+							    "wp_ptg_days"=>@$item['wp_ptg_days'],
+							    "wp_ptg_picurl"=>@$item['wp_ptg_picurl'],
+							    "wp_valid"=>@$datat[0][1],
+							    ));
+		                          if($item['wp_same_cat'] == '1' ) {
+			                         $cat=$item['wp_same_cat1'];
+		                              // pobierz id_category1 danego produktu
+			                         $id_category=$database->sql_select("id_category".$cat,"main","id=$id");
+			                         if(!empty($id_category)) {
+			                            $user_id_array=$database->sql_select_array("user_id","main","id_category".$cat."=".$id_category);
+			                            foreach($user_id_array as $key=>$value) {
+			                                 if($item['wp_same_cat'] == '1' && $item['wp_same_prod'] == '1') {
+			                                     $database->sql_update("main_param","user_id=$value",array("wp_category"=>$item['wp_category'],"wp_producer"=>$item['wp_producer'] ));
+			                                 } elseif($item['wp_same_cat'] == '1') {
+			                                     $database->sql_update("main_param","user_id=$value",array("wp_category"=>$item['wp_category']));
+			                                 } else {
+			                                     $database->sql_update("main_param","user_id=$value",array("wp_producer"=>$item['wp_producer']));
+			                                 }  
+			                            }		                                 
+                                     }   
+		                          }
+
+} else {
+	$database->sql_update("main_param","user_id=$user_id",
+								array(
+							    	"wp_export"=>@$item['wp_export'],
+									"wp_status"=>@$item['wp_status'],
+							    	"wp_dictid"=>@$item['wp_dictid'],
+							    	"wp_category"=>@$item['wp_category'],
+									"wp_producer"=>@$item['wp_producer'],
+									"wp_advantages"=>$wp_advantages,
+									"wp_filters"=>$wp_filters,
+							    	"wp_dest"=>@$item['wp_dest'],
+							    	"wp_fields"=>@$item['wp_fields'],
+							    	"wp_ptg"=>@$item['wp_ptg'],
+							    	"wp_ptg_desc"=>@$item['wp_ptg_desc'],
+							    	"wp_ptg_days"=>@$item['wp_ptg_days'],
+							    	"wp_ptg_picurl"=>@$item['wp_ptg_picurl'],
+   								    "wp_valid"=>@$datat[0][1],
+							    ));
+		                          if($item['wp_same_cat'] == '1' ) {
+			                         $cat=$item['wp_same_cat1'];
+		                              // pobierz id_category1 danego produktu
+			                         $id_category=$database->sql_select("id_category".$cat,"main","id=$id");
+			                         if(!empty($id_category)) {
+			                            $user_id_array=$database->sql_select_array("user_id","main","id_category".$cat."=".$id_category);
+			                            foreach($user_id_array as $key=>$value) {
+			                                 if($item['wp_same_cat'] == '1' && $item['wp_same_prod'] == '1') {
+			                                     $database->sql_update("main_param","user_id=$value",array("wp_category"=>$item['wp_category'],"wp_producer"=>$item['wp_producer'] ));
+			                                 } elseif($item['wp_same_cat'] == '1') {
+			                                     $database->sql_update("main_param","user_id=$value",array("wp_category"=>$item['wp_category']));
+			                                 } else {
+			                                     $database->sql_update("main_param","user_id=$value",array("wp_producer"=>$item['wp_producer']));
+			                                 }  
+			                            }		                                 
+                                     }   
+		                          }
+}
+// zaakutalizuj informacje o tym czy produkt jest eksportowany w glownej tablicy produktow
+$database->sql_update("main","user_id=$user_id",array("wp_export"=>@$item['wp_export']));
+?>
diff -ruN ../soteesklep3/admin/go/_edit/include/query_rec_allegro.inc.php soteesklep3/admin/go/_edit/include/query_rec_allegro.inc.php
--- ../soteesklep3/admin/go/_edit/include/query_rec_allegro.inc.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/admin/go/_edit/include/query_rec_allegro.inc.php	2006-06-30 14:10:52.000000000 +0200
@@ -0,0 +1,60 @@
+<?php
+/**
+* Odczytaj dane z zapyatnia SQL i udostepnij je w obiekcie $rec
+*
+* @author  m@sote.pl
+* @version $Id: query_rec_allegro.inc.php,v 2.3 2006/06/28 08:57:16 lukasz Exp $
+*
+* @global object $result           wynik zapytania SQL o wlasciwosci produktu
+
+* @package    edit
+*/
+
+// nie zezwalaj na bezposrednie wywolanie tego pliku
+if ($global_secure_test!=true) {
+    die ("Forbidden");
+}
+
+class RecordData {
+    var $data=array();
+}
+
+global $rec;
+$rec =& new RecordData;
+
+$i=0;
+
+$rec->data['user_id']=$db->FetchResult($result,$i,"user_id");
+$rec->data['allegro_auction_type']=$db->FetchResult($result,$i,"allegro_auction_type");
+$rec->data['allegro_product_name']=$db->FetchResult($result,$i,"allegro_product_name");
+$rec->data['allegro_product_description']=$db->FetchResult($result,$i,"allegro_product_description");
+$rec->data['allegro_photo']=$db->FetchResult($result,$i,"allegro_photo");
+$rec->data['allegro_miniature']=$db->FetchResult($result,$i,"allegro_miniature");
+$rec->data['allegro_price_start']=$db->FetchResult($result,$i,"allegro_price_start");
+$rec->data['allegro_price_buy_now']=$db->FetchResult($result,$i,"allegro_price_buy_now");
+$rec->data['allegro_price_min']=$db->FetchResult($result,$i,"allegro_price_min");
+$rec->data['allegro_stock']=$db->FetchResult($result,$i,"allegro_stock");
+$rec->data['allegro_how_long']=$db->FetchResult($result,$i,"allegro_how_long");
+$rec->data['allegro_delivery_who_pay']=$db->FetchResult($result,$i,"allegro_delivery_who_pay");
+$rec->data['allegro_delivery_shipment']=$db->FetchResult($result,$i,"allegro_delivery_shipment");
+$rec->data['allegro_delivery_priority_shipment']=$db->FetchResult($result,$i,"allegro_delivery_priority_shipment");
+$rec->data['allegro_delivery_courier']=$db->FetchResult($result,$i,"allegro_delivery_courier");
+$rec->data['allegro_delivery_personal_acceptance']=$db->FetchResult($result,$i,"allegro_delivery_personal_acceptance");
+$rec->data['allegro_delivery_other']=$db->FetchResult($result,$i,"allegro_delivery_other");
+$rec->data['allegro_delivery_abroad']=$db->FetchResult($result,$i,"allegro_delivery_abroad");
+$rec->data['allegro_pay_wire_transfer']=$db->FetchResult($result,$i,"allegro_pay_wire_transfer");
+$rec->data['allegro_pay_wire_transfer_price']=$db->FetchResult($result,$i,"allegro_pay_wire_transfer_price");
+$rec->data['allegro_pay_collect_on_delivery']=$db->FetchResult($result,$i,"allegro_pay_collect_on_delivery");
+$rec->data['allegro_pay_collect_on_delivery_price']=$db->FetchResult($result,$i,"allegro_pay_collect_on_delivery_price");
+$rec->data['allegro_pay_on_line_pay']=$db->FetchResult($result,$i,"allegro_pay_on_line_pay");
+$rec->data['allegro_pay_payu_accept_escrow']=$db->FetchResult($result,$i,"allegro_pay_payu_accept_escrow");
+$rec->data['allegro_pay']=$db->FetchResult($result,$i,"allegro_pay");
+$rec->data['allegro_pay_wire_transfer_price']=$db->FetchResult($result,$i,"allegro_pay_wire_transfer_price");
+$rec->data['allegro_pay_price']=$db->FetchResult($result,$i,"allegro_pay_price");
+$rec->data['allegro_bold']=$db->FetchResult($result,$i,"allegro_bold");
+$rec->data['allegro_light']=$db->FetchResult($result,$i,"allegro_light");
+$rec->data['allegro_favouritism']=$db->FetchResult($result,$i,"allegro_favouritism");
+$rec->data['allegro_category_site']=$db->FetchResult($result,$i,"allegro_category_site");
+$rec->data['allegro_home_page']=$db->FetchResult($result,$i,"allegro_home_page");
+$rec->data['allegro_category']=$db->FetchResult($result,$i,"allegro_category");
+?>
diff -ruN ../soteesklep3/admin/go/_edit/lang/_en/lang.inc.php soteesklep3/admin/go/_edit/lang/_en/lang.inc.php
--- ../soteesklep3/admin/go/_edit/lang/_en/lang.inc.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/admin/go/_edit/lang/_en/lang.inc.php	2006-06-30 14:10:52.000000000 +0200
@@ -0,0 +1,263 @@
+<?php
+$lang->edit_menu=array(
+                'similar'=>"+ Copy (category)",
+                'similar_id'=>"+ Copy (ID)",
+                'delete'=>"Delete",
+                'preview'=>"Preview",
+                'help'=>"Help",
+                'pasaz.onet.pl'=>"Onet Passage",
+                'pasaz.wp.pl'=>"WP Passage",
+                'pasaz.interia.pl'=>"Interia Passage",
+                'ceneo.pl'=>"Ceneo",          
+                'robot'=>"Indexing",
+                'accessories'=>"Accessories",
+                'setup'=>"Settings",
+                'add'=>"Add",
+                'edit'=>"Editing",
+                'google'=>"Google",
+                'category'=>"Categories",
+                'copy'=>"+ Copy",
+                'allegro'=>"Allegro",
+                );
+$lang->edit_edit=array(
+                'options_adv'=>"Advanced options",
+                'options_adv_edit'=>"Product advanced options editing",
+                'description'=>"Product description editing",
+                );
+$lang->edit_add_description_info="Product descriptions can be edited after adding product to database";
+$lang->edit_add_submit="Add product";
+$lang->edit_edit_submit="Update changes";
+$lang->edit_edit_title="Product data editing";
+$lang->edit_add_review="Add review";
+$lang->edit_photo_upload="attach photo";
+$lang->edit_m_photo_upload="attach small photo";
+$lang->edit_photo_scale="reduce photo";
+$lang->edit_submit="Update changes";
+$lang->edit_update_ok="Data has been updated :)";
+$lang->edit_link="Edit description";
+$lang->edit_xml_options="<u>(<b>options</b>advanced)full edition >></u>";
+$lang->edit_add_similar="Add product in the same category";
+$lang->edit_file="Edit file";
+$lang->edit_photo_delete="delete photo";
+$lang->edit_bar="Text page contents editing";
+$lang->edit="Edit file";
+$lang->edit_add_form_errors=array(
+                'user_id'=>array(
+                                '10'=>"no id or bad value",
+                                '11'=>"product exists in database, please enter another id",
+                                ),
+                                
+                'name'=>"no product's name",
+                'price_brutto'=>"no price or bad value",
+                'category1'=>"no category",
+                'category2'=>"no category",
+                'category3'=>"no category",
+                'category4'=>"no category",
+                'category5'=>"no category",
+                );
+$lang->edit_record_add_title="New product addition";
+$lang->edit_accessories_title="Product accessories";
+$lang->edit_setup_title="General product editing settings";
+$lang->edit_setup_form=array(
+                'netto'=>"Display net price default in product editing",
+                );
+$lang->edit_onet=array(
+                'onet_export'=>"Export product",
+                'onet_status_delete'=>"Delete product",
+                'onet_status_update'=>"Add/Edit product",
+                'onet_image_export'=>"Export photo",
+                'onet_image_title'=>"Photo title",
+                'onet_image_desc'=>"Photo description",
+                'onet_attrib'=>"Additional Onet attribute",
+                'onet_not_file'=>"No Onet categories file <br><a href= Download categories",
+                'onet_same_cat'=>"Assign onet category to products from the same category",
+                'onet_category'=>"Assign category",
+                'onet_op'=>"OP offer",
+                'onet_author'=>"Author?s name (director, performer)",
+                'onet_edition'=>"Year of publishing",
+                );
+$lang->edit_interia_select="Select";
+$lang->edit_lang_versions="Language versions";
+$lang->edit_add_copy_user_id="Add product in another category";
+$lang->edit_onet_head="Onet passage";
+$lang->edit_onet_select="Choose";
+$lang->info_attrib_order="Order";
+$lang->edit_category_info="Attention! After changing / adding category, call <a href=/go/_opt/index.php
+target=top>Optimizations</a>";
+$lang->edit_desc="Product description editing";
+$lang->edit_noframes="Your browser does not handle frames. Use e. g. program <b>Netscape7</b> or <b>Internet Explorer 5 or 6</b>.";
+$lang->edit_google_title="Indexing data";
+$lang->edit_google_cols=array(
+                'keywords'=>"Key words",
+                'description'=>"Page description",
+                'title'=>"Page title",
+                );
+$lang->edit_category_title="Additional product categories editing";
+$lang->edit_category_cols=array(
+                'category_multi_1'=>"Additional categories 1 (cat1/cat2/.../cat5)",
+                'category_multi_2'=>"Additional categories 2",
+                );
+$lang->edit_errors=array(
+                'unknown_product'=>"Selected product is not in base",
+                'insert_error'=>"Product with this identifier has not been added to base",
+                'file_to_big'=>"Too big file",
+                'file_max'=>"Maximum file size is (Kb)",
+                );
+$lang->edit_wp=array(
+                'wp_export'=>"Export product",
+                'wp_status_delete'=>"Delete product",
+                );
+$lang->edit_wp_dest=array(
+                '0'=>"----choose----",
+                '1'=>"for him",
+                '2'=>"for her",
+                '3'=>"for kid",
+                );
+$lang->edit_wp_head="WP passage";
+$lang->edit_wp_select="Choose";
+$lang->flash_description="Flash file description";
+$lang->add_link="Add link to product";
+$lang->link=array(
+				'url'=>'url',
+				'name'=>'link name',
+);
+$lang->edit_wp_head="WP Passage";
+$lang->edit_interia_head="Interia Passage";
+$lang->edit_ceneo_head="Ceneo";
+$lang->edit_allegro_head="Allegro";
+
+$lang->depository_num="State of store";
+$lang->deliverer="tore supplier";
+$lang->points_warning="<b>Attention!</b><br>The price will be reset<br>";
+
+$lang->edit_wp=array(
+                'wp_export'=>"Export a product",
+                'wp_status_delete'=>"Delete a product",
+                'wp_status_update'=>"Update a product",
+                'wp_status_add'=>"Add a product",
+                'wp_image_export'=>"Export a photo",
+                'wp_image_title'=>"Photo title",
+                'wp_image_desc'=>"Photo description",
+                'wp_attrib'=>"Additional WP attribute",
+                'wp_not_file'=>"No file with WP Passage categories.<br><a href=",
+                'wp_same_cat'=>"Give WP Passage category to products from the same category",
+                'wp_same_prod'=>"Give WP Passage producer to products from the same category",
+                'wp_category'=>"Give a category",
+                'wp_producer'=>"Select a producer",
+                'wp_fields'=>"Select additional categories",
+                'wp_advantages'=>"Select profits",
+                'wp_filters'=>"Select additional filters",
+                'wp_dest'=>"Purpose / use",
+                'wp_valid'=>"Expiry date",
+                'wp_dictid'=>"Dictionary identifier",
+                'wp_ptg'=>"Text promotion",
+                'wp_ptg_desc'=>"Promotion description",
+                'wp_ptg_days'=>"Duration of promotion",
+                'wp_ptg_picurl'=>"URL to a picture",
+                );
+
+$lang->edit_interia=array(
+                'interia_export'=>"Export a product",
+                'interia_status_delete'=>"Delete a product",
+                'interia_status_update'=>"Update a product",
+                'interia_status_add'=>"Add a product",
+                'interia_image_export'=>"Export a photo",
+                'interia_image_title'=>"Photo title",
+                'interia_image_desc'=>"Photo description",
+                'interia_attrib'=>"Additional Interia attribute",
+                'interia_not_file'=>"No file with Interia Passage categories.<br><a href=",
+                'interia_same_cat'=>"Give Interia Passage category to products from the same category",
+                'interia_category'=>"Give a category",
+                'interia_producer'=>"Select a producer",
+                'interia_fields'=>"Select additional categories",
+                'interia_advantages'=>"Select profits",
+                'interia_filters'=>"Select additional filters",
+                'interia_dest'=>"Purpose / use",
+                'interia_valid'=>"Expiry date",
+                'interia_dictid'=>"Dictionary identifier",
+                'interia_ptg'=>"Text promotion",
+                'interia_ptg_desc'=>"Promotion description",
+                'interia_ptg_days'=>"Duration of promotion",
+                'interia_ptg_picurl'=>"URL to a picture",
+                );
+
+$lang->edit_ceneo=array(
+                'ceneo_export'=>"Export a product",
+                'ceneo_attrib'=>"Should Ceneo attributes be added?",
+                'ceneo_autor'=>"Author",
+                'ceneo_isbn'=>"ISBN number",
+                'ceneo_page'=>"Number of pages",
+                'ceneo_publisher'=>"Publisher",
+                'ceneo_producer'=>"Producer name",
+                'ceneo_size'=>"Size of  wheel rim",
+                'ceneo_rozstaw'=>"Screw spacing",
+                'ceneo_odsadzenie'=>"Separation value",
+                'ceneo_rezyser'=>"Director",
+                'ceneo_obsada'=>"Cast",
+                'ceneo_nosnik'=>"Carrier",
+                'ceneo_tytul_org'=>"Original title",
+                'ceneo_opony_producent'=>"Producer name",
+                'ceneo_opony_model'=>"Model",
+                'ceneo_opony_szerokosc'=>"Width",
+                'ceneo_opony_profil'=>"Profile",
+                'ceneo_opony_srednica'=>"Diameter",
+                'ceneo_opony_predkosc'=>"Speed index",
+                'ceneo_opony_nosnosc'=>"Carrying capacity",
+                'ceneo_opony_sezon'=>"Season",
+                'ceneo_opony_typ'=>"Vehicle type",
+                'ceneo_perfumy_producent'=>"Producer",
+                'ceneo_perfumy_model'=>"Model",
+                'ceneo_perfumy_rodzaj'=>"Kind",
+                'ceneo_perfumy_pojemnosc'=>"Capacity"
+                );
+
+$lang->edit_allegro=array(
+				'allegro_auction_type'=>"Sale format",
+				'allegro_auction_type_auction'=>"Auction ",
+				'allegro_auction_type_buy_now'=>"Buy Now! (without auction)",
+				
+				'allegro_category'=>"Category",
+				'allegro_product_name'=>"Auction title",
+				'allegro_product_description'=>"Product description",
+				'allegro_photo'=>"Photo",
+				'allegro_miniature'=>"Miniature",
+				'allegro_price_start'=>"Upset price",
+				'allegro_price_buy_now'=>"Buy Now Price!",
+				'allegro_price_min'=>"Minimum price",
+				'allegro_stock'=>"Number of items",
+				'allegro_how_long'=>"Duration of auction",
+				'allegro_prices_duration'=>"Price and duration",
+				
+				
+				'allegro_delivery'=>"Transport options",
+				'allegro_delivery_who_pay'=>"Delivery cost is covered by:",
+				'allegro_delivery_buyer'=>"Purchaser",
+				'allegro_delivery_sell'=>"Seller",
+				'allegro_delivery_shipment'=>"Mail (registered letter / parcel)",
+				'allegro_delivery_priority_shipment'=>"Priority mail (registered letter / parcel)",
+				'allegro_delivery_courier'=>"Courier mail",
+				'allegro_delivery_personal_acceptance'=>"Personal receipt",
+				'allegro_delivery_abroad'=>"I agree: the product can be send abroad",
+				
+				'allegro_pay'=>"Methods of payment",
+				'allegro_pay_wire_transfer'=>"Payment to bank account (payment in advance)",
+				'allegro_pay_collect_on_delivery'=>"Cash on delivery payment (payment on receipt)",
+				'allegro_pay_on_line_pay'=>"Allegro payments",
+				'allegro_pay_payu_accept_escrow'=>"Escrow within Allegro payments",
+				'allegro_pay_price'=>"Shipping cost",
+				
+				
+				'allegro_bold'=>"In bold type",
+				'allegro_light'=>"Backlight",
+				'allegro_favouritism'=>"Highlight",
+				'allegro_category_site'=>"Category page",
+				'allegro_home_page'=>"178.Allegro main page
+179.PLN",
+				'allegro_currency'=>"PLN",
+				'allegro_days'=>"days",
+				'allegro_additional_options'=>"Additional options",
+				
+				
+				
+);      
+?>
\ No newline at end of file
diff -ruN ../soteesklep3/admin/go/_edit/lang/_pl/lang.inc.php soteesklep3/admin/go/_edit/lang/_pl/lang.inc.php
--- ../soteesklep3/admin/go/_edit/lang/_pl/lang.inc.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/admin/go/_edit/lang/_pl/lang.inc.php	2006-06-30 14:10:52.000000000 +0200
@@ -0,0 +1,265 @@
+<?php
+$lang->edit_menu=array(
+                'similar'=>"+ Kopia (kategorii)",
+                'similar_id'=>"+ Kopia (ID)",
+                'delete'=>"Usuñ",
+                'preview'=>"Podgl±d",
+                'help'=>"Pomoc",
+                'pasaz.onet.pl'=>"Onet Pasa¿",
+                'pasaz.wp.pl'=>"WP Pasa¿",
+                'pasaz.interia.pl'=>"Interia Pasa¿",
+                'ceneo.pl'=>"Ceneo",
+                'robot'=>"Indeksowanie",
+                'accessories'=>"Akcesoria",
+                'setup'=>"Ustawienia",
+                'add'=>"Dodaj",
+                'edit'=>"Edycja",
+                'google'=>"Google",
+                'category'=>"Kategorie",
+                'copy'=>"",
+                'allegro'=>"Allegro",
+                );
+$lang->edit_lang_versions="Wersje jêzykowe";
+$lang->edit_edit=array(
+                'options_adv'=>"Opcje zaawansowane",
+                'options_adv_edit'=>"Edycja zaawansowanych opcji produktu",
+                'description'=>"Edycja opisu produktu",
+                );
+$lang->edit_add_description_info="Opisy produktu mozna edytowac po dodaniu produktu do bazy";
+$lang->edit_add_submit="Dodaj produkt";
+$lang->edit_edit_submit="Aktualizuj zmiany";
+$lang->edit_edit_title="Edycja danych produktu";
+$lang->edit_add_copy_user_id="Dodaj produkt w innej kategorii";
+$lang->edit_add_review="Dodaj recenzjê";
+$lang->edit_photo_upload="za³±cz zdjêcie";
+$lang->edit_m_photo_upload="za³±cz ma³e zdjêcie";
+$lang->edit_photo_scale="pomniejsz zdjêcie";
+$lang->edit_submit="Aktualizuj zmiany";
+$lang->edit_update_ok="Dane zosta³y zaktualizowane :)";
+$lang->edit_link="Edytuj opis";
+$lang->edit_xml_options="<u>(<b>opcje</b> zaawansowane) pe³na edycja >></u>";
+$lang->edit_add_similar="Dodaj produkt w tej samej kategorii";
+$lang->edit_file="Edytuj plik";
+$lang->edit_photo_delete="usuñ zdjêcie";
+$lang->edit_bar="Edycja tre¶ci stron tekstowych";
+$lang->edit_add_form_errors=array(
+                'user_id'=>array(
+                                '10'=>"brak identyfikatora lub bledna wartosc",
+                                '11'=>"produkt o podanym identyfikatorze juz istnieje w bazie",
+                                ),
+                                
+                'name'=>"brak nazwy produktu",
+                'price_brutto'=>"brak ceny lub b³êdna warto¶æ",
+                'price_currency'=>"brak ceny lub b³êdna warto¶æ",
+                'category1'=>"brak kategorii",
+                'category2'=>"brak kategorii",
+                'category3'=>"brak kategorii",
+                'category4'=>"brak kategorii",
+                'category5'=>"brak kategorii",
+                );
+$lang->onet_form_errors=array(
+                );
+$lang->wp_form_errors=array(
+                );
+$lang->interia_form_errors=array(
+                );
+$lang->ceneo_form_errors=array(
+                );
+$lang->edit_record_add_title="Dodanie nowego produktu";
+$lang->edit_accessories_title="Akcesoria do produktu";
+$lang->edit_setup_title="Ustawienia ogólne edycji produktów";
+$lang->edit_setup_form=array(
+                'netto'=>"Domy¶lnie w edycji produktu wy¶wietlaj ceny netto",
+                );
+$lang->edit_onet=array(
+                'onet_export'=>"Eksportuj produkt",
+                'onet_status_delete'=>"Kasuj produkt",
+                'onet_status_update'=>"Dodaj/Aktualizuj produkt",
+                'onet_image_export'=>"Eksportuj zdjêcie",
+                'onet_image_title'=>"Tytu³ zdjêcia",
+                'onet_image_desc'=>"Opis zdjêcia",
+                'onet_attrib'=>"Dodatkowy atrybut Onet",
+                'onet_not_file'=>"Brak pliku z kategoriami onetowymi.<br><a href=",
+                'onet_same_cat'=>"Nadaj produktom z tej samej kategorii, kategoriê onetow±",
+                'onet_category'=>"Nadaj kategoriê",
+                'onet_op'=>"Oferta OP",
+                'onet_author'=>"Nazwa autora (re¿yser, wykonawca)",
+                'onet_edition'=>"Rok wydania",
+               );
+$lang->edit_onet_head="Onet.Pasa¿.pl";
+$lang->edit_onet_select="Wybierz";
+$lang->edit_interia_select="Wybierz";
+$lang->edit_wp=array(
+                'wp_export'=>"Eksportuj produkt",
+                'wp_status_delete'=>"Kasuj produkt",
+                'wp_status_update'=>"Aktualizuj produkt",
+                'wp_status_add'=>"Dodaj produkt",
+                'wp_image_export'=>"Eksportuj zdjêcie",
+                'wp_image_title'=>"Tytu³ zdjêcia",
+                'wp_image_desc'=>"Opis zdjêcia",
+                'wp_attrib'=>"Dodatkowy atrybut wp",
+                'wp_not_file'=>"Brak pliku z kategoriami WP Pasa¿.<br><a href=",
+                'wp_same_cat'=>"Nadaj produktom z tej samej kategorii, <b>kategoriê</b> WP Pasa¿",
+                'wp_same_prod'=>"Nadaj produktom z tej samej kategorii, <b>producenta</b> WP Pasa¿",
+                'wp_category'=>"Nadaj kategoriê",
+                'wp_producer'=>"Wybierz producenta",
+                'wp_fields'=>"Wybierz dodatkowe kategorie",
+                'wp_advantages'=>"Wybierz korzy¶ci",
+                'wp_filters'=>"Wybierz dodatkowe filtry",
+                'wp_dest'=>"Przeznaczenie",
+                'wp_valid'=>"Data wa¿no¶ci",
+                'wp_dictid'=>"Identyfikator s³ownikowy",
+                'wp_ptg'=>"Promocja tekstowa",
+                'wp_ptg_desc'=>"Opis promocji",
+                'wp_ptg_days'=>"Czas trwania promocji",
+                'wp_ptg_picurl'=>"Url do obrazka",
+                );
+
+$lang->edit_interia=array(
+                'interia_export'=>"Eksportuj produkt",
+                'interia_status_delete'=>"Kasuj produkt",
+                'interia_status_update'=>"Aktualizuj produkt",
+                'interia_status_add'=>"Dodaj produkt",
+                'interia_image_export'=>"Eksportuj zdjêcie",
+                'interia_image_title'=>"Tytu³ zdjêcia",
+                'interia_image_desc'=>"Opis zdjêcia",
+                'interia_attrib'=>"Dodatkowy atrybut interia",
+                'interia_not_file'=>"Brak pliku z kategoriami interia Pasa¿.<br><a href=",
+                'interia_same_cat'=>"Nadaj produktom z tej samej kategorii, kategoriê interia Pasa¿",
+                'interia_category'=>"Nadaj kategoriê",
+                'interia_producer'=>"Wybierz producenta",
+                'interia_fields'=>"Wybierz dodatkowe kategorie",
+                'interia_advantages'=>"Wybierz korzy¶ci",
+                'interia_filters'=>"Wybierz dodatkowe filtry",
+                'interia_dest'=>"Przeznaczenie",
+                'interia_valid'=>"Data wa¿no¶ci",
+                'interia_dictid'=>"Identyfikator s³ownikowy",
+                'interia_ptg'=>"Promocja tekstowa",
+                'interia_ptg_desc'=>"Opis promocji",
+                'interia_ptg_days'=>"Czas trwania promocji",
+                'interia_ptg_picurl'=>"Url do obrazka",
+                );
+
+$lang->edit_ceneo=array(
+                'ceneo_export'=>"Eksportuj produkt",
+                'ceneo_attrib'=>"Do³±czyæ atrybuty Ceneo ?",
+                'ceneo_autor'=>"Autor",
+                'ceneo_isbn'=>"Numer ISBN",
+                'ceneo_page'=>"Ilo¶æ stron",
+                'ceneo_publisher'=>"Wydawca",
+                'ceneo_producer'=>"Nazwa producenta",
+                'ceneo_size'=>"Rozmiar felgi",
+                'ceneo_rozstaw'=>"Rozstaw ¶rub",
+                'ceneo_odsadzenie'=>"Warto¶æ odsadzenia",
+                'ceneo_rezyser'=>"Re¿yser",
+                'ceneo_obsada'=>"Obsada",
+                'ceneo_nosnik'=>"No¶nik",
+                'ceneo_tytul_org'=>"Tytu³ oryginalny",
+                'ceneo_opony_producent'=>"Nazwa producenta",
+                'ceneo_opony_model'=>"Model",
+                'ceneo_opony_szerokosc'=>"Szeroko¶æ",
+                'ceneo_opony_profil'=>"Profil",
+                'ceneo_opony_srednica'=>"¦rednica",
+                'ceneo_opony_predkosc'=>"Indeks prêdko¶ci",
+                'ceneo_opony_nosnosc'=>"No¶no¶æ",
+                'ceneo_opony_sezon'=>"Sezon",
+                'ceneo_opony_typ'=>"Typ pojazdu",
+                'ceneo_perfumy_producent'=>"Producent",
+                'ceneo_perfumy_model'=>"Model",
+                'ceneo_perfumy_rodzaj'=>"Rodzaj",
+                'ceneo_perfumy_pojemnosc'=>"Pojemno¶æ"
+                );
+
+$lang->edit_allegro=array(
+				'allegro_auction_type'=>"Format sprzeda¿y",
+				'allegro_auction_type_auction'=>"Aukcja (z licytacj±)",
+				'allegro_auction_type_buy_now'=>"Tylko Kup Teraz! (bez licytacji)",
+				
+				'allegro_category'=>"Kategoria",
+				'allegro_product_name'=>"Tytu³ aukcji",
+				'allegro_product_description'=>"Opis produktu",
+				'allegro_photo'=>"Zdjêcie",
+				'allegro_miniature'=>"Miniaturka",
+				'allegro_price_start'=>"Cena wywo³awcza",
+				'allegro_price_buy_now'=>"Cena Kup Teraz!",
+				'allegro_price_min'=>"Cena minimalna",
+				'allegro_stock'=>"Liczba sztuk",
+				'allegro_how_long'=>"Czas trwania aukcji",
+				'allegro_prices_duration'=>"Cena i czas trwania",
+				
+				
+				'allegro_delivery'=>"Opcje transportu",
+				'allegro_delivery_who_pay'=>"Koszt przesy³ki pokrywa:",
+				'allegro_delivery_buyer'=>"Kupuj±cy",
+				'allegro_delivery_sell'=>"Sprzedaj±cy",
+				'allegro_delivery_shipment'=>"Przesy³ka pocztowa (list polecony/paczka)",
+				'allegro_delivery_priority_shipment'=>"Przesy³ka pocztowa priorytetowa (list polecony/paczka)",
+				'allegro_delivery_courier'=>"Przesy³ka kurierska",
+				'allegro_delivery_personal_acceptance'=>"Odbiór osobisty",
+				'allegro_delivery_abroad'=>"Zgadzam siê na wys³anie przedmiotu za granicê",
+				'allegro_delivery_other'=>"Inne (np. list zwyk³y)",
+				'allegro_pay'=>"Formy p³atno¶ci",
+				'allegro_pay_wire_transfer'=>"Wp³ata na konto bankowe (p³atno¶æ z góry)",
+				'allegro_pay_collect_on_delivery'=>"Pobranie pocztowe (p³atne przy odbiorze)",
+				'allegro_pay_on_line_pay'=>"P³atno¶ci Allegro - szybkie p³atno¶ci online",
+				'allegro_pay_payu_accept_escrow'=>"Escrow w ramach P³atno¶ci Allegro",
+				'allegro_pay_price'=>"Koszt wysy³ki",
+				
+				
+				'allegro_bold'=>"Pogrubienie",
+				'allegro_light'=>"Pod¶wietlenie",
+				'allegro_favouritism'=>"Wyró¿nienie",
+				'allegro_category_site'=>"Strona kategorii",
+				'allegro_home_page'=>"Strona g³ówna Allegro",
+				'allegro_currency'=>"PLN",
+				'allegro_days'=>"dni",
+				'allegro_additional_options'=>"Opcje dodatkowe",
+				
+				
+				
+);            
+$lang->edit_wp_dest=array(
+                '0'=>"----wybierz----",
+                '1'=>"dla niego",
+                '2'=>"dla niej",
+                '3'=>"dla dziecka",
+                '4'=>"dla firmy",
+                );
+$lang->edit_wp_head="Pasa¿ WP";
+$lang->edit_interia_head="Pasa¿ Interia";
+$lang->edit_ceneo_head="Ceneo";
+$lang->edit_allegro_head="Allegro";
+
+$lang->edit_wp_select="Wybierz";
+$lang->info_attrib_order="Zamów";
+$lang->edit_category_info="Uwaga! Po zmianie/dodaniu kategorii, nale¿y wywo³aæ <a href=/go/_opt/index.php target=top>Optymalizacje</a>";
+$lang->edit_desc="Edycja opisu produktu";
+$lang->edit_noframes="Twoja przegl±darka nie obs³uguje ramek. Skorzystaj np. z programu <b>Netscape 7</b> lub <b>Internet Explorer 5 lub 6</b>.";
+$lang->edit_google_title="Dane zwi±zane z indeksowaniem";
+$lang->edit_google_cols=array(
+                'keywords'=>"S³owa kluczowe",
+                'description'=>"Opis strony",
+                'title'=>"Tytu³ strony",
+                );
+$lang->edit_category_title="Edycja dodatkowych kategorii produktu";
+$lang->edit_category_cols=array(
+                'category_multi_1'=>"Dodatkowe kategorie 1 (Kat1/kat2/.../Kat5)",
+                'category_multi_2'=>"Dodatkowe kategorie 2",
+                );
+$lang->edit_errors=array(
+                'unknown_product'=>"Wybranego produktu nie ma w bazie.",
+                'insert_error'=>"Produkt o podanym identyfikatorze nie zostal dodany do bazy",
+                'file_to_big'=>"Zbyt du¿y plik",
+                'file_max'=>"maksymalna wielko¶c pliku to (Kb)",
+                );
+$lang->flash_description="Opis pliku flash";
+$lang->add_link="Dodaj dodatkowy link do produtku w innej lokalizacji:";
+$lang->link=array(
+				'url'=>'url',
+				'name'=>'nazwa linku',
+);
+$lang->depository_num="Stan magazynowy";
+$lang->deliverer="Dostawca magazynowy";
+$lang->points_warning="<b>Uwaga!</b><br>Cena zostanie wyzerowana<br>";
+$lang->allegro_form_errors=array();
+?>
\ No newline at end of file
diff -ruN ../soteesklep3/admin/go/_edit_category/lang/_en/lang.inc.php soteesklep3/admin/go/_edit_category/lang/_en/lang.inc.php
--- ../soteesklep3/admin/go/_edit_category/lang/_en/lang.inc.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/admin/go/_edit_category/lang/_en/lang.inc.php	2006-06-30 14:10:53.000000000 +0200
@@ -0,0 +1,43 @@
+<?php
+$lang->edit_category_bar="Category editing";
+$lang->edit_category_add_bar="New category";
+$lang->edit_category_record_add="Category has been added";
+$lang->edit_category_update_bar="Category updating";
+$lang->edit_category_edit_update_ok="Category has been updated";
+$lang->edit_category_form_errors=array(
+                                'category'=>array(
+                                '0'=>'No category name',
+                                '1'=>'Too long name',
+                                '11'=>'The given category?s address exists',
+                                ),
+                );
+$lang->edit_category_cols=array(
+                'ID'=>'ID',
+                'category'=>'Category',
+                'ord_num'=>'Tree sort',
+                'change_all'=>'Change for all products',
+                );
+$lang->edit_category_cols_list=array(
+                'ID'=>'ID',
+                'category'=>'Category',
+                'change'=>'Editing',
+                );
+$lang->edit_category_menu=array(
+                'add'=>'New category',
+                'list'=>'Category list',
+                );
+$lang->edit_category_list_bar="Category list";
+$lang->edit_category_menu_list=array(
+                'category1'=>'Category 1',
+                'category2'=>'Category 2',
+                'category3'=>'Category 3',
+                'category4'=>'Category 4',
+                'category5'=>'Category 5',
+                'producers'=>'Producers',
+                );
+$lang->edit_category_not_deleted="The following records have not been deleted as there are products assigned to a given category.";
+$lang->edit_category_info="There must be at least 1 product in a category if you want this category to appear in the shop. You do not have to edit categories. When you are entering a new product, mark a new category name next to it - the category will appear in the shop. After adding  the product, press <a
+href-/go/_opt/index.php><u>optimizations</u></a> 
+<p>
+Pressing optimization is necessary to add or remove a category.";
+?>
\ No newline at end of file
diff -ruN ../soteesklep3/admin/go/_edit_producer/lang/_en/lang.inc.php soteesklep3/admin/go/_edit_producer/lang/_en/lang.inc.php
--- ../soteesklep3/admin/go/_edit_producer/lang/_en/lang.inc.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/admin/go/_edit_producer/lang/_en/lang.inc.php	2006-06-30 14:10:53.000000000 +0200
@@ -0,0 +1,41 @@
+<?php
+$lang->edit_producer_cols_list=array(
+                'ID'=>'ID',
+                'producer'=>'Producer',
+                'products'=>'Products',
+                );
+$lang->edit_producer_not_deleted="The following records have not been deleted as there are products assigned to a given producer.";
+$lang->edit_producer_cols=array(
+                'ID'=>'ID',
+                'producer'=>'Producer',
+                'change_all'=>'change for all products',
+                );
+$lang->tips="Producer list is dynamically generated from product database but you can edit it additionally.";
+$lang->edit_category_menu_list=array(
+                'category1'=>'Category 1',
+                'category2'=>'Category 2',
+                'category3'=>'Category 3',
+                'category4'=>'Category 4',
+                'category5'=>'Category 5',
+                'producers'=>'Producers',
+                );
+$lang->edit_producer_products="Products";
+$lang->edit_producer_list_bar="Record list";
+$lang->edit_producer_menu=array(
+                'add'=>'Add a producer',
+                'list'=>'Producer list',
+                );
+$lang->edit_producer_edit_update_ok="Record updated";
+$lang->edit_producer_update_bar="Record updating";
+$lang->edit_producer_record_add="Record added";
+$lang->edit_producer_add_bar="Add a new record";
+$lang->edit_producer_bar="Producer list editing";
+$lang->edit_producer_form_errors=array(
+                'producer'=>array(
+                                '0'=>'No producer name',
+                                '1'=>'Too long name',
+                                '11'=>'The given producer?s address exists',
+                                ),
+                                
+                );
+?>
\ No newline at end of file
diff -ruN ../soteesklep3/admin/go/_help/lang/_en/lang.inc.php soteesklep3/admin/go/_help/lang/_en/lang.inc.php
--- ../soteesklep3/admin/go/_help/lang/_en/lang.inc.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/admin/go/_help/lang/_en/lang.inc.php	2006-06-30 14:10:54.000000000 +0200
@@ -0,0 +1,15 @@
+<?php
+$lang->help_title="Documentation/Help";
+$lang->help_info="Documentation in PDF format is available below:";
+$lang->help_cols=array(
+                'enduser'=>"Users guide (printer friendly version)",
+                'webmaster'=>"Documentation for webmasters",
+                );
+$lang->help_service_title="SOTEeSHOP service";
+$lang->help_service="If you have questions concerning the shop, need technical help or want to report an error or suggest improvements, please use our service system - available at <a
+
+href=http://service.soteshop.com
+
+target=service><u>www.service.soteshop.com</u></a>.";
+$lang->help_doc="Information about SOTEeSHOP program can be found on page: <a target='blank' href='http://www.soteshop.com/go/_soteesklep/_doc/'>SOTESHOP - documentation<a><font color='black'>.";
+?>
\ No newline at end of file
diff -ruN ../soteesklep3/admin/go/_lang_editor/config/lang_files_admin.txt soteesklep3/admin/go/_lang_editor/config/lang_files_admin.txt
--- ../soteesklep3/admin/go/_lang_editor/config/lang_files_admin.txt	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/admin/go/_lang_editor/config/lang_files_admin.txt	2006-06-30 14:10:55.000000000 +0200
@@ -0,0 +1,83 @@
+./admin/go/_admin/lang/_pl/lang.inc.php
+./admin/go/_admin_users/_admin_users_type/lang/_pl/lang.inc.php
+./admin/go/_admin_users/_admindb/lang/_pl/lang.inc.php
+./admin/go/_admin_users/_pin/lang/_pl/lang.inc.php
+./admin/go/_admin_users/lang/_pl/lang.inc.php
+./admin/go/_ask4price/lang/_pl/lang.inc.php
+./admin/go/_auth/lang/_pl/lang.inc.php
+./admin/go/_configure/lang/_pl/lang.inc.php
+./admin/go/_deliverers/lang/_pl/lang.inc.php
+./admin/go/_depository/lang/_pl/lang.inc.php
+./admin/go/_edit/lang/_pl/lang.inc.php
+./admin/go/_edit_category/lang/_pl/lang.inc.php
+./admin/go/_edit_producer/lang/_pl/lang.inc.php
+./admin/go/_google/lang/_pl/lang.inc.php
+./admin/go/_help/lang/_pl/lang.inc.php
+./admin/go/_importshop/lang/_pl/lang.inc.php
+./admin/go/_lang_editor/lang/_pl/lang.inc.php
+./admin/go/_main_configure/lang/_pl/lang.inc.php
+./admin/go/_merchant/lang/_pl/lang.inc.php
+./admin/go/_offline/_attributes/lang/_pl/lang.inc.php
+./admin/go/_offline/_depository/_export/lang/_pl/lang.inc.php
+./admin/go/_offline/_depository/lang/_pl/lang.inc.php
+./admin/go/_offline/_export/lang/_pl/lang.inc.php
+./admin/go/_offline/_language/_export/lang/_pl/lang.inc.php
+./admin/go/_offline/_language/lang/_pl/lang.inc.php
+./admin/go/_offline/_main/lang/_pl/lang.inc.php
+./admin/go/_offline/_main_keys/lang/_pl/lang.inc.php
+./admin/go/_offline/lang/_pl/lang.inc.php
+./admin/go/_opt/lang/_pl/lang.inc.php
+./admin/go/_options/_available/lang/_pl/lang.inc.php
+./admin/go/_options/_delivery/_volume/lang/_pl/lang.inc.php
+./admin/go/_options/_delivery/_zone/lang/_pl/lang.inc.php
+./admin/go/_options/_delivery/lang/_pl/lang.inc.php
+./admin/go/_options/_vat/lang/_pl/lang.inc.php
+./admin/go/_options/lang/_pl/lang.inc.php
+./admin/go/_order/_status/lang/_pl/lang.inc.php
+./admin/go/_order/lang/_pl/lang.inc.php
+./admin/go/_points/lang/_pl/lang.inc.php
+./admin/go/_report/lang/_pl/lang.inc.php
+./admin/go/_search/lang/_pl/lang.inc.php
+./admin/go/_text/lang/_pl/lang.inc.php
+./admin/go/_upgrade/lang/_pl/lang.inc.php
+./admin/go/_users/lang/_pl/lang.inc.php
+./admin/go/_wysiwyg/lang/_pl/lang.inc.php
+./admin/lang/_pl/lang.inc.php
+./admin/plugins/_assoc_rules/lang/_pl/lang.inc.php
+./admin/plugins/_basket_wishlist/lang/_pl/lang.inc.php
+./admin/plugins/_cd/lang/_pl/lang.inc.php
+./admin/plugins/_ceneo.pl/lang/_pl/lang.inc.php
+./admin/plugins/_currency/lang/_pl/lang.inc.php
+./admin/plugins/_dictionary/lang/_pl/lang.inc.php
+./admin/plugins/_discounts/_discounts_groups/lang/_pl/lang.inc.php
+./admin/plugins/_discounts/lang/_pl/lang.inc.php
+./admin/plugins/_gg/lang/_pl/lang.inc.php
+./admin/plugins/_help_content/lang/_pl/lang.inc.php
+./admin/plugins/_main_keys/_main_keys_ftp/lang/_pl/lang.inc.php
+./admin/plugins/_main_keys/_offline/lang/_pl/lang.inc.php
+./admin/plugins/_main_keys/lang/_pl/lang.inc.php
+./admin/plugins/_newsedit/_newsedit_groups/lang/_pl/lang.inc.php
+./admin/plugins/_newsedit/lang/_pl/lang.inc.php
+./admin/plugins/_newsletter/_groups/lang/_pl/lang.inc.php
+./admin/plugins/_newsletter/_users/lang/_pl/lang.inc.php
+./admin/plugins/_newsletter/lang/_pl/lang.inc.php
+./admin/plugins/_partners/lang/_pl/lang.inc.php
+./admin/plugins/_pasaz.interia.pl/lang/_pl/lang.inc.php
+./admin/plugins/_pasaz.onet.pl/lang/_pl/lang.inc.php
+./admin/plugins/_pasaz.wp.pl/lang/_pl/lang.inc.php
+./admin/plugins/_pay/_cardpay/lang/_pl/lang.inc.php
+./admin/plugins/_pay/_ecard/lang/_pl/lang.inc.php
+./admin/plugins/_pay/_inteligo/lang/_pl/lang.inc.php
+./admin/plugins/_pay/_mbank/lang/_pl/lang.inc.php
+./admin/plugins/_pay/_paypal/lang/_pl/lang.inc.php
+./admin/plugins/_pay/_platnoscipl/lang/_pl/lang.inc.php
+./admin/plugins/_pay/_polcard/lang/_pl/lang.inc.php
+./admin/plugins/_pay/_przelewy24/lang/_pl/lang.inc.php
+./admin/plugins/_pay/_allpay/lang/_pl/lang.inc.php
+./admin/plugins/_promotions/lang/_pl/lang.inc.php
+./admin/plugins/_reviews/_scores/lang/_pl/lang.inc.php
+./admin/plugins/_reviews/lang/_pl/lang.inc.php
+./admin/plugins/_themes/lang/_pl/lang.inc.php
+./admin/plugins/lang/_pl/lang.inc.php
+./admin/plugins/_allegro/lang/_pl/lang.inc.php
+./admin/setup/lang/_pl/lang.inc.php
diff -ruN ../soteesklep3/admin/go/_lang_editor/config/lang_files.txt soteesklep3/admin/go/_lang_editor/config/lang_files.txt
--- ../soteesklep3/admin/go/_lang_editor/config/lang_files.txt	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/admin/go/_lang_editor/config/lang_files.txt	2006-06-30 14:10:55.000000000 +0200
@@ -0,0 +1,20 @@
+./htdocs/go/_basket/lang/_pl/lang.inc.php
+./htdocs/go/_contact/lang/_pl/lang.inc.php
+./htdocs/go/_info/lang/_pl/lang.inc.php
+./htdocs/go/_newsletter/lang/_pl/lang.inc.php
+./htdocs/go/_register/lang/_pl/lang.inc.php
+./htdocs/go/_search/lang/_pl/lang.inc.php
+./htdocs/go/_users/lang/_pl/lang.inc.php
+./htdocs/lang/_pl/lang.inc.php
+./htdocs/plugins/_ask4price/lang/_pl/lang.inc.php
+./htdocs/plugins/_pay/_cardpay/lang/_pl/lang.inc.php
+./htdocs/plugins/_pay/_inteligo/files/lang/_pl/lang.inc.php
+./htdocs/plugins/_pay/_inteligo/lang/_pl/lang.inc.php
+./htdocs/plugins/_pay/_mbank/lang/_pl/lang.inc.php
+./htdocs/plugins/_pay/_paypal/lang/_pl/lang.inc.php
+./htdocs/plugins/_pay/_polcard/lang/_pl/lang.inc.php
+./htdocs/plugins/_pay/_przelewy24/lang/_pl/lang.inc.php
+./htdocs/plugins/_pay/_allpay/lang/_pl/lang.inc.php
+./htdocs/plugins/_promotions/lang/_pl/lang.inc.php
+./htdocs/plugins/_recommend/lang/_pl/lang.inc.php
+./htdocs/plugins/_reviews/lang/_pl/lang.inc.php
diff -ruN ../soteesklep3/admin/go/_main_configure/lang/_en/lang.inc.php soteesklep3/admin/go/_main_configure/lang/_en/lang.inc.php
--- ../soteesklep3/admin/go/_main_configure/lang/_en/lang.inc.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/admin/go/_main_configure/lang/_en/lang.inc.php	2006-06-30 14:10:57.000000000 +0200
@@ -0,0 +1,35 @@
+<?php
+$lang->configure_title="Configuration centre";
+$lang->button_help="Help";
+$lang->welcome_text="Below there are links to SOTESHOP program configuring.";
+$lang->conf_title_modules="Module configuration";
+$lang->conf_title_partners="Partner configuration";
+$lang->conf_title_pay="Payment system configuration";
+$lang->conf_title_pay_on="Payment on-line";
+$lang->conf_title_pay_off="Payment off-line";
+$lang->conf_title_aspect="Aspect editing configuration";
+$lang->configuration="General configuration";
+$lang->catalog_conf="<b>Directory mode</b> configuration";
+$lang->configuration_points="Points system configuraiton";
+$lang->configuration_language="Language version configuration";
+$lang->configuration_newsletter="Newsletter configuration";
+$lang->configuration_newsedit="Newsedit configuration";
+$lang->configuration_search="Search configuration";
+$lang->configuration_themes="Theme management";
+$lang->configuration_category="Category properties editing (menu)";
+$lang->configuration_domains="Domain management";
+$lang->configuration_country="Countries of delivery configuration";
+$lang->configuration_paypal="PayPal configuration";
+$lang->configuration_cardpay="Debit card payment configuration";
+$lang->configuration_onet="Onet Passage configuration";
+$lang->configuration_wp="WP Passage configuration";
+$lang->configuration_interia="Interia Passage configuration";
+$lang->configuration_polcard="Configuration - Polcard";
+$lang->configuration_przelewy24="Configuration ? Przelewy24.pl (Transfers24)";
+$lang->configuration_platnosciPL="Configuration - PlatnosciPL (PaymentsPL)";
+$lang->configuration_allpay="Configuration - Allpay";
+$lang->configuration_ecard="Configuration - eCard";
+$lang->configuration_ceneo="Configuration Ceneo";
+$lang->configuration_allegro="Configuration Allegro";
+$lang->configuration_payments_offline="Payment Off-line";
+?>
\ No newline at end of file
diff -ruN ../soteesklep3/admin/go/_main_configure/lang/_pl/lang.inc.php soteesklep3/admin/go/_main_configure/lang/_pl/lang.inc.php
--- ../soteesklep3/admin/go/_main_configure/lang/_pl/lang.inc.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/admin/go/_main_configure/lang/_pl/lang.inc.php	2006-06-30 14:10:57.000000000 +0200
@@ -0,0 +1,35 @@
+<?php
+$lang->configure_title="Centrum konfiguracyjne";
+$lang->button_help="Pomoc";
+$lang->welcome_text="Poni¿ej znajduj± siê linki do konfigurowania programu SOTEeSKLEP.";
+$lang->conf_title_modules="Konfiguracja modu³ów";
+$lang->conf_title_partners="Konfiguracja partnerów";
+$lang->conf_title_pay="Konfiguracja systemów p³atno¶ci";
+$lang->conf_title_pay_on="P³atno¶ci on-line";
+$lang->conf_title_pay_off="P³atno¶ci off-line";
+$lang->conf_title_aspect="Konfiguracja edycji wygl±du";
+$lang->configuration="Konfiguracja ogólna";
+$lang->catalog_conf="Konfiguracja trybu <B>katalog</B>";
+$lang->configuration_points="Konfiguracja systemu punktowego";
+$lang->configuration_language="Konfiguracja wersji jêzykowych";
+$lang->configuration_onet="Konfiguracja pasa¿u Onet";
+$lang->configuration_wp="Konfiguracja pasa¿u WP";
+$lang->configuration_interia="Konfiguracja pasa¿u Interia";
+$lang->configuration_newsletter="Konfiguracja newsletter";
+$lang->configuration_newsedit="Konfiguracja newsedit";
+$lang->configuration_search="Konfiguracja wyszukiwania";
+$lang->configuration_polcard="Konfiguracja - Polcard";
+$lang->configuration_cardpay="Konfiguracja - P³atno¶ci kart±";
+$lang->configuration_przelewy24="Konfiguracja - Przelewy24.pl";
+$lang->configuration_paypal="Konfiguracja - PayPal";
+$lang->configuration_platnosciPL="Konfiguracja - P³atno¶ciPL";
+$lang->configuration_allpay="Konfiguracja - Allpay";
+$lang->configuration_themes="Zarz±dzanie tematami";
+$lang->configuration_category="Edycja w³a¶ciwo¶ci kategorii (menu)";
+$lang->configuration_domains="Zarz±dzanie domenami";
+$lang->configuration_country="Konfiguracja krajow dostawy";
+$lang->configuration_ecard="Konfiguracja - eCard";
+$lang->configuration_ceneo="Konfiguracja Ceneo";
+$lang->configuration_allegro="Konfiguracja Allegro";
+$lang->configuration_payments_offline="P³atno¶ci Off-line";
+?>
\ No newline at end of file
diff -ruN ../soteesklep3/admin/go/_offline/_depository/data/dep_en.csv soteesklep3/admin/go/_offline/_depository/data/dep_en.csv
--- ../soteesklep3/admin/go/_offline/_depository/data/dep_en.csv	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/admin/go/_offline/_depository/data/dep_en.csv	2006-06-30 14:10:59.000000000 +0200
@@ -0,0 +1,4 @@
+Command	Product ID	Number of products available	Deliverer ID	Minimum amount available
+U	12	3	1	2
+U	13	3	1	2
+U	14	12	1	5
diff -ruN ../soteesklep3/admin/go/_offline/_depository/data/dep_pl.csv soteesklep3/admin/go/_offline/_depository/data/dep_pl.csv
--- ../soteesklep3/admin/go/_offline/_depository/data/dep_pl.csv	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/admin/go/_offline/_depository/data/dep_pl.csv	2006-06-30 14:10:59.000000000 +0200
@@ -0,0 +1,4 @@
+Polecenie	ID produktu	Liczba produktów w magazynie	Identyfikator dostawcy	Minimalna ilo¶æ
+U	12	3	1	2
+U	13	3	1	2
+U	14	12	1	5
diff -ruN ../soteesklep3/admin/go/_offline/_export/lang/_en/lang.inc.php soteesklep3/admin/go/_offline/_export/lang/_en/lang.inc.php
--- ../soteesklep3/admin/go/_offline/_export/lang/_en/lang.inc.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/admin/go/_offline/_export/lang/_en/lang.inc.php	2006-06-30 14:10:59.000000000 +0200
@@ -0,0 +1,79 @@
+<?php
+$lang->export_update="Data export to file";
+$lang->export_close="Close window";
+$lang->export_error=array(
+                'no_select'=>"No column was selected for export",
+                'id'=>"Product ID column must be marked",
+                'dir_no_exists'=>"Directory /tmp/product does not exist",
+                'not_create_file'=>"Unsuccessful download.txt file opening to save database dump ",
+                'no_auto_file'=>"Unsuccessful description file saving in /tmp/product",
+                );
+$lang->download_file="Save export file on disk";
+$lang->download_file_ok="Successful data export to file";
+$lang->download_file_error="Unsuccessful data export to file";
+$lang->export_status="Data export";
+$lang->export_menu=array(
+                'export'=>"Export",
+                'help'=>"Help",
+                );
+$lang->export_column="Column";
+$lang->export_selected="Select all";
+$lang->export_unselected="Unselect all";
+$lang->export_option="Export options";
+$lang->export_type="Types of export files";
+$lang->export_encoding="File encoding";
+$lang->export_names_column=array(
+                'user_id'=>"Product ID",
+                'price_brutto'=>"Gross price",
+                'xml_description_L0'=>"Full product description",
+                'xml_short_description_L0'=>"Short product description",
+                'photo'=>"Product photo",
+                'flash'=>"Product flash photo ",
+                'flash_html'=>"Flash photo code",
+                'pdf'=>"PDF photo",
+                'xml_options'=>"Option to product",
+                'promotion'=>"Promotional products",
+                'newcol'=>"New product",
+                'bestseller'=>"Bestseller",
+                'main_page'=>"Main page",
+                'active'=>"Active",
+                'name_L0'=>"Product name",
+                'producer'=>"Producer",
+                'category1'=>"Category 1",
+                'category2'=>"Category 2",
+                'category3'=>"Category 3",
+                'category4'=>"Category 4",
+                'category5'=>"Category 5",
+                'id_currency'=>"Currency",
+                'vat'=>"VAT rate",
+                'price_brutto_detal'=>"Old price",
+                'id_available'=>"Availability",
+                'price_brutto_2'=>"Wholesale price",
+                'hidden_price'=>"Hide the price",
+                'discount'=>"Discount",
+                'accessories'=>"Accessories",
+                'price_currency'=>"Price in currency",
+                'max_discount'=>"Maximum Discount",
+                'onet_category'=>"Onet category",
+                'onet_export'=>"Onet export",
+                'onet_status'=>"Onet status",
+                'onet_image_export'=>"Onet export image",
+                'onet_image_desc'=>"Onet description image",
+                'onet_image_title'=>"Onet image title",
+                'onet_attrib'=>"Onet attributes",
+                'google_title'=>"Google title",
+                'google_keywords'=>"Google keywords",
+                'google_description'=>"Google description",
+                'category_multi_1'=>"Product in category 2",
+                'category_multi_2'=>"Product in category 3",
+                'ask4price'=>"Ask about price",
+                'weight'=>"Volume / capacity",
+                'status_vat'=>"Sale without VAT",
+                );
+$lang->export_mode=array(
+                'mode'=>"File loading mode",
+                'update'=>"Price list updating (symbol U at the beginning of the record)",
+                'add'=>"Full price list loading (symbol A at the beginning of the record)",
+                );
+$lang->export_execution="Execution"; 
+?>
\ No newline at end of file
diff -ruN ../soteesklep3/admin/go/_offline/lang/_en/lang.inc.php soteesklep3/admin/go/_offline/lang/_en/lang.inc.php
--- ../soteesklep3/admin/go/_offline/lang/_en/lang.inc.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/admin/go/_offline/lang/_en/lang.inc.php	2006-06-30 14:11:01.000000000 +0200
@@ -0,0 +1,17 @@
+<?php
+$lang->offline_icons=array(
+                'main'=>'Price list',
+                );
+$lang->offline_info=array(
+                'main'=>'Shop products database updating. It allows entering the full offer prepared e. g. in Excel (Open Office, StarOffice, Access) or updating a part of the shop assortment.',
+                );
+$lang->offline_menu=array(
+                'main'=>'Price list import',
+                'attributes'=>'Product attribute import',
+                'export'=>'Price list export',
+                'language'=>'Product description import',
+                'depository'=>'States of store impor',
+                );
+$lang->offline_title="Data import/export";
+
+?>
\ No newline at end of file
diff -ruN ../soteesklep3/admin/go/_offline/_main/include/category.inc.php soteesklep3/admin/go/_offline/_main/include/category.inc.php
--- ../soteesklep3/admin/go/_offline/_main/include/category.inc.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/admin/go/_offline/_main/include/category.inc.php	2006-06-30 14:11:00.000000000 +0200
@@ -0,0 +1,115 @@
+<?php
+/**
+ * Zarzadzanie kategoriami i producentami
+ *
+ * @author  rdiak@sote.pl
+ * @version $Id: category.inc.php,v 2.14 2006/06/28 08:57:33 lukasz Exp $
+* @package    offline
+* @subpackage main
+ */
+
+ 
+/**
+ * Includowanie liba do oblsugi zapytan do bazy danych
+ */
+require_once("include/metabase.inc");
+
+
+/**
+* Klasa OfflineCategory
+*
+* @package offline
+* @subpackage admin
+*/
+class OfflineCategory {
+    var $category1=array();
+    var $category2=array();
+    var $category3=array();
+    var $category4=array();
+    var $category5=array();
+    var $producer=array();
+    
+    /**
+     * Konstruktor obiektu myCategory wczytuje do tablic wartosci z bazy danyc
+     *
+     * @return bool  
+     *
+     * @author rdiak@sote.pl
+     */
+    function OfflineCategory() {
+        global $database;
+        
+        $this->category1=$database->sql_select_data_array("id","category1","category1");
+        $this->category1_ord=$database->sql_select_data_array("id","ord_num","category1");
+
+        $this->category2=$database->sql_select_data_array("id","category2","category2");
+        $this->category2_ord=$database->sql_select_data_array("id","ord_num","category2");
+        
+        $this->category3=$database->sql_select_data_array("id","category3","category3");
+        $this->category3_ord=$database->sql_select_data_array("id","ord_num","category3");
+        
+        $this->category4=$database->sql_select_data_array("id","category4","category4");
+        $this->category4_ord=$database->sql_select_data_array("id","ord_num","category4");
+        
+        $this->category5=$database->sql_select_data_array("id","category5","category5");
+        $this->category5_ord=$database->sql_select_data_array("id","ord_num","category5");
+        
+        $this->producer=$database->sql_select_data_array("id","producer","producer");
+        return true;
+    }
+    
+    /**
+     * Funkcja check_category sprawdza czy dana kategoria znajduje sie juz w tablicy
+     *
+     * @param  string $category  nazwa tablicy ktor± sprawdzamy,
+     * @param  string $name      nazwa kategorii do sprawdzenia
+     * @return int    $max       id kategorii  
+     * 
+	 * @access public
+	 *
+     * @author rdiak@sote.pl
+     */
+   function check_category($category,$name) {
+        // sprawdzamy czy w tablicy znajduje sie juz taka kategoria
+        // jesli nie to dodajemy ja na koniec tablicy
+        $category_var=&$this->$category;
+        if(in_array("$name",$category_var)){
+            $max=array_search("$name",$category_var);
+            return $max;
+        } else {
+            $table=array_keys($category_var);
+            @$max=max($table);
+            //print "maxx - $max<br>";
+            $max+=1;
+            $category_var = $category_var+array($max=>$name);
+            return $max;
+        }
+    }
+    
+    /**
+     * Funkcja load_category laduje kategorie z tablicy do bazy danych. Wczesniej kasowane
+     * sa kategorie z bazy gdyz kategorie wszystkie znajduja sie w tablicach PHP, na ktorych
+     * wczesniej operowalismy. 
+     *
+     * @param  string $category  nazwa tablicy ktora uzupelniamy
+     * @return bool     
+     *
+     * @author rdiak@sote.pl
+     */
+    function load_category(){
+        global $database;
+
+        $table=array("category1","category2","category3","category4","category5","producer");
+        foreach($table as $cat) {
+            $cat1=$cat."_ord";
+        	
+            $database->sql_delete($cat);
+            while ( list( $key, $value ) = each( $this->$cat ) ) {
+            	$tab=$this->$cat1;
+                $result=$database->sql_insert($cat,array("id"=>"$key",$cat=>"$value","ord_num"=>$tab[$key]));
+            }
+        }
+        return true;
+    }
+} // end class OfflineCategory
+?>
diff -ruN ../soteesklep3/admin/go/_offline/_main_keys/lang/_en/lang.inc.php soteesklep3/admin/go/_offline/_main_keys/lang/_en/lang.inc.php
--- ../soteesklep3/admin/go/_offline/_main_keys/lang/_en/lang.inc.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/admin/go/_offline/_main_keys/lang/_en/lang.inc.php	2006-06-30 14:11:01.000000000 +0200
@@ -0,0 +1,102 @@
+<?php
+$lang->offline_record_deleted="Number of deleted records";
+$lang->offline_record_updated="Number of updated records";
+$lang->offline_record_added="Number of added records";
+$lang->offline_size="ATTENTION!!!
+Size of file that has been loaded on the server equals 0.
+If the file you were attaching is not empty, it means that errors occurred while transferring it to the server.
+Try to transfer the file once again.
+If this information appears once more, contact the administrator.
+<p>
+<ul>
+<li> If you want to update product database, choose the bookmark 
+<a
+href=/go/_offline/_main/><u>pricelist</u></a>
+<li> If you want to enter attribute list for products choose the bookmark <a
+href=/go/_ooline/_attributes/><u>attributes</u></a>
+ATTENTION!!! If you update price list and attributes, you have to remember about updating order. First you enter new price list and then new attribute list.
+</ul>/=/";
+$lang->offline_no_file="ATTENTION!!! File has not been correctly loaded on the server.
+Try once again. If the same information appears, contact the administrator.
+<p>
+<ul>
+<li> If you want to update product database, choose the bookmark
+<a
+href=/go/_offline/_main/><u>price list</u></a>
+<li>If you want to enter attribute list for products, choose the bookmark <a
+href=/go/_offline/_attributes/><u>attributes</u></a>
+<li>ATTENTION!
+If you update price list and attributes, remember about updating order. First enter new price list and then new attribute list.
+</ul>
+";
+$lang->offline_product_update_info="Shop product base updating";
+$lang->offline_field="Field";
+$lang->offline_record_info="Message";
+$lang->offline_record="Record";
+$lang->offline_date="Date";
+$lang->offline_update_errors="Errors generated during last updating";
+$lang->offline_examples_price_list="Download an exemplary file containing pins:<ul>
+<li><a
+href=date/pins10zl.csv>Pins for 10 zl</a>
+<li> <a
+href=date/pins20zl.csv.>Pins
+for 20zl</a>
+<li> <a
+href=date/pins50zl.csv>Pins for 50zl <a/>";
+$lang->offline_sql_info="<B>ATTENTION!</B><BR>Base will be completed with pins from
+<a
+href=/go/_offline/_pins/index.php><B><u>of loaded file. </u></b></a>
+";
+$lang->offline_submit_data="Update data";
+$lang->offline_continue="Finish interrupted updating";
+$lang->offline_update_action="I update price list";
+$lang->offline_load_all="I load full price list";
+$lang->offline_upload_info="Attach the file containing pins. The file should contain two columns - the first column contains the value, the second PIN.";
+$lang->offline_menu=array(
+                'load'=>'Load pins',
+                'update'=>'Update',
+                'status'=>'Status',
+                'examples'=>'Examples of pins',
+                );
+$lang->offline_legend=array(
+                'green'=>'Record correctly loaded to base',
+                'blue'=>'Error during data verification',
+                'red'=>'Error while loading data to database',
+                'fiol'=>'Records ignored because of limitations in this version of the shop',
+                'sel'=>'Other errors',
+                'info'=>'Legend',
+                );
+$lang->offline_money=array(
+                '50'=>'Pins for 50zl',
+                '20'=>'Pins for 20zl',
+                '10'=>'Pins for 10zl',
+                );
+$lang->offline_update_error="<font color=red><b>
+ERRORR!!!</b></font>
+Errors occurred while loading the price list. Click the bookmark <b>Status</b>to get information about errors";
+$lang->offline_update_ok="Price list has been loaded correctly";
+$lang->offline_update="Price list updating";
+$lang->offline_category_error=array(
+                'category1_load'=>'Error occurred while loading categories to database',
+                );
+$lang->offline_load_errors=array(
+                'not_user_id'=>'If you update record, user_id must be one of the fields',
+                );
+$lang->offline_file_errors=array(
+                'not_open'=>'Unsuccessful attempt to open data file',
+                'less'=>'There are fewer fields in the record than in the structure we are loading data into',
+                'more'=>'There are more fields in the record than in the structure we are loading data into',
+                'load_ignore'=>'Record has not been loaded because of product limit in this version of the shop',
+                'load_database'=>'Error occurred while loading record to database',
+                'error_update'=>'Attempt to update record which does not exist in database',
+                'error_insert'=>'Attempt to add record which already exists in database',
+                'error_delete'=>'Attempt to delete record which does not exist in database',
+                );
+$lang->offline_check_errors=array(
+                'user_id_main'=>'You trying to downlowd PINs whose face value is different from what you have marked',
+                'main_key'=>array(
+                                '1'=>'PIN contains signs different than digits',
+                                '2'=>'PIN is too short',
+                                '3'=>'PIN is too long',
+                                ), );
+?>
\ No newline at end of file
diff -ruN ../soteesklep3/admin/go/_opt/include/db2category.inc.php soteesklep3/admin/go/_opt/include/db2category.inc.php
--- ../soteesklep3/admin/go/_opt/include/db2category.inc.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/admin/go/_opt/include/db2category.inc.php	2006-06-30 14:11:02.000000000 +0200
@@ -0,0 +1,556 @@
+<?php
+/**
+* Generowanie kodu PHP tablicy kategorii na podstawie danych z bazy, zapisanie danych w pliku (przez ftp)
+* config/tmp/category.php
+*
+* \@global object $stream obiekt klasy Stream -> obsluga status bar'a
+*
+* @author  m@sote.pl
+* @version $Id: db2category.inc.php,v 2.15 2006/05/24 13:38:24 lukasz Exp $
+* @package    opt
+*/
+
+global $stream;
+
+class DB2Category {
+    // tablica drzewa z wszystkimi kategoriami z bazy
+    // generowana na podstawie zapytania select category1,...,category5 from category
+    // np.
+    // var $axy=array(array("_Komputery"=>"1","__Laptopy"=>"1","___Toshiba"=>"1"),
+    //                array("_Komputery"=>"1","__Laptopy"=>"1","___Compaq"=>"2"),
+    //                array("_Komputery"=>"1","__Laptopy"=>"1","___IBM"=>"3"),
+    //                array("_Drukarki"=>"2","__Atramentowe"=>"1","___HP"=>"5","____DeskJ1"=>"1","_____DJ5"=>"1"),
+    //                array("_Drukarki"=>"2","__Atramentowe"=>"1","___HP"=>"5","____DeskJet2"=>"2","_____DJ5"=>"1"),
+    //                array("_Komputery"=>"1","__PIII"=>"2","___Celeron"=>"4")
+    //               );
+    //     Znaki "_" w nazwach kategorii stosowane sa po to, zeby odroznic nazwy kategorii na kolejnych poziomach.
+    //     Bez tego dodatkowego oznaczenia wystepowalby blad w przypadku kiedy mielibysmy np. takie dane:
+    //     kategoria1=Skanery, kategoria2=Skanery, id kategorii1=12 id kaetgorii2=25
+    //     W takim przypadku powstanie bledny wpis array("Skanery"=>"25"), gdyz kluczem w tablicy jest nazwa
+    //     i pojawienie sie 2 raz tej smej nazwy nadpisuje poprzedni wpis.
+    //     Przy odczytywaniu nazw kategorii znaki "_" na poczatku nazwy sa usuwane.
+    
+    var $axy=array();
+    
+    var $axy_sub;  // tymczasowa tablica z kategoriami, podtablica tablicy $this->axy
+    var $n=5;      // liczba zagniezdzen
+    
+    var $php;      // kod PHP generowany podczas parsowania drzewa
+    var $extra_code="\n\n\$__category=&\$category;\n"; // dodatkowy kod dolaczany do pliku z kategoriami
+    var $search_form_code; // kod PHP do wyszukiwarki zaawansowanej
+    var $category_only_call = true; // flaga informuj±ca, czy wywo³anie by³o dla kategorii tylko, czy dla kategorii i producentów
+    
+    /**
+    * Konstruktor
+    */
+    function DB2Category() {
+        $this->_cleanCategory();
+        return;
+    } // end DB2Category
+    
+    /**
+    * Odczytaj kategorie z bazy i zapamietaj je w tablicy $this->axy
+    *
+    * @param string $WHERE ograniczenie wynikow np. filtr wg producenta
+    */
+    function db2array($WHERE=''){
+        global $db, $config;
+        
+        if (empty($WHERE)) {
+            $WHERE = "WHERE active=1 AND id_category1>0";$active='';
+        }
+        else {
+            $active="AND m.active=1 AND m.id_category1>0";
+            $this->category_only_call = false;
+        }
+
+        $depository_available = '';
+        if ($config->depository['show_unavailable'] != 1) {
+            $depository_available = " AND m.id_available <> " . $config->depository['available_type_to_hide'];
+        }
+
+        
+        $query = "
+        SELECT
+            m.category1 AS category1, m.id_category1 AS id_category1,
+            m.category2 AS category2, m.id_category2 AS id_category2,
+            m.category3 AS category3, m.id_category3 AS id_category3,
+            m.category4 AS category4, m.id_category4 AS id_category4,
+            m.category5 AS category5, m.id_category5 AS id_category5
+            
+        FROM main m
+            LEFT JOIN category1 ON m.id_category1 = category1.id
+            LEFT JOIN category2 ON m.id_category2 = category2.id
+            LEFT JOIN category3 ON m.id_category3 = category3.id
+            LEFT JOIN category4 ON m.id_category4 = category4.id
+            LEFT JOIN category5 ON m.id_category5 = category5.id
+        $WHERE $active $depository_available
+        GROUP BY
+            m.category1, m.id_category1,
+            m.category2, m.id_category2,
+            m.category3, m.id_category3,
+            m.category4, m.id_category4,
+            m.category5, m.id_category5
+            
+        ORDER BY
+            category1.ord_num, category1.category1,
+            category2.ord_num, category2.category2,
+            category3.ord_num, category3.category3,
+            category4.ord_num, category4.category4,
+            category5.ord_num, category5.category5
+            ";
+
+                
+        $this->axy=array();
+        // brzydkie rozwiazanie dla opcji multishop
+        // patrz soteesklep3/lib/Metabase/metabase_mysql.php (linia 138)
+        global $is_opt;
+        $is_opt=true;  
+        $result=$db->Query($query);
+        $is_opt=false;
+        if ($result!=0) {
+            $num_rows=$db->NumberOfRows($result);
+            if ($num_rows==0) return false;
+            $search_form_check = array();
+            if ($this->category_only_call) {
+                $this->search_form_code = "<?php\n" . 'global $search_form_tree;' . "\n\n";
+            }
+            for ($i=0;$i<$num_rows;$i++) {
+                $tmp=array();
+                $current_category_data = array();
+                for ($c=1;$c<=5;$c++) {
+                    $cat="category$c";
+                    $val=$db->FetchResult($result,$i,"$cat");
+                    $val=ereg_replace('"','\"',$val);
+                    $id_val=$db->FetchResult($result,$i,"id_$cat");
+                    if ($id_val > 0) {
+                        $current_category_data[$c]['name'] = $val;
+                        $current_category_data[$c]['id'] = $id_val;
+                        if ($this->category_only_call) {
+                            $brackets = "[" . $current_category_data[1]['id'] . "]";
+                            $id_check_key = $current_category_data[1]['id'];
+                            for($to_c = 2; $to_c <= $c; $to_c++) {
+                                $brackets .= "[\"children\"][" . $current_category_data[$to_c]['id'] . "]";
+                                $id_check_key .= '_' . $current_category_data[$to_c]['id'];
+                            }
+                            if(empty($search_form_check[$id_check_key])) {
+                                $this->search_form_code .= '$search_form_tree' . $brackets . '["name"] = "' . $val . '";' . "\n";
+                            }
+                            $search_form_check[$id_check_key] = 1;
+//                            
+                        }
+                    }
+                    if ((! empty($val)) && (! empty($id_val))) {
+                        $prefix=str_repeat("_",$c);
+                        // zapisz kolejna kategorie w tablicy, ktora zostanie zapisana w $this->axy
+                        $tmp[$prefix.$val]=$id_val;
+                    } // end if
+                } // end for
+                if (! empty($tmp)) {
+                    // dodaj kolejny wiersza kategorii do $this->axy
+                    array_push($this->axy,$tmp);
+                }
+            } // end for
+            if ($this->category_only_call) {
+                $this->search_form_code .= "?>";
+            }
+        } else {
+            die ($db->Error());
+        }
+        
+        return true;
+    } // end db2array()
+    
+    /**
+    * Sprawdzenie czy element jest drzewem
+    *
+    * @param array $axy tablica drzewa
+    * @param int $i numer elementu z tablicy $axy
+    * @param int $k numer zagniezdzenia elementu
+    * @return true - element jest drzewem, false jest lisciem
+    */
+    function gen_tree($axy,$i=0,$k=1) {
+        global $stream,$lang;
+        
+        $stream->line_blue();
+        flush();
+        
+        $lp=sizeof($axy);
+        
+        // generuj tablice bedaca rozpatrywanym elementem, kategorie danego rekordu array(a,a1,a12,...)
+        $current=$this->gen_element($axy,$i,$k); 
+        $this->show($current,"magenta","current<br>");
+        
+        // odczytaj dane ostatniego elementu $current
+        $data=$this->last_data($current);
+        $id=$data['id'];
+        $name=$data['name'];
+        
+        // wyzeruj tablice
+        $this->axy_tmp=array();
+        
+        $tree=false;     // jestem lisciem
+        $num=$this->elements($axy,$current,$k);
+        if ($num==1) {
+            // jestem lisciem, generuj lisc
+            $this->leaf($name,$id,$k);
+            return;
+        } elseif ($num>1) {
+            // jesli to ostatni poziom kategorii, to oznacza to, ze blednie sa wprowadzone dane
+            // gdyz na ostatnim poziomie nie moze byc 2 takich samych kategorii
+            // (biorac takze pod uwage takze wszystkie poprzednie kategorie)
+            if ($k>=$this->n) {
+                // wywo³anie autonaprawy danych kategorii
+                $this->_cleanCategory();
+                die ($lang->error_category_tree);
+            }
+            
+            // jestem drzewem, otworz drzewo
+            $this->tree_start($name,$id,$k);
+            
+            // wez kolejno liscie drzewa i sprawdz czy nie sa czasem drzewami
+            // odczytaj liscie drzewa
+            $leafs=$this->leafs($axy,$current,$i,$k);
+            
+            foreach ($leafs as $x) {
+                $this->show($x,"blue","leafs as x<br>");
+                $ix=$this->get_i_axy($axy,$x,$k); // podaj numer pozycji $i elemntu posujacego do $x w $axy
+                $current_i=$this->gen_element($axy,$ix,$k+1);
+                
+                $this->show($current_i,"#992277","current_i dla k=".($k+1)."<br>");
+                
+                $sub_axy=$this->gen_sub_axy($axy,$current_i,$k+1);
+                $iy=$this->get_i_axy($sub_axy,$x,$k); // podaj numer pozycji $i elemntu posujacego do $x w $sub_axy
+                
+                $this->show($sub_axy,"brown","wygenerowane sub_axy: k=$k<BR>");
+                
+                $this->gen_tree($sub_axy,$iy,$k+1);
+            }
+            
+            // zamknij drzewo
+            $this->tree_end();
+        }
+        
+        return $tree;
+    } // end gen_tree()
+    
+    /**
+    *  Podaj numer pozycji $i elemntu posujacego do $x w $axy
+    *
+    * @param array $axy
+    * @param array $x rozpatrywany lisc
+    * @param int $k
+    * @return int pozycja 1 elementu $axy pasujacego do $x
+    */
+    function get_i_axy($axy,$x,$k) {
+        $i=0;
+        while (list(,$cat) = each($axy)) {
+            $el_axy=$this->gen_element($axy,$i,$k+1);
+            $this->show($el_axy,"red","el_axy $i=$i k=$k<BR>");
+            $this->show($x,"brown","x $i=$i k=$k<BR>");
+            if ($el_axy==$x) {
+                return $i;
+            }
+            $i++;
+        }
+    } // end get_i_axy()
+    
+    /**
+    * Generuj podtablice okreslajaca poddrzewo, skladajace sie z elementow rownych $current
+    *
+    * @param array $axy tablica drzewa
+    * @param current biezacy element, wedlug  niego szukamy innych lelemntow z tej samej kategorii
+    * @k int numer zagniezdzenia elementu
+    * @return array podtablica reprezentujaca poddrzewo
+    */
+    function gen_sub_axy($axy,$current,$k) {
+        $this->show($current,"#aabbcc","element current <BR>");
+        $sub_axy=array();
+        $lp=sizeof($axy);$i2=0;
+        while (list($in,$tab) = each ($axy)) {
+            $el_axy=$this->gen_element($axy,$in,$k);
+            if ($el_axy==$current) {
+                $sub_axy[$i2]=$axy[$in];
+                $this->show($el_axy,"#ee33cc","element porownywany z current $in<BR>");
+                $this->show($sub_axy,"cyan","sub_axy w trakcie tworzenia <BR>");
+                $i2++;
+            }
+        }
+        return $sub_axy;
+    } // end gen_sub_axy()
+    
+    
+    /**
+    * Generuj element, kategorie danego rekordu
+    */
+    function gen_element($axy,$i,$k) {
+        $tab_axy=$axy[$i];
+        $tab=array();
+        $i=0;
+        while ((list($name,$id) = each($tab_axy)) && ($i<$k)) {
+            $data=array();
+            // nazwa kategorii zaczyna sie od bnazku _ na 1 poziomie lub __ na 2 poziomie
+            // znaki te nalezy usunac aby uzyskac prawdziwa nazwe kategorii
+            $data['name']=preg_replace("/^[_]+/","",$name);$data['id']=$id;
+            array_push($tab,$data);
+            $i++;
+        }
+        
+        return $tab;
+    } // end gen_element()
+    
+    /**
+    * Znajdz elementy z tej samej kategorii
+    *
+    * @param array $current biezacy element, wedlug  niego szukamy innych lelemntow z tej samej kategorii
+    * @param iny $k numer zagniezdzenia elementu
+    * @return ilosc elementow z tej samej kategorii
+    */
+    function elements($axy,$current,$k) {
+        reset($axy);$num=0;
+        
+        // $i - numer porzadkowy wiersza kategorii; $tab tablica z nazwami kategorii i id np. array("Drukarki"=>"12',"Laserowe"=>"2")
+        while (list($i,$tab) = each ($axy)) {
+            // generuj element nr $i z $axy uwzgledniajac $k kategorii
+            $el=$this->gen_element($axy,$i,$k);
+            if ($el==$current) $num++;
+            
+        }
+        return $num;
+    } // end elements()
+    
+    /**
+    * Odczytaj wszystkie liscie drzewa (rozne liscie)
+    *
+    * @param array $axy tablica drzewa
+    * @param int $i numer elementu z tablicy $axy
+    * @param int $k numer zagniezdzenia elementu
+    * @return array tablica zawierajaca liscie array($lisc1,$lisc2,...$liscn); gdzie $liscx=array()
+    */
+    function leafs($axy,$current,$i,$k) {
+        $k2=$k+1;
+        $leafs=array();
+        $lp=sizeof($axy);
+        while (list($i,$tab) = each ($axy)) {
+            $el_axy=$this->gen_element($axy,$i,$k2);
+            $el_cmp=$this->gen_element($axy,$i,$k);
+            if (! $this->in_array($el_axy,$leafs)) {
+                if ($el_cmp==$current) {
+                    // zapamietaj liscia, (takze po to, zeby pozniej nie pokazywac tych samych lisci)
+                    array_push($leafs,$el_axy);
+                }
+            }
+        }
+        
+        return $leafs;
+    } // end leafs()
+    
+    /**
+    * Sprawdz czy podany element jest elementem tablicy
+    *
+    * @param array $el element tablicy
+    * @param array $tab tablica
+    * @return true - element $el jest elementem tablice $tab, false - nie jest
+    */
+    function in_array($el,$tab) {
+        foreach ($tab as $x) {
+            if ($x==$el)  return true;
+        }
+        return false;
+    } // end in_array()
+    
+    /**
+    * Odczytaj nazwe i id z ostniego elementu tablicy generowanej przez $this->gen_element
+    *
+    * @param array $tab tablica z elementami jw.
+    * @retuen array nazwa i id ostatniego elementu tablicy $tab
+    */
+    function last_data($tab) {
+        $data2=array();
+        $data2['id']="";
+        foreach ($tab as $data) {
+            $data2['name']=preg_replace("/^[_]+/","",$data['name']);
+            $data2['id'].=$data['id']."_";
+        }
+        // obetnij ostatni znak "_"
+        $data2['id']=substr($data2['id'],0,strlen($data2['id'])-1);
+        return $data2;
+    } // end last_data()
+    
+    /**
+    * Generuj kod PHP dla liscia
+    */
+    function leaf($name,$id,$k) {
+        if ($k>1) {
+            $tabk = str_repeat("    ",$k);
+            $this->php.="\"$name\"=>\"$id\",";
+        } else {
+            $this->php.="(array(\"name\"=>\"$name\");\n ";
+        }
+        return "leaf";
+    } // end leaf()
+    
+    /**
+    * Generuj kod PHP dla drzewa
+    */
+    function tree_start($name,$id,$k) {
+        $tabk = str_repeat("    ",$k);
+        if ($k==1) {
+            $this->php.="array(\"name\"=>\"$name\",\"elements\"=>array(";
+        } else {
+            $this->php.="array(\"$id\"=>array(\"name\"=>\"$name\",\"elements\"=>\narray(";
+        }
+        return "tree";
+    }
+    function tree_end(){
+        // obetnij przecinek po osttnim lisciu
+        $this->php=substr($this->php,0,strlen($this->php)-1);
+        $this->php.="))),";
+        return;
+    } // end tree_end()
+    
+    /**
+    * Generowanie tablicy podkategorii. Wynik jest zapamietywany w zmiennej $this->php
+    *
+    * @param string $WHERE ograniczenie wynikow np. filtr wg producenta
+    * @return kod PHP z definicja tablicy kategorii np.:
+    * <?php
+    * $category['id_0']=array("name"=>"Komputery","elements"=>array(
+    *                                                               array("2"=>array("name"=>"Mac","elements"=>
+    *                                                                          array("G3"=>"3","G4"=>"2"))),
+    *                                                               "PC"=>"1")
+    *                         );
+    * ?>
+    */
+    function gen_category_tab($WHERE='') {
+        global $stream;
+        
+        $db2array=$this->db2array($WHERE);
+        if ($db2array==false) {
+            return false;
+        }
+        
+        $category=array();
+        
+        $this->php="<?php \n\n";
+        $this->php.="\$category=array();\n\n";
+        
+        $i=0;
+        while (list(,$cat) = each($this->axy)) {
+            
+            // wyswietl info w postaci paska statusu
+            $stream->line_blue();
+            flush();
+            
+            $key_first_element=key($cat);
+            $id=$cat[$key_first_element]; // id glownej kategorii produktu
+            
+            $el=$this->gen_element($this->axy,$i,1);
+            if (! $this->in_array($el,$category)) {
+                // otworz glowna tablice kategorii
+                $this->php.="\$category['id_$id']=";
+                
+                $this->gen_tree($this->axy,$i,1);
+                array_push($category,$el);
+                
+                // obetniej ))), po osttnim zamknieciu drzewa
+                $this->php=substr($this->php,0,strlen($this->php)-4);
+                // zamknij glowna tablice kategorii
+                $this->php.="));\n";
+                
+            }
+            $i++;
+        }
+        
+        $this->php.="$this->extra_code\n\n?>\n";
+        return $this->php;
+    } // end gen_category_tab()
+    
+    /**
+    * Zapisz wygenerowane kategorie w pliku
+    *
+    * @param string $body     tresc zapisywanego pliku
+    * @param string $dir      katalog ftp w ktorym zostanie umieszczony plik za danymi $file
+    * @param string $file     plik ftp w ktorym zostana zapisane dane wzgledem $DOCUMENT_ROOT/
+    * @param string $file_tmp tymczasowy plik
+    */
+    function save($body,$dir="config/tmp",$file="category.php",$file_tmp="tmp/category.php") {
+        global $DOCUMENT_ROOT;
+        global $config,$ftp;
+        
+        // zapisz kod w tymczasowym pliku
+        if ($fd=@fopen("$DOCUMENT_ROOT/$file_tmp","w+")) {
+            fwrite($fd,$body,strlen($body));
+            fclose($fd);
+        } else {
+            global $theme;
+            $theme->head_window();
+            die ("Forbidden $file_tmp");
+        }
+        
+        // wstaw dane w odpowiednie miejsce (przez ftp)
+        $ftp->put("$DOCUMENT_ROOT/$file_tmp",$config->ftp_dir."/$dir",$file);
+        
+        return;
+    } // end save()
+    
+    /**
+    * Generuj kategorie i zapisz dane w pliku
+    *
+    * @param string $dir      katalog ftp w ktorym zostanie umieszczony plik za danymi $file
+    * @param string $file     plik ftp w ktorym zostana zapisane dane wzgledem $DOCUMENT_ROOT/
+    * @param string $file_tmp tymczasowy plik
+    * @param string $WHERE    ograniczenie wynikow np. filtr wg producenta (patrz funkcja $this->db2array() )
+    *
+    * @public
+    */
+    function update_category_file($dir="config/tmp",$file="category.php",$file_tmp="tmp/category.php",$WHERE='') {
+        global $lang;
+        if (! $this->gen_category_tab($WHERE)) {
+            $this->php="<?php ".$this->extra_code."\$category['id_0']=array(\"name\"=>\"$lang->empty_main\",\"elements\"=>array(\"$lang->empty_main\"=>\"0\")); ?>";
+        }
+        
+        // zapisz dane w pliku i wrzuc plik przez FTP do odpowiedniego katalogu
+        $this->save($this->php,$dir,$file,$file_tmp);
+        
+        return(0);
+    } // end update_category_file()
+    
+    
+    
+    /**
+    * Autonaprawa danych kategorii (próba usuniêcia komunikatru o b³êdnych danych kategorii)
+    *
+    * @return none
+    */
+    function _cleanCategory() {
+        global $db;
+        $query[]="UPDATE main SET id_category2=0,category2='' WHERE id_category2 is NULL OR category2=''";
+        $query[]="UPDATE main SET id_category3=0,category3='' WHERE id_category3 is NULL OR category3=''";
+        $query[]="UPDATE main SET id_category4=0,category4='' WHERE id_category4 is NULL OR category4=''";
+        $query[]="UPDATE main SET id_category5=0,category5='' WHERE id_category5 is NULL OR category5=''";
+        reset($query);
+        foreach ($query as $sql) {
+            $result=$db->Query($sql);
+            if ($result!=0) {} else die ($db->Error());
+        }
+        return;
+    } // end _cleanCategory()
+    
+    /**
+    * Debug
+    */
+    function show($tab,$color="brown",$name="") {
+        return;
+        print "<font color=$color>$name";
+        foreach ($tab as $x) {
+            print_r($x);
+            print "<br>";
+        }
+        print "</font>";
+    } // end show()
+    
+    
+} // end class DB2Catgory
+
+?>
diff -ruN ../soteesklep3/admin/go/_options/_available/lang/_en/lang.inc.php soteesklep3/admin/go/_options/_available/lang/_en/lang.inc.php
--- ../soteesklep3/admin/go/_options/_available/lang/_en/lang.inc.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/admin/go/_options/_available/lang/_en/lang.inc.php	2006-06-30 14:11:02.000000000 +0200
@@ -0,0 +1,45 @@
+<?php
+$lang->available_bar="Product availability management";
+$lang->available_menu=array(
+                'add'=>'New availability period',
+                'list'=>'Availability list',
+                'configure'=>'Configuration',
+                "deliverers"=>"Store suppliers",
+                "availability"=>"Availability",
+                "depository"=>"Store",
+                'help'=>'Help',
+                );
+$lang->available_edit="Edit availability properties of the product";
+$lang->available_cols=array(
+                'name'=>'availability name',
+                'user_id'=>'id (availability identifier, integer) ',
+                'num_from'=>'Store state from (number)',
+                'num_to'=>'Store state to (number or *)',
+                );
+$lang->available_edit_form_errors=array(
+                'name'=>'no availability name',
+                'user_id'=>'incorrect value',
+                );
+$lang->available_add_bar="Add new availability";
+$lang->available_export_ok="Availability status list has been exported to the shop";
+$lang->available_list=array(
+                'name'=>'Name',
+                'num_from'=>'State from',
+                'num_to'=>'State to',
+                );
+$lang->error_message['duplicated_from_value'] = "The same beginning of the section has been written in many times.";
+$lang->error_message['no_from_zero_entry'] = "No section starting from 0";
+$lang->error_message['invalid_interval_boundaries'] = "Store sections overlap or there is a gap between them. The following boundaries are incorrect: ";
+$lang->error_message['interval_from_gt_interval_to'] = "The final boundary of the section is smaller than the initial boundary.";
+$lang->error_message['duplicated_inf_boundary'] = "At least two sections with * have been introduced";
+$lang->error_message['invalid_data_format'] = "Incorrect format of the introduced values";
+$lang->error_message['no_to_inf_entry'] = "No section with *";
+
+$lang->error_message['duplicate_depository'] = " The selected product already has its store state.";
+$lang->error_message['invalid_product_id'] = "The product with this ID does not exist.";
+$lang->error_message['need_to_repair'] = "The above message means that correcting the sections of store states in appropriate availabilities is necessary (see: Help). Otherwise store states will be interpreted incorrectly and the store module will not operate properly.";
+$lang->error_message['not_changed'] = "Sections have not been changed.";
+$lang->confirm='Approve sections';
+$lang->confirm_conf='Approve';
+$lang->display_availability="Show in the shop information about product availability";
+?>
diff -ruN ../soteesklep3/admin/go/_options/_delivery/_zone/html/volume_price.html.php soteesklep3/admin/go/_options/_delivery/_zone/html/volume_price.html.php
--- ../soteesklep3/admin/go/_options/_delivery/_zone/html/volume_price.html.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/admin/go/_options/_delivery/_zone/html/volume_price.html.php	2006-06-30 14:11:03.000000000 +0200
@@ -0,0 +1,33 @@
+<?php
+global $mdbd;
+global $_REQUEST;
+$data=$mdbd->select("id,name,range_max","delivery_volume");
+// jesli otwieramy dopiero formularz to wez dane z bazy o ile juz wpis istnieje
+if(empty($_REQUEST['item'])) {
+	$str=$mdbd->select("price","delivery_price","id_zone=".$_REQUEST['id_zone']." AND id_delivery=".$_REQUEST['id_delivery']);
+	if(!empty($str)) {
+		$_REQUEST['item']=unserialize($str);
+	}
+}
+?>
+<form action="volume_price.php" method=POST>
+<input type=hidden name=update value=true>
+<input type=hidden name=id_delivery value=<?php print $_REQUEST['id_delivery']; ?> >
+<input type=hidden name=id_zone value=<?php print $_REQUEST['id_zone']; ?> >
+<input type=hidden name=id value=<?php print @$data['id'];?>> 
+<p>
+<table align='center'>
+<?php
+foreach($data as $key=>$value) {
+	print "<tr><td>";
+	print $value['name'].":: ".$lang->delivery_zone_to." ".$value['range_max'];
+	print "</td><td>";
+	print "<input type=text name=item[".$value['id']."] value='".@$_REQUEST['item'][$value['id']]."' size=5>";
+	print "</td></tr>\n";
+}
+?>
+<tr>
+ <td></td><td><input type=submit value="<?php print $lang->edit_submit;?>">
+</tr>
+</table>
+</form>
\ No newline at end of file
diff -ruN ../soteesklep3/admin/go/_order/lang/_en/lang.inc.php soteesklep3/admin/go/_order/lang/_en/lang.inc.php
--- ../soteesklep3/admin/go/_order/lang/_en/lang.inc.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/admin/go/_order/lang/_en/lang.inc.php	2006-06-30 14:11:06.000000000 +0200
@@ -0,0 +1,188 @@
+<?php
+$lang->tips="You can feel safe while using SOTESHOP as all customer and transaction data are coded";
+$lang->edit_update_ok="Record has been updated";
+$lang->order_user="Customer data";
+$lang->order_more_info="<b>Payment/delivery selected by customer</b>";
+$lang->order_status="Transaction status";
+$lang->order_buttons=array(
+                'add'=>"Add transaction",
+                'list'=>"Transaction list",
+                'not_paid'=>"Unpaid",
+                'paid'=>"Paid",
+                'points'=>"Points",
+                'status'=>"Status",
+                'order'=>"Transactions",
+                );
+$lang->order_title="Order";
+$lang->order_search=array(
+                'amount'=>"Transaction value",
+                'pay_method'=>"Payment method",
+                'confirm'=>"Payment confirmed",
+                'status'=>"Transaction status",
+                'order_id'=>"Transaction ID",
+                'partner'=>"Partners",
+                );
+$lang->order_basket=array(
+                'nr'=>"No.",
+                'name'=>"Product name",
+                'options'=>"Options",
+                'user_id'=>"ID",
+                'price_netto'=>"Net price",
+                'vat'=>"VAT",
+                'num'=>"number",
+                'price_brutto'=>"Gross price",
+                'sum'=>"Sum",
+                );
+$lang->order_status_lock_info="E-mail with status confirmation has not been sent to the customer.";
+$lang->order_status_mail="e-mail";
+$lang->order_status_unlock="send a confirmation";
+$lang->order_status_sent="Information about status has been sent to the customer";
+$lang->order_errors=array(
+                'unknown_order'=>"There is no transaction with this ID",
+                );
+$lang->order_unknown="There is no transaction with this ID";
+$lang->order_last_modified_time="Last modification time";
+$lang->order_last_modified_by="Lately modified by";
+$lang->order_info_title="Additional information connected with the transaction";
+$lang->order_total_amount_brutto="gross:";
+$lang->order_total_amount_netto="Net value of the order";
+$lang->order_cor="Delivery data";
+$lang->order_billing="Billing data";
+$lang->order_form_name=array(
+                'firm'=>"company",
+                'name'=>"name ",
+                'surname'=>"surname",
+                'street'=>"street",
+                'street_n1'=>"house number",
+                'street_n2'=>"flat number",
+                'postcode'=>"area code",
+                'city'=>"city/town",
+                'country'=>"country",
+                'phone'=>"phone",
+                'email'=>"e-mail",
+                'nip'=>"tax identification number",
+                'description'=>"remarks",
+                );
+$lang->order_names=array(
+                'order_id'=>"transaction number",
+                'session_id'=>"session number",
+                'amount'=>"order",
+                'amount_confirm'=>"pay the sum",
+                'delivery_cost'=>"delivery cost",
+                'id_currency'=>"currency",
+                'id_pay_method'=>"payment",
+                'date_add'=>"date",
+                'time_add'=>"time",
+                'remote_ip'=>"IP address",
+                'email'=>"e-mail",
+                'xml_descrription'=>"order",
+                'id_user'=>"user id",
+                'xml_user'=>"customer data",
+                'name'=>"order is made by",
+                'id_delivery'=>"deliverer",
+                'id_status'=>"status",
+                'no_confirm'=>"unpaid",
+                'confirm'=>"paid",
+                'cancel'=>"cancelled",
+                'confirm_online'=>"paid online",
+                'confirm_user'=>"confirmed(e-mail/phone)",
+                'description'=>"additional information/available for the salesperson",
+                'confirmation_status'=>"calculation",
+                'status'=>"status",
+                'checksum'=>"transaction control sum",
+                'send_date'=>"date of package sending",
+                'send_number'=>"package number",
+                'onet_pasaz'=>"Register about Onet Passage",
+                'send_confirm'=>"package sent",
+                'partner_name'=>"partner",
+                'rake_off_amount'=>"commission",
+                'fraud'=>"risk estimation",
+                'confirm_partner'=>"confirm partner's transaction",
+                'recommend_by'=>'transaction with a product recommended by a customer'
+                );
+$lang->order_products=array(
+                'user_id'=>"ID",
+                'name'=>"Name",
+                'producer'=>"Producer",
+                'options'=>"Options",
+                'price'=>"Price",
+                'price_brutto'=>"Gross price",
+                'price_netto'=>"Net price",
+                'vat'=>"VAT",
+                'vat_value'=>"VAT value",
+                'num'=>"number/amount",
+                'sum_brutto'=>"gross sum",
+                'add'=>"Add",
+                );
+$lang->order_status_unknown="undefined";
+$lang->order_add_user="Add a customer to user base";
+$lang->order_menu=array(
+                'invoice'=>"FV",
+                'print'=>"Print",
+                'edit'=>"Edit transaction",
+                'users'=>"Customer data",
+                'users_points'=>"Customer?s points",
+                'users_data'=>"Edit customer data in the order",
+                'users_order'=>"Customer transactions list",
+                'info'=>"Information",
+                );
+$lang->order_fraud_attention="High risk estimation";
+$lang->order_amount_all="sum to pay";
+$lang->order_promotions="Promotion";
+$lang->order_discount="discount";
+$lang->order_set_confirm="pay for the transaction";
+$lang->order_cancel_confirm="cancel/return";
+$lang->order_pay_status="system status";
+$lang->order_legend="Legend";
+$lang->order_main_keys_status=array(
+                '001'=>"Codes displayed to the customer on WWW",
+                '050'=>"Too few codes. Missing codes should be sent to the customer by e-mail.",
+                );
+$lang->order_main_keys_title="Codes sold on-line";
+$lang->order_cancel="cancel";
+$lang->order_date_confirm="Transaction confirmation deadline";
+$lang->order_legend_desc=array(
+                'o'=>"Transacion is waiting to be approved",
+                'r'=>"transaction to be cancelled/returned",
+                'g'=>"transaction has been carried out",
+                'b'=>"transaction to be paid",
+                'black'=>"transaction rejected",
+                'rg'=>"transaction partly paid",
+                'rblack'=>"transaction cancelled",
+                'clock'=>"time (number of days) given to pay the transaction, value <0 - number of days after deadline ",
+                'attention'=>"Attention! Transaction status should be checked.",
+                'attention2'=>"critical error, it should be reported to administrator",
+                );
+$lang->order_partner_confirm=array(
+                '0'=>"Ignore",
+                '1'=>"Confirm",
+                '2'=>"Cancel",
+                );
+$lang->order_przelewy24_check="Check status in 
+transfers24.pl";
+$lang->order_przelewy24_cstatus_check_title="Payment status check
+in transfers24.pl";
+$lang->order_customer_note="Customer's note";
+$lang->order_report=array(
+                'total_amount'=>"Order value - gross",
+                'records'=>"Number of transactions",
+                'average_amount_brutto'=>"The average value of transaction - gross",
+                );
+$lang->order_print="print";
+$lang->order_list_title="Order list";
+$lang->order_user_ok="Order made by a user";
+$lang->card=array(
+				'title'=>"card data",
+				'card'=>"card number",
+				'cvv'=>"CVV / CVC code",
+				'valid_to'=>"card valid to (month-year)",
+				'record_deleted'=>"entry removed",
+				);
+$lang->points=array(
+				'title'=>"Value of order in points",
+				'cancel'=>"order cancelled",
+				'accept'=>"order accepted",
+				'renew'=>"order restored",
+				);
+$lang->info_for_client="nformation about transaction ? <b>available to a customer</b>";
+?>
\ No newline at end of file
diff -ruN ../soteesklep3/admin/go/_order/_status/lang/_en/lang.inc.php soteesklep3/admin/go/_order/_status/lang/_en/lang.inc.php
--- ../soteesklep3/admin/go/_order/_status/lang/_en/lang.inc.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/admin/go/_order/_status/lang/_en/lang.inc.php	2006-06-30 14:11:05.000000000 +0200
@@ -0,0 +1,29 @@
+<?php
+$lang->order_status_bar="Transaction status";
+$lang->order_status_cols=array(
+                'name'=>'Status name',
+                'user_id'=>'ID',
+                'send_mail'=>'Send an e-mail to the client after givinig the transaction this status',
+                'mail_title'=>'E-mail title',
+                'mail_content'=>'E-mail content',
+                );
+$lang->order_status_menu=array(
+                'add'=>'New status',
+                'list'=>'Status list',
+                'help'=>'Help',
+                );
+$lang->order_status_edit="Edit status properties of the transaction";
+$lang->order_status_list=array(
+                'name'=>'Name',
+                'send_mail'=>'Mail',
+                );
+$lang->order_status_add_bar="Add new status";
+$lang->order_status_edit_form_errors=array(
+                'name'=>'incorrect value',
+                'user_id'=>array(
+                                '1'=>'incorrect ID number',
+                                '10'=>'This ID already exists, choose another ID',
+                                ),
+                                
+                );
+?>
\ No newline at end of file
diff -ruN ../soteesklep3/admin/go/_upgrade/lang/_en/lang.inc.php soteesklep3/admin/go/_upgrade/lang/_en/lang.inc.php
--- ../soteesklep3/admin/go/_upgrade/lang/_en/lang.inc.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/admin/go/_upgrade/lang/_en/lang.inc.php	2006-06-30 14:11:07.000000000 +0200
@@ -0,0 +1,103 @@
+<?php
+$lang->upgrade_title="Automatic program upgrading";
+$lang->upgrade_get_info="Attach shop upgrading";
+$lang->upgrade_file_uploaded="Package upgrade file has been attached";
+$lang->upgrade_files="List of updated files";
+$lang->upgrade_done="Upgrading completed";
+$lang->upgrade_pkg=array(
+                '1.01'=>"Enter upgrading marked with number 30003 into the shop. This upgrading is necessary if you want to install next improvements in the shop. ",
+                );
+$lang->upgrade_checksums_upgrade_error="Unsuccessful control sum base updating";
+$lang->upgrade_checksums_upgraded="Control sum base has been updated";
+$lang->upgrade_file_status=array(
+                '2'=>"Ignored. Disk version is newer than update version. ",
+                '1'=>"File has not been updated. Customer modification has been detected.",
+                '3'=>"Ignored. Individual modification file",
+                '4'=>"Approved in previous updating",
+                );
+$lang->upgrade_file_status_simulation=array(
+                '2'=>"Test: Disk version is newer than update version. ",
+                '1'=>"Test: Customer modification has been detected.",
+                '3'=>"Test: Individual modification file",
+                '4'=>"Test: Approved in previous updating",
+                );
+$lang->upgrade_name_theme="Theme name for updating";
+$lang->upgrade_25_description="Version updating 2.5->3.0";
+$lang->upgrade_25_error="Data has not been updated";
+$lang->upgrade_25_done="Data has been updated";
+$lang->upgrade_25_menu=array(
+                'order'=>"Update transaction data from version 2.5->3",
+                'users'=>"Update customer data from version 2.5->3.0",
+                'themes'=>"Update version theme 2.5->3.0",
+                );
+$lang->upgrade_prev="Upgrading installed in the shop";
+$lang->upgrade_updates="Install upgrades";
+$lang->upgrade_check_new="Check available upgrades";
+$lang->upgrade_nomd5_info="No control sum base of the program";
+$lang->upgrade_md5_install="Load base";
+$lang->upgrade_md5_installed="Contrtol sum base installed";
+$lang->upgrade_md5_continue="Move to upgrading system";
+$lang->upgrade_to_install="Upgrade packets available to be installed (packet available on the page <a
+href=http://service.soteshop.com>http://service.soteshop.com</a>)";
+$lang->upgrade_check_new_version_title="Available upgrades check";
+$lang->upgrade_new_not_found="At the moment all upgrades available for the version are installed in the shop.<br />
+There are no new upgrades. ";
+$lang->upgrade_database_updated="Database has been updated";
+$lang->upgrade_diff_title="Automatic connection of changes in file with changes in update packet";
+$lang->upgrade_file_repair="Analyse/Connect changes";
+$lang->upgrade_file_not_found="No file data";
+$lang->upgrade_file=array(
+                'path'=>"File version on a disk",
+                'upgrade'=>"File version in an update packet",
+                'diff'=>"<b>File from a disk with modifications from update packet</b>",
+                );
+$lang->upgrade_diff_patch="Detected differences/preview";
+$lang->upgrade_unknown_gid="No GID number. Graphic files have not been updated";
+$lang->upgrade_individual_mod="individual modification";
+$lang->upgrade_error_ext="Wrong file format";
+$lang->upgrade_wrong_format="Error: Unknown version: wrong patch format.";
+$lang->upgrade_devel_config="Configuration for DEVELOPERS";
+$lang->upgrade_modified="Modified";
+$lang->upgrade_diff_file_upgraded="File saved and it will be installed during this session together with package installation.<br> Attention! After logging out repeat the operation of connecting changes.";
+$lang->upgrade_files_list="List of files in upgrade package";
+$lang->upgrade_files_simulation="Result of simulated installation of upgrade package. Control sum verification.";
+$lang->upgrade_already_installed="Package installed";
+$lang->upgrade_wrong_pkg_number="Incorrect package number. Packages should be installed in correct order";
+$lang->upgrade_legend_title="Legend";
+$lang->upgrade_legend=array(
+                '0'=>"Correct file",
+                '1'=>"Modified file",
+                '2'=>"File on disc is newer than file from upgrading",
+                '3'=>"Modified file, individual modification",
+                '4'=>"Modified file, approved during previous upgrading",
+                'repair'=>"File modification edit. <b> Option only for advanced PHP programmers",
+                );
+$lang->upgrade_update="Install upgrade";
+$lang->upgrade_update_not_allowed="System found conflicts in files. Upgrade cannot be installed.";
+$lang->upgrade_hard_install="Ignore conflicts. Install files from upgrade package.";
+$lang->upgrade_terms="<B>ATTENTION!</B>
+<OL>
+<LI>Upgrade installation will cause overwriting these files in which 
+modification in relation to the original file version was found.
+<LI>It can cause disappearance of changes individually introduced to the file.
+In order to connect changes, after installing the package they should be introduced
+once again (the system will copy files from the shop).
+<LI>Quarantee DOES NOT COMPRISE introducing individual changes to files
+installed from the upgrade package.
+</OL>";
+$lang->upgrade_file_info="The system tested automatic connection of changes introduced in the upgrade package with changes individually introduced to a given file.<BR>
+<B>ATTENTION!</B>
+<OL>
+<LI>Make a copy of the file being installed in order to ensure the possibility of restoring the original version.
+<LI>Quarantee DOES NOT COMPRISE installation of changes. If you are not sure about connected changes, DO NOT INSTALL the file.
+<LI>Quarantee DOES NOT COMPRISE introducing individual changes to files installed from the upgrade package.
+</OL>";
+$lang->upgrade_accept="Accept";
+$lang->bugs_download_source="Look through the file to be installed (with connected changes)";
+$lang->bugs_download_diff_result="Look through the differences found between the package file and the original version.";
+$lang->upgrade_repo_not_exists="Changes cannot be connected automatically. No repositorium of the version. Information has been sent to the administrator. Try later.";
+$lang->upgrade_info_code="Optional code";
+$lang->upgrade_code_error="Incorrect package activating code.";
+$lang->upgrade_error_save_pkg="Package cannot be saved in ./admin/upgrade";
+$lang->upgrade_img="[IMG]";
+?>
\ No newline at end of file
diff -ruN ../soteesklep3/admin/go/_users/lang/_en/lang.inc.php soteesklep3/admin/go/_users/lang/_en/lang.inc.php
--- ../soteesklep3/admin/go/_users/lang/_en/lang.inc.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/admin/go/_users/lang/_en/lang.inc.php	2006-06-30 14:11:08.000000000 +0200
@@ -0,0 +1,122 @@
+<?php
+$lang->users_start_list_element="
+<table align=center>
+<tr bgcolor=#d5e6ed>
+<th>id</th>
+<th>login</th>
+<th>name</th>
+<th>surname</th>
+<th>date</th>
+<th>e-mail</th>
+<th>trash</th>
+</tr>
+";
+$lang->users_main_menu=array(
+                'newsletter'=>'Newsletter',
+                'discounts'=>'Discounts',
+                'sales'=>'Merchants',
+                );
+$lang->edit_update_ok="Record has been updated";
+$lang->users_menu=array(
+                'data'=>'Customer data',
+                'points'=>'Customer points',
+                'order'=>'List of customer transactions',
+                'edit_order'=>'Edit transaction',
+                'users'=>'Customer data',
+                'password'=>'Password change',
+                'note'=>'Notes, additional information',
+                'note_title'=>'Title',
+                'note_text'=>'Note',
+                'requests'=>'Questions',
+                );
+$lang->users_info=array(
+                'order'=>'Check carefully transaction data, order status, shopping value etc.',
+                );
+$lang->users=array(
+                'id'=>'ID',
+                'add'=>'Add',
+                'list'=>'Customer list',
+                'search'=>'Search',
+                'hurt'=>'Wholesale customer',
+                'billing'=>'Billing data',
+                'cor'=>'Correspondence data',
+                'points'=>'Customer points',
+                'login'=>'Login',
+                'firm'=>'Company',
+                'name'=>'Name',
+                'surname'=>'Surname',
+                'street'=>'Street',
+                'country'=>'Country',
+                'postcode'=>'Area code',
+                'nip'=>'tax identification number',
+                'city'=>'City/town',
+                'phone'=>'Phone',
+                'email'=>'E-mail',
+                'date_add'=>'Registration date',
+                'ext_info'=>'Additional information',
+                'sum_amount'=>'Total value of customer shopping',
+                'active'=>'Active',
+                'newsletter'=>'Newsletter',
+                'group'=>'Discount group',
+                'find us'=>'Customer gain source',
+                'limits'=>'Credit limit',
+                'lock_user'=>'Block automatic transfer to discount groups',
+                'user_description'=>'Description',
+                'admin_remarks'=>'Seller?s remarks concerning a customer <b>(available only to the seller)</b>',
+                );
+$lang->users_choose_sales="Select merchant";
+$lang->users_search_unregister="Search customer data connected <br> with transactions (also  not registered ones)";
+
+$lang->ask4price_bar="Questions about the price";
+$lang->ask4price_bar1="Answer the question";
+$lang->ask4price_request_id="Question ID";
+$lang->ask4price_name_company="Person / company";
+$lang->ask4price_email="E-mail address";
+$lang->ask4price_sent="Answer";
+$lang->ask4price_logged="Customer ID";
+$lang->ask4price_comments=" Customer?s remarks";
+$lang->ask4price_not_logged="not logged in";
+$lang->ask4price_date_add="date of adding";
+$lang->ask4price_delete="delete";
+$lang->ask4price_edit="Show";
+
+$lang->ask4price_prod_user_id="Product ID";
+$lang->ask4price_name="Product name";
+$lang->ask4price_producer="Producer";
+
+$lang->ask4price_answer="Write an answer";
+$lang->ask4price_to="To";
+$lang->ask4price_subject="Topic";
+$lang->ask4price_content="Content";
+$lang->ask4price_send="Send";
+
+$lang->ask4price_send_ok="Answer has been sent.";
+$lang->ask4price_send_error="Answer has not been sent!";
+$lang->ask4price_close="Close the window";
+$lang->user_points=array(
+					'sentence_amount_1'=>"Customer",
+					'sentence_amount_2'=>"at the moment has got",
+					'sentence_amount_3'=>"points.",
+					'sentence_amount_4'=>"(+",
+					'sentence_amount_5'=>"points in unconfirmed transactions)",
+//					''=>"",
+					'modified_points'=>"Add or take away user?s points",
+					'action'=>"Action",
+					'points'=>"Points",
+					'time'=>"Duration of implementation",
+					'description'=>"Description",
+					'order'=>"Transaction id",
+					'product'=>"Product id",
+					'decrease'=>"decreasing",
+					'add'=>"increasing",
+					'for_recommend'=>"or <b>recommending</b> a product",
+					'for_product'=>"for <b>purchasing</b>",
+					'for_review'=>"for adding a <b>review</b>",
+					'history'=>"Product record",
+					'add_admin'=>"add points",
+					'decrease_admin'=>"take away points",	
+					'do_it'=>"implement",
+					'points_verified_ok'=>"<font color=\"green\"><b>Points correctly verified!</b></font>",
+					'points_verified_no'=>"<font color=\"#ff0000\"><b>PPoints have not been verified, try once again!!!</b></font>",
+);
+?>
diff -ruN ../soteesklep3/admin/go/_wysiwyg/config/config.inc.php soteesklep3/admin/go/_wysiwyg/config/config.inc.php
--- ../soteesklep3/admin/go/_wysiwyg/config/config.inc.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/admin/go/_wysiwyg/config/config.inc.php	2006-06-30 14:11:08.000000000 +0200
@@ -0,0 +1,150 @@
+<?php
+/**
+* @version    $Id: config.inc.php,v 1.15 2006/06/23 09:31:55 lukasz Exp $
+* @package    wysiwyg
+*/
+
+/*
+recommend_foot_product.html
+recommend_foot_shop.html
+recommend_head_product.html
+recommend_head_shop.html
+review_info.html
+*/
+
+$config->wysiwyg_files['pl']=array(
+                             "main_page.html"=>array("text" => "Strona g³ówna", "editing" => "wysiwyg"),
+                             "about_shop.html"=>array("text" => "O sklepie", "editing" => "wysiwyg"),
+                             "newsletter_window.html"=>array("text" => "Okno newslettera", "editing" => "wysiwyg"),
+                             "about_company.html"=>array("text" => "O firmie", "editing" => "wysiwyg"),
+                             "contact.html"=>array("text" => "Kontakt", "editing" => "wysiwyg"),
+                             "help.html"=>array("text" => "Pomoc", "editing" => "wysiwyg"),
+                             "left_window.html"=>array("text" => "Lewe okno", "editing" => "wysiwyg"),
+                             "over_basket_text.html"=>array("text" => "Tekst nad koszykiem", "editing" => "wysiwyg"),
+                             "points.html"=>array("text" => "Punkty", "editing" => "wysiwyg"),
+                             "right_window.html"=>array("text" => "Prawe okno", "editing" => "wysiwyg"),
+                             "terms.html"=>array("text" => "Regulamin", "editing" => "wysiwyg"),
+                             "user_registration.html"=>array("text" => "Rejestracja u¿ytkowników", "editing" => "wysiwyg"),
+                             "order_mail_hello.html"=>array("text" => "Tekst powitania w mailu potwierdzaj±cym zamówienie", "editing" => "wysiwyg"),
+                             "order_mail.html"=>array("text" => "Dodatkowy tekst w mailu z potwierdzeniem zamówienia", "editing" => "wysiwyg"),
+                             "over_wishlist_text.html"=>array("text" => "Tekst pokazywany nad przechowalni±", "editing" => "wysiwyg"),
+                             "wishlist_up_empty.html"=>array("text" => "Tekst pokazywany nad przechowalni± gdy nie ma w niej produktów", "editing" => "wysiwyg"),
+                             "basket_up_empty.html"=>array("text" => "Tekst pokazywany nad koszykiem gdy nie ma w nim produktów", "editing" => "wysiwyg"),
+                             "cardpay_info.html"=>array("text" => "Tekst zawieraj±cy obja¶nienia widoczne nad formularzem p³atno¶ci kart± offline", "editing" => "wysiwyg"),
+								
+                             "recommend_head_product.html"=>array("text" => "Tekst wysylany w mailu - Nag³ówek rekomendowanego produktu", "editing" => "wysiwyg"),					 
+                             "recommend_foot_product.html"=>array("text" => "Tekst wysylany w mailu - Stopka rekomendowanego produktu", "editing" => "wysiwyg"),
+							 "recommend_head_shop.html"=>array("text" => "Tekst wysylany w mailu - Nag³ówek rekomendowanego sklepu", "editing" => "wysiwyg"),
+                             "recommend_foot_shop.html"=>array("text" => "Tekst wysylany w mailu - Stopka rekomendowanego sklepu", "editing" => "wysiwyg"),
+							 "review_info.html"=>array("text" => "Tekst wyswietlany w okienku komentarza", "editing" => "wysiwyg"),
+                            
+                             );
+
+$config->wysiwyg_files['en']=array(
+                             "main_page.html"=>array("text" => "Main page", "editing" => "wysiwyg"),
+                             "about_shop.html"=>array("text" => "About shop", "editing" => "wysiwyg"),
+                             "newsletter_window.html"=>array("text" => "Newsletter window", "editing" => "wysiwyg"),
+                             "about_company.html"=>array("text" => "About company", "editing" => "wysiwyg"),
+                             "contact.html"=>array("text" => "Contact", "editing" => "wysiwyg"),
+                             "help.html"=>array("text" => "Help", "editing" => "wysiwyg"),
+                             "left_window.html"=>array("text" => "Left window", "editing" => "wysiwyg"),
+                             "over_basket_text.html"=>array("text" => "Text over basket", "editing" => "wysiwyg"),
+                             "points.html"=>array("text" => "Points", "editing" => "wysiwyg"),
+                             "right_window.html"=>array("text" => "Right window", "editing" => "wysiwyg"),
+                             "terms.html"=>array("text" => "Terms and conditions", "editing" => "wysiwyg"),
+                             "user_registration.html"=>array("text" => "User registration", "editing" => "wysiwyg"),
+                             "order_mail_hello.html"=>array("text" => "Text of welcome in order confirmation mail", "editing" => "wysiwyg"),
+                             "order_mail.html"=>array("text" => "Additional text in order confirmation mail", "editing" => "wysiwyg"),
+                             "over_wishlist_text.html"=>array("text" => "Text over wishlist", "editing" => "wysiwyg"),
+                             "wishlist_up_empty.html"=>array("text" => "Text shown over a empty wishlist", "editing" => "wysiwyg"),
+                             "basket_up_empty.html"=>array("text" => "Text shown over a empty basket", "editing" => "wysiwyg"),
+                             
+                             "cardpay_info.html"=>array("text" => "Text containing  explanations over form \"offline card payments\"", "editing" => "wysiwyg"),
+		                     "recommend_head_product.html"=>array("text" => "Text shown in mail - Header of recomended product", "editing" => "wysiwyg"),					 
+                             "recommend_foot_product.html"=>array("text" => "Text shown in mail - Footer of recomended product", "editing" => "wysiwyg"),
+							 "recommend_head_shop.html"=>array("text" => "Text shown in mail - Header of recomended shop", "editing" => "wysiwyg"),
+                             "recommend_foot_shop.html"=>array("text" => "Text shown in mail - Footer of recomended shop", "editing" => "wysiwyg"),
+							 "review_info.html"=>array("text" => "Text shown in comment window", "editing" => "wysiwyg"),
+                             );
+$config->wysiwyg_files['de']=array(
+                             "main_page.html"=>array("text" => "Hauptseite", "editing" => "wysiwyg"),
+                             "about_shop.html"=>array("text" => "Über shop", "editing" => "wysiwyg"),
+                             "newsletter_window.html"=>array("text" => "Newsletter", "editing" => "wysiwyg"),
+                             "about_company.html"=>array("text" => "Über firm", "editing" => "wysiwyg"),
+                             "contact.html"=>array("text" => "Kontakte", "editing" => "wysiwyg"),
+                             "help.html"=>array("text" => "Hilfe", "editing" => "wysiwyg"),
+                             "left_window.html"=>array("text" => "Left window", "editing" => "wysiwyg"),
+                             "over_basket_text.html"=>array("text" => "Text over basket", "editing" => "wysiwyg"),
+                             "points.html"=>array("text" => "Punkte", "editing" => "wysiwyg"),
+                             "right_window.html"=>array("text" => "Right window", "editing" => "wysiwyg"),
+                             "terms.html"=>array("text" => "Terms and conditions", "editing" => "wysiwyg"),
+                             "user_registration.html"=>array("text" => "User registration", "editing" => "wysiwyg"),
+                             "order_mail_hello.html"=>array("text" => "Text of welcome in order confirmation mail", "editing" => "wysiwyg"),
+                             "order_mail.html"=>array("text" => "Additional text in order confirmation mail", "editing" => "wysiwyg"),
+                             
+                             "over_wishlist_text.html"=>array("text" => "Text over wishlist", "editing" => "wysiwyg"),
+                             "wishlist_up_empty.html"=>array("text" => "Text shown over a empty wishlist", "editing" => "wysiwyg"),
+                             "basket_up_empty.html"=>array("text" => "Text shown over a empty basket", "editing" => "wysiwyg"),
+                             "cardpay_info.html"=>array("text" => "Text containing  explanations over form \"offline card payments\"", "editing" => "wysiwyg"),
+		                     "recommend_head_product.html"=>array("text" => "Text shown in mail - Header of recomended product", "editing" => "wysiwyg"),					 
+                             "recommend_foot_product.html"=>array("text" => "Text shown in mail - Footer of recomended product", "editing" => "wysiwyg"),
+							 "recommend_head_shop.html"=>array("text" => "Text shown in mail - Header of recomended shop", "editing" => "wysiwyg"),
+                             "recommend_foot_shop.html"=>array("text" => "Text shown in mail - Footer of recomended shop", "editing" => "wysiwyg"),
+							 "review_info.html"=>array("text" => "Text shown in comment window", "editing" => "wysiwyg"),
+                             );
+                             
+$config->wysiwyg_files['cz']=array(
+                             "main_page.html"=>array("text" => "Hlavní strana", "editing" => "wysiwyg"),
+                             "about_shop.html"=>array("text" => "O obchodu", "editing" => "wysiwyg"),
+                             "newsletter_window.html"=>array("text" => "Newsletter", "editing" => "wysiwyg"),
+                             "about_company.html"=>array("text" => "O firmì", "editing" => "wysiwyg"),
+                             "contact.html"=>array("text" => "Kontakt", "editing" => "wysiwyg"),
+                             "help.html"=>array("text" => "Nápovìda", "editing" => "wysiwyg"),
+                             "left_window.html"=>array("text" => "Levé okno", "editing" => "wysiwyg"),
+                             "over_basket_text.html"=>array("text" => "Ko¹ík", "editing" => "wysiwyg"),
+                             "points.html"=>array("text" => "Body", "editing" => "wysiwyg"),
+                             "right_window.html"=>array("text" => "Prawé okno", "editing" => "wysiwyg"),
+                             "terms.html"=>array("text" => "Obchodní podmínky", "editing" => "wysiwyg"),
+                             "user_registration.html"=>array("text" => "Pøihlá¹ení, registrace", "editing" => "wysiwyg"),
+                             "order_mail_hello.html"=>array("text" => "Text of welcome in order confirmation mail", "editing" => "wysiwyg"),
+                             "order_mail.html"=>array("text" => "Additional text in order confirmation mail", "editing" => "wysiwyg"),
+                             
+                             "over_wishlist_text.html"=>array("text" => "Text over wishlist", "editing" => "wysiwyg"),
+                             "wishlist_up_empty.html"=>array("text" => "Text shown over a empty wishlist", "editing" => "wysiwyg"),
+                             "basket_up_empty.html"=>array("text" => "Text shown over a empty basket", "editing" => "wysiwyg"),
+                             "cardpay_info.html"=>array("text" => "Text containing  explanations over form \"offline card payments\"", "editing" => "wysiwyg"),
+		                     "recommend_head_product.html"=>array("text" => "Text shown in mail - Header of recomended product", "editing" => "wysiwyg"),					 
+                             "recommend_foot_product.html"=>array("text" => "Text shown in mail - Footer of recomended product", "editing" => "wysiwyg"),
+							 "recommend_head_shop.html"=>array("text" => "Text shown in mail - Header of recomended shop", "editing" => "wysiwyg"),
+                             "recommend_foot_shop.html"=>array("text" => "Text shown in mail - Footer of recomended shop", "editing" => "wysiwyg"),
+							 "review_info.html"=>array("text" => "Text shown in comment window", "editing" => "wysiwyg"),
+                             );
+
+$config->wysiwyg_files['ru']=array(
+                             "main_page.html"=>array("text" => "Main page", "editing" => "wysiwyg"),
+                             "about_shop.html"=>array("text" => "About shop", "editing" => "wysiwyg"),
+                             "newsletter_window.html"=>array("text" => "Newsletter window", "editing" => "wysiwyg"),
+                             "about_company.html"=>array("text" => "About company", "editing" => "wysiwyg"),
+                             "contact.html"=>array("text" => "Contact", "editing" => "wysiwyg"),
+                             "help.html"=>array("text" => "Help", "editing" => "wysiwyg"),
+                             "left_window.html"=>array("text" => "Left window", "editing" => "wysiwyg"),
+                             "over_basket_text.html"=>array("text" => "Text over basket", "editing" => "wysiwyg"),
+                             "points.html"=>array("text" => "Points", "editing" => "wysiwyg"),
+                             "right_window.html"=>array("text" => "Right window", "editing" => "wysiwyg"),
+                             "terms.html"=>array("text" => "Terms and conditions", "editing" => "wysiwyg"),
+                             "user_registration.html"=>array("text" => "User registration", "editing" => "wysiwyg"),
+                             "order_mail_hello.html"=>array("text" => "Text of welcome in order confirmation mail", "editing" => "wysiwyg"),
+                             "order_mail.html"=>array("text" => "Additional text in order confirmation mail", "editing" => "wysiwyg"),
+                             "over_wishlist_text.html"=>array("text" => "Text over wishlist", "editing" => "wysiwyg"),
+                             "wishlist_up_empty.html"=>array("text" => "Text shown over a empty wishlist", "editing" => "wysiwyg"),
+                             "basket_up_empty.html"=>array("text" => "Text shown over a empty basket", "editing" => "wysiwyg"),
+                             
+                             "cardpay_info.html"=>array("text" => "Text containing  explanations over form \"offline card payments\"", "editing" => "wysiwyg"),
+		                     "recommend_head_product.html"=>array("text" => "Text shown in mail - Header of recomended product", "editing" => "wysiwyg"),					 
+                             "recommend_foot_product.html"=>array("text" => "Text shown in mail - Footer of recomended product", "editing" => "wysiwyg"),
+							 "recommend_head_shop.html"=>array("text" => "Text shown in mail - Header of recomended shop", "editing" => "wysiwyg"),
+                             "recommend_foot_shop.html"=>array("text" => "Text shown in mail - Footer of recomended shop", "editing" => "wysiwyg"),
+							 "review_info.html"=>array("text" => "Text shown in comment window", "editing" => "wysiwyg"),
+                             );
+
+?>
diff -ruN ../soteesklep3/admin/include/allegro.inc.php soteesklep3/admin/include/allegro.inc.php
--- ../soteesklep3/admin/include/allegro.inc.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/admin/include/allegro.inc.php	2006-06-30 14:11:10.000000000 +0200
@@ -0,0 +1,607 @@
+<?php
+/**
+ * Klasa do komunkacji z Allegro.
+ * Podstawowe funkcje
+ *
+ */
+include_once("config/auto_config/allegro_config.inc.php");
+include_once("NuSOAP/nusoap.php");
+include_once("include/metabase.inc");
+include_once('lib/ConvertCharset/ConvertCharset.class.php');
+
+class Allegro {
+
+    var $_debug=0;              // czy tryb debugowania
+
+    /**
+	 * Enter description here...
+	 *
+	 * @return Allegro
+	 */
+    function Allegro() {
+
+    } // end func Allegro
+
+    /**
+	 * Pobranie drzewa kategorii z Allegro.pl
+	 *
+	 */
+    function getCategory()
+    {
+        global $_SESSION;
+        global $allegro_config;
+        global $lang;
+        global $database;
+        // ustawienie parametów wywo³ania SOAP
+
+        // jesli allegro jest w trybie produkcyjnym to
+        if($allegro_config->allegro_mode == 'true') {
+            $parameters = array(
+            $allegro_config->allegro_country_code,          // kod kraju
+            $allegro_config->allegro_version,               // numer wersji WEBAPI
+            $allegro_config->allegro_web_api_key,           // klucz WEBAPI allegro
+            );
+        } else {
+            $parameters = array(
+            $allegro_config->allegro_country_code_test,     // kod kraju
+            $allegro_config->allegro_version_test,          // numer wersji WEBAPI
+            $allegro_config->allegro_web_api_key,           // klucz WEBAPI allegro
+            );
+        }
+        // stworzenie obiektu SOAP
+        $client = new soapclient($allegro_config->allegro_server,true);
+        $client->decode_utf8=false;
+        // pobranie b³êdów je¶li trakie by³y
+        $errors = $client->getError();
+        if ($errors) {
+            // Wyswietlenie bledow wywoalania - niepowodzenie
+            echo '<h2>Blad </h2><pre>' . $errors . '</pre>';
+        }
+        // wywo³anie metody
+        $response = $client->call('doGetCatsData',$parameters);
+        if(!empty($response['faultcode'])) {
+            $convertChar = new ConvertCharset();
+            $afterChange = $convertChar->Convert($response['faultstring'],'utf-8','iso-8859-2');
+         	print $afterChange;
+        } else {
+            if($this->_debug) {
+                print "<pre>";
+                print_r($response);
+                print "</pre>";
+            }
+            $this->saveCategory($response);
+            // sprawdzamy czy do bazy zostaly zapisane kategorie
+            $count=$database->sql_select("count(*)","allegro_cat");
+            if($count) {
+                if($allegro_config->allegro_mode == 'true') {
+                    if($response['ver-key']=$allegro_config->allegro_version) {
+                        print "<center>".$lang->get_category_ok."<center>";
+                    }
+                } else {
+                    if($response['ver-key']=$allegro_config->allegro_version_test) {
+                        print "<center>".$lang->get_category_ok."<center>";
+                    }
+                }
+            } else {
+                print $lang->allegro_error_auction['category'];
+            }
+        }
+    } // end func getCategory
+
+    /**
+     * Enter description here...
+     *
+     */
+    function getOther()
+    {
+        global $_SESSION;
+        global $allegro_config;
+        global $lang;
+        // ustawienie parametów wywo³ania SOAP
+
+        // jesli allegro jest w trybie produkcyjnym to
+        if($allegro_config->allegro_mode == 'true') {
+            $parameters = array(
+            $allegro_config->allegro_country_code,      // kod kraju
+            $allegro_config->allegro_version,            // numer wersji WEBAPI
+            $allegro_config->allegro_web_api_key,       // klucz WEBAPI allegro
+            );
+        } else {
+            $parameters = array(
+            $allegro_config->allegro_country_code_test,      // kod kraju
+            $allegro_config->allegro_version_test,            // numer wersji WEBAPI
+            $allegro_config->allegro_web_api_key,       // klucz WEBAPI allegro
+            );
+        }
+        // stworzenie obiektu SOAP
+        $client = new soapclient($allegro_config->allegro_server, true);
+        $client->decode_utf8=false;
+        // pobranie b³êdów je¶li trakie by³y
+        $errors = $client->getError();
+        if ($errors) {
+            // Wyswietlenie bledow wywoalania - niepowodzenie
+            echo '<h2>Blad </h2><pre>' . $errors . '</pre>';
+        }
+        // wywo³anie metody
+        $response = $client->call('doGetSellFormFields',$parameters);
+        if(!empty($response['faultcode'])) {
+            // jest jakis b³±d
+            $convertChar = new ConvertCharset();
+            print $convertChar->Convert($response['faultstring'],'utf-8','iso-8859-2');
+        } else {
+            if($this->_debug) {
+                print "<pre>";
+                print_r($response);
+                print "</pre>";
+            }
+            $this->prepareOther($response['sell-form-fields']);
+            if($allegro_config->allegro_mode == 'true') {
+                if($response['ver-key']=$allegro_config->allegro_version) {
+                    print "<center>".$lang->get_other_ok."<center>";
+                }
+            } else {
+                if($response['ver-key']=$allegro_config->allegro_version_test) {
+                    print "<center>".$lang->get_other_ok."<center>";
+                }
+            }
+        }
+    } // end func getOther
+
+    /**
+     * Funkcja parsuje dane z prametrow allegro i zwraca tablice asocjacyjna
+     *
+     * @param array  data  dane z allegro
+     * @param string index index tablicy 
+     *
+     * @return array $tab
+     */
+    function prepareArray(& $data, $index)
+    {
+        $tab=array();
+        $sell_form_desc=preg_split("/\|/",$data[$index]['sell-form-desc'],-1,PREG_SPLIT_NO_EMPTY);
+        $sell_form_opts_values=preg_split("/\|/",$data[$index]['sell-form-opts-values'],-1,PREG_SPLIT_NO_EMPTY);
+        foreach($sell_form_desc as $key=>$value) {
+            $tab= $tab+array($sell_form_opts_values[$key]=>$this->utf8_to_8859($value));
+        }
+        return $tab;
+    } // end func prepareArray
+
+    /**
+     * Pobranie innych danych z allegro
+     *
+     * @param array  data  dane z allegro
+     *
+     * @return boolean true/false
+     */
+    function prepareOther(& $data)
+    {
+        //pobierz czas trwania aukcji
+        $this->allegro_time=array();
+        if($data[3]['sell-form-id'] == 4) {
+            $this->allegro_time = $this->prepareArray(& $data, 3);
+        }
+        // pobierz województwa
+        if($data[9]['sell-form-id'] == 10) {
+            $this->allegro_states = $this->prepareArray(& $data, 9);
+        }
+        // transport
+        if($data[11]['sell-form-id'] == 12) {
+            $this->allegro_trans = $this->prepareArray(& $data, 11);
+        }
+        return true;
+    } // end func prepareOther
+
+    /**
+	 * Zapisanie katergorii do bazy danych
+	 *
+     * @param array category
+     *
+     * @return boolean true/false
+	 */
+    function saveCategory(& $category)
+    {
+        global $database;
+        // skasuj zawartosc tablicy
+        $database->sql_delete("allegro_cat");
+        // przejdz po tablicy i zapisz kategrii do bazy danych
+        foreach($category['cats-list'] as $key=>$value) {
+            $database->sql_insert("allegro_cat",array(
+            "id"=>"",
+            "cat_id"=>$value['cat-id'],
+            "cat_name"=>$this->utf8_to_8859($value['cat-name']),
+            "cat_parent"=>$value['cat-parent'],
+            "cat_position"=>$value['cat-position'],
+            ));
+        }
+        return true;
+    } // end func saveCategory
+
+    /**
+     * Logowanie do systemu allegro.pl. Po zalogowaniu otrzymujemy numer sesji
+     *
+     * @return boolean true/false
+     */
+    function Login()
+    {
+        global $allegro_config;
+        global $allegro;
+        global $sess;
+        // ustawienie parametów wywo³ania SOAP
+
+        // jesli allegro jest w trybie produkcyjnym to
+        if($allegro_config->allegro_mode == 'true') {
+            $parameters = array(
+            $allegro_config->allegro_login,             // login w allegro
+            $allegro_config->allegro_password,          // has³o w allegro
+            $allegro_config->allegro_country_code,      // kod kraju
+            $allegro_config->allegro_web_api_key,       // klucz WEBAPI allegro
+            $allegro_config->allegro_version            // numer wersji WEBAPI
+            );
+        } else {
+            // tryb testowy
+            $parameters = array(
+            $allegro_config->allegro_login_test,             // login w allegro
+            $allegro_config->allegro_password_test,          // has³o w allegro
+            $allegro_config->allegro_country_code_test,      // kod kraju
+            $allegro_config->allegro_web_api_key,       // klucz WEBAPI allegro
+            $allegro_config->allegro_version_test            // numer wersji WEBAPI
+            );
+        }
+        // stworzenie obiektu SOPA
+        $client = new soapclient($allegro_config->allegro_server, true);
+        // pobranie b³êdów je¶li trakie by³y
+        $errors = $client->getError();
+        if ($errors) {
+            // Wyswietlenie bledow wywoalania - niepowodzenie
+            echo '<h2>Blad </h2><pre>' . $errors . '</pre>';
+        }
+        // wywo³anie metody
+        $response = $client->call('doLogin',$parameters);
+
+        // sprawdz
+        if(!empty($response['session-handle-part'])) {
+            $allegro=$response;
+            $sess->register("allegro",$allegro);
+            return true;
+        } else {
+            print "<font color=red>";
+           	print "<b>Problem z zalogowaniem siê do systemu Allegro. Upewnij siê, ¿e masz za³o¿one konto w systmie Allegro.</b>";
+            print "</font>";
+        	return false;
+        }
+    } // end func Login
+
+    /**
+     * Wylogowanie z allegro ( skasowanie z sesji sklepu danych zwiazanych z allegro )
+     *
+     * @return boolean true/false
+     */
+    function Logout()
+    {
+        global $sess;
+        $sess->unregister("allegro");
+        return true;
+    } // end func Logout
+
+    /**
+     * Funkcja konwertujaca string z standardu utf-8 na iso-8859-2
+     *
+     * @param  string $string  ciag znakow,
+     *
+     * @return string $string  ciag znakow po konwersji
+     */
+    function & utf8_to_8859(&$string) {
+        $decode=array(
+        "\xC4\x84"=>"\xA1",
+        "\xC4\x85"=>"\xB1",
+        "\xC4\x86"=>"\xC6",
+        "\xC4\x87"=>"\xE6",
+        "\xC4\x98"=>"\xCA",
+        "\xC4\x99"=>"\xEA",
+        "\xC5\x81"=>"\xA3",
+        "\xC5\x82"=>"\xB3",
+        "\xC5\x83"=>"\xD1",
+        "\xC5\x84"=>"\xF1",
+        "\xC3\x93"=>"\xD3",
+        "\xC3\xB3"=>"\xF3",
+        "\xC5\x9A"=>"\xA6",
+        "\xC5\x9B"=>"\xB6",
+        "\xC5\xB9"=>"\xAC",
+        "\xC5\xBA"=>"\xBC",
+        "\xC5\xBB"=>"\xAF",
+        "\xC5\xBC"=>"\xBF"
+        );
+
+        $string = strtr("$string",$decode);
+        return $string;
+    } // end func utf8_to_8859
+
+    /**
+     * Funkcja konwertujaca string z standardu iso-8859-2 na utf-8
+     *
+     * @param  string $string  ciag znakow,
+     *
+     * @return string $string  ciag znakow po konwersji
+     */
+    function & iso8859_to_utf8(&$string) {
+        $decode=array(
+        "\xA1" => "\xC4\x84",
+        "\xB1" => "\xC4\x85",
+        "\xC6" => "\xC4\x86",
+        "\xE6" => "\xC4\x87",
+        "\xCA" => "\xC4\x98",
+        "\xEA" => "\xC4\x99",
+        "\xA3" => "\xC5\x81",
+        "\xB3" => "\xC5\x82",
+        "\xD1" => "\xC5\x83",
+        "\xF1" => "\xC5\x84",
+        "\xD3" => "\xC3\x93",
+        "\xF3" => "\xC3\xB3",
+        "\xA6" => "\xC5\x9A",
+        "\xB6" => "\xC5\x9B",
+        "\xAC" => "\xC5\xB9",
+        "\xBC" => "\xC5\xBA",
+        "\xAF" => "\xC5\xBB",
+        "\xBF" => "\xC5\xBC",
+        );
+        $string = strtr("$string",$decode);
+        return $string;
+    } // end func encoding_iso8859_2_to_utf8
+
+    /**
+     * Funkcja preparuje liste podkategorii dla kategorii g³ównej
+     *
+     * @param unknown $cat
+     */
+    function & prepareSubCat($cat,$default='')
+    {
+        global $database;
+        $str='';
+        $data1=$database->sql_select_data_array("cat_id","cat_name","allegro_cat","cat_parent=$cat");
+        foreach($data1 as $key1=>$value1) {
+            $count1=$database->sql_select("count(*)","allegro_cat","cat_parent=".$key1);
+            if($count1) {
+                $data2=$database->sql_select_data_array("cat_id","cat_name","allegro_cat","cat_parent=$key1");
+                foreach($data2 as $key2=>$value2) {
+                    $count2=$database->sql_select("count(*)","allegro_cat","cat_parent=".$key2);
+                    if($count2) {
+                        $data3=$database->sql_select_data_array("cat_id","cat_name","allegro_cat","cat_parent=$key2");
+                        foreach($data3 as $key3=>$value3) {
+                            $count3=$database->sql_select("count(*)","allegro_cat","cat_parent=".$key3);
+                            if($count3) {
+                                $data4=$database->sql_select_data_array("cat_id","cat_name","allegro_cat","cat_parent=$key3");
+                                foreach($data4 as $key4=>$value4) {
+                                    $count4=$database->sql_select("count(*)","allegro_cat","cat_parent=".$key4);
+                                    if($count4) {
+                                        $data5=$database->sql_select_data_array("cat_id","cat_name","allegro_cat","cat_parent=$key4");
+                                        foreach($data5 as $key5=>$value5) {
+                                            $count5=$database->sql_select("count(*)","allegro_cat","cat_parent=".$key5);
+                                            if($count5) {
+                                            } else {
+                                                if($default == $key5) $checked=" selected"; else $checked="";
+                                                $str.="<option  value=\"".$key5."\"".@$checked.">".$value1." >> ".$value2." >> ".$value3." >> ".$value4." >> ".$value5."</option>\n";
+                                            }
+                                        }
+                                    } else {
+                                        if($default == $key4) $checked=" selected"; else $checked="";
+                                        $str.="<option  value=\"".$key4."\"".@$checked.">".$value1." >> ".$value2." >> ".$value3." >> ".$value4."</option>\n";
+                                    }
+                                }
+                            } else {
+                                if($default == $key3) $checked=" selected"; else $checked="";
+                                $str.="<option  value=\"".@$key3."\"".@$checked.">".@$value1." >> ".@$value2." >> ".@$value3."</option>\n";
+                            }
+                        }
+                    } else {
+                        if($default == $key2) $checked=" selected"; else $checked="";
+                        $str.="<option  value=\"".@$key2."\"".@$checked.">".@$value1." >> ".@$value2."</option>\n";
+                    }
+                }
+            } else {
+                if($default == $key1) $checked=" selected"; else $checked="";
+                $str.="<option  value=\"".$key1."\"".@$checked.">".$value1."</option>\n";
+            }
+        }
+        return $str;
+    } // end func prepareSubCat
+
+    /**
+     * Funkcja buduje liste kategorii 
+     *
+     * @return string $str lista rozwiajana z aktywnymi kategoriami
+     */
+    function buildTree($default='')
+    {
+        global $allegro_config;
+        $str='<select class=form name="item[allegro_category]" size="1"><option value="default">----wybierz----</option>'."\n";
+        foreach($allegro_config->allegro_category as $key=>$value) {
+            $str.=$this->prepareSubCat($value,$default);
+        }
+        $str.="</select>\n";
+        return $str;
+    } // end func buildTree
+
+    /**
+     * Preparujemy aukcje dla okreslonego user_id
+     *
+     * @param string user_id
+     *
+     * @return array $param  tablica zawierajace wszytkie potrzebne paramtry do wystawienia aukcji
+     */
+    function & prepareAuction($user_id)
+    {
+        global $database;
+        global $allegro_config;
+        $data=$database->sql_select_multi_array4("*","allegro_auctions","user_id=".$user_id);
+
+        $param=array();
+        // tytul aukcji
+        $param[0]=array('fid'=>1,
+        'fvalue-string'=>$this->iso8859_to_utf8($data[0]['allegro_product_name']),
+        'fvalue-int'=>'','fvalue-float'=>'','fvalue-image'=>'','fvalue-text'=>'','fvalue-datetime'=>'','fvalue-boolean'=>'');
+
+        $param[1]=array('fid'=>2,'fvalue-string'=>'',
+        'fvalue-int'=>$data[0]['allegro_category'],
+        'fvalue-float'=>'','fvalue-image'=>'','fvalue-text'=>'','fvalue-datetime'=>'','fvalue-boolean'=>'');
+
+        $param[2]=array('fid'=>3,'fvalue-string'=>'','fvalue-int'=>'','fvalue-float'=>'','fvalue-image'=>'','fvalue-text'=>'',
+        'fvalue-datetime'=>time(),
+        'fvalue-boolean'=>'');
+
+        $param[3]=array('fid'=>4,'fvalue-string'=>'',
+        'fvalue-int'=>$data[0]['allegro_how_long'],
+        'fvalue-float'=>'','fvalue-image'=>'','fvalue-text'=>'','fvalue-datetime'=>'','fvalue-boolean'=>'');
+
+        $param[4]=array('fid'=>5,'fvalue-string'=>'',
+        'fvalue-int'=>$data[0]['allegro_stock'],
+        'fvalue-float'=>'','fvalue-image'=>'','fvalue-text'=>'','fvalue-datetime'=>'','fvalue-boolean'=>'');
+
+        $param[5]=array('fid'=>6,'fvalue-string'=>'','fvalue-int'=>'',
+        'fvalue-float'=>$data[0]['allegro_price_start'],
+        'fvalue-image'=>'','fvalue-text'=>'','fvalue-datetime'=>'','fvalue-boolean'=>'');
+
+        $param[6]=array('fid'=>7,'fvalue-string'=>'','fvalue-int'=>'',
+        'fvalue-float'=>$data[0]['allegro_price_min'],
+        'fvalue-image'=>'','fvalue-text'=>'','fvalue-datetime'=>'','fvalue-boolean'=>'');
+
+        $param[7]=array('fid'=>8,'fvalue-string'=>'','fvalue-int'=>'',
+        'fvalue-float'=>$data[0]['allegro_price_buy_now'],
+        'fvalue-image'=>'','fvalue-text'=>'','fvalue-datetime'=>'','fvalue-boolean'=>'');
+
+        if($allegro_config->allegro_mode == 'true') {
+            $param[8]=array('fid'=>9, 'fvalue-string'=>'',
+            'fvalue-int'=>$allegro_config->allegro_country_code,
+            'fvalue-float'=>'', 'fvalue-image'=>'', 'fvalue-text'=>'','fvalue-datetime'=>'', 'fvalue-boolean'=>'');
+        } else {
+            $param[8]=array('fid'=>9, 'fvalue-string'=>'',
+            'fvalue-int'=>$allegro_config->allegro_country_code_test,
+            'fvalue-float'=>'', 'fvalue-image'=>'', 'fvalue-text'=>'','fvalue-datetime'=>'', 'fvalue-boolean'=>'');
+        }
+
+        $param[9]=array('fid'=>10, 'fvalue-string'=>'',
+        'fvalue-int'=>$allegro_config->allegro_state_select,
+        'fvalue-float'=>'', 'fvalue-image'=>'', 'fvalue-text'=>'','fvalue-datetime'=>'', 'fvalue-boolean'=>'');
+
+        $param[10]=array('fid'=>11,
+        'fvalue-string'=>$this->iso8859_to_utf8($allegro_config->allegro_city),
+        'fvalue-int'=>'','fvalue-float'=>'', 'fvalue-image'=>'', 'fvalue-text'=>'','fvalue-datetime'=>'', 'fvalue-boolean'=>'');
+
+        $param[11]=array('fid'=>12, 'fvalue-string'=>'',
+        'fvalue-int'=>$data[0]['allegro_delivery_who_pay'],
+        'fvalue-float'=>'', 'fvalue-image'=>'', 'fvalue-text'=>'','fvalue-datetime'=>'', 'fvalue-boolean'=>'');
+
+        $param[12]=array('fid'=>13, 'fvalue-string'=>'',
+        'fvalue-int'=>1,
+        'fvalue-float'=>'', 'fvalue-image'=>'', 'fvalue-text'=>'','fvalue-datetime'=>'', 'fvalue-boolean'=>'');
+
+        $param[13]=array('fid'=>14, 'fvalue-string'=>'',
+        'fvalue-int'=>1,
+        'fvalue-float'=>'', 'fvalue-image'=>'', 'fvalue-text'=>'','fvalue-datetime'=>'', 'fvalue-boolean'=>'');
+
+        $param[14]=array('fid'=>15, 'fvalue-string'=>'',
+        'fvalue-int'=>1,
+        'fvalue-float'=>'', 'fvalue-image'=>'', 'fvalue-text'=>'','fvalue-datetime'=>'', 'fvalue-boolean'=>'');
+
+        $param[15]=array('fid'=>16, 'fvalue-string'=>'', 'fvalue-int'=>'','fvalue-float'=>'',
+        'fvalue-image'=>$this->preparePhoto($data[0]['allegro_photo']),
+        'fvalue-text'=>'', 'fvalue-datetime'=>'', 'fvalue-boolean'=>'');
+        $param[16]=array('fid'=>17, 'fvalue-string'=>'', 'fvalue-int'=>'','fvalue-float'=>'', 'fvalue-image'=>'', 'fvalue-text'=>'','fvalue-datetime'=>'', 'fvalue-boolean'=>'');
+        $param[17]=array('fid'=>18, 'fvalue-string'=>'', 'fvalue-int'=>'','fvalue-float'=>'', 'fvalue-image'=>'', 'fvalue-text'=>'','fvalue-datetime'=>'', 'fvalue-boolean'=>'');
+        $param[18]=array('fid'=>19, 'fvalue-string'=>'', 'fvalue-int'=>'','fvalue-float'=>'', 'fvalue-image'=>'', 'fvalue-text'=>'','fvalue-datetime'=>'', 'fvalue-boolean'=>'');
+        $param[19]=array('fid'=>20, 'fvalue-string'=>'', 'fvalue-int'=>'','fvalue-float'=>'', 'fvalue-image'=>'', 'fvalue-text'=>'','fvalue-datetime'=>'', 'fvalue-boolean'=>'');
+        $param[20]=array('fid'=>21, 'fvalue-string'=>'', 'fvalue-int'=>'','fvalue-float'=>'', 'fvalue-image'=>'', 'fvalue-text'=>'','fvalue-datetime'=>'', 'fvalue-boolean'=>'');
+        $param[21]=array('fid'=>22, 'fvalue-string'=>'', 'fvalue-int'=>'','fvalue-float'=>'', 'fvalue-image'=>'', 'fvalue-text'=>'','fvalue-datetime'=>'', 'fvalue-boolean'=>'');
+        $param[22]=array('fid'=>23, 'fvalue-string'=>'', 'fvalue-int'=>'','fvalue-float'=>'', 'fvalue-image'=>'', 'fvalue-text'=>'','fvalue-datetime'=>'', 'fvalue-boolean'=>'');
+
+        $param[23]=array('fid'=>24,
+        'fvalue-string'=>$this->iso8859_to_utf8($data[0]['allegro_product_description']),
+        'fvalue-int'=>'','fvalue-float'=>'', 'fvalue-image'=>'', 'fvalue-text'=>'','fvalue-datetime'=>'', 'fvalue-boolean'=>'');
+        if($this->debug) {
+            print "<pre>";
+            print_r($param);
+            print "</pre>";
+        }    
+        return $param;
+    } // end func prepareAuction
+
+    /**
+     * Wyslij aukcje na allegro
+     *
+     * @return array $tab
+     */
+    function sendAuctions($id)
+    {
+        global $database;
+        global $allegro_config;
+        global $_SESSION;
+        global $lang;
+        $user_id=$database->sql_select_array("user_id","allegro_auctions","user_id=".$id);
+
+        $client = new soapclient($allegro_config->allegro_server, true);
+        $client->decode_utf8=false;
+
+        foreach($user_id as $key=>$value) {
+            $data=$this->prepareAuction($value);
+            $parameters = array(
+            $_SESSION['allegro']['session-handle-part'],    // sesja z allegro
+            $data,                                          // dane w postaci tablicy
+            0,
+            0
+            );
+            // wywo³anie metody
+            $response = $client->call('doNewAuction',$parameters);
+            //echo '<pre>' . htmlspecialchars($client->request, ENT_QUOTES) . '</pre>';
+            if(!empty($response['faultcode'])) {
+                print "<font color=red>";
+                print $lang->allegro_error_auction['problem'].$value."<br>";
+                print $lang->allegro_error_auction['type_error'].$this->utf8_to_8859($response['faultstring'])."<br><br>";
+                print "</font>";
+            } else {
+                if(!empty($response['item-id'])) {
+                    print $lang->set_auction['ok'].$value."<br>";
+                    print $lang->set_auction['number'].$response['item-id']."<br>";
+                    if($allegro_config->allegro_mode == 'true') {
+                        print $lang->set_auction['url']."<a href=\"http://www.allegro.pl/show_item.php?item=".$response['item-id']."\" target=\"window\"><u>http://www.allegro.pl/show_item.php?item=".$response['item-id']."</u></a><br><br>";
+                    } else {
+                        print $lang->set_auction['url']."<a href=\"http://www.testwebapi.pl/show_item.php?item=".$response['item-id']."\" target=\"window\"><u>http://www.testwebapi.pl/show_item.php?item=".$response['item-id']."</u></a><br><br>";
+                    }
+                    $database->sql_update("allegro_auctions","user_id=".$value,array(
+                    "allegro_number"=>$response['item-id'],
+                    ));
+                }
+            }
+        }
+        return true;
+    } // end func sendAuctions
+
+    /**
+     * Zakodowanie pliku fotografii
+     *
+     * @param string $name nazwa fotografii
+     *
+     * @return string $encoded zakodowany obrazek
+     */
+    function & preparePhoto($name)
+    {
+        global $DOCUMENT_ROOT;
+        global $config;
+
+        $path="http://".$config->www."/photo/".$name;
+        if(preg_match("/soteesklep3/",$path)) {
+        	print "<font color=red>Ustaw prawid³owy adres sklepu w zak³adce \"Dane sprzedawcy. Adres sklepu\"</font><br>";
+        }
+        $file='';
+        if($fd = fopen($path, "rb")) {
+            while (!feof($fd)) {
+                $file .= fread($fd, 8192);
+            }
+            $encoded = base64_encode($file);
+            fclose($fd);
+            return $encoded;
+        } else {
+            print "<font color=red>Problem z do³±czeniem zdjeciem</font><br>";
+            return false;
+        }
+    } // end func preparePhoto
+} // end class Allegro
+?>
\ No newline at end of file
diff -ruN ../soteesklep3/admin/include/ftp.inc.php soteesklep3/admin/include/ftp.inc.php
--- ../soteesklep3/admin/include/ftp.inc.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/admin/include/ftp.inc.php	2006-06-30 14:11:09.000000000 +0200
@@ -0,0 +1,367 @@
+<?php
+/**
+ * Obsluga polaczenia FTP
+ *
+ * @author m@sote.pl
+ * @version $Id: ftp.inc.php,v 2.30 2006/05/24 13:38:14 lukasz Exp $
+* @package    admin_include
+ */
+
+// obsluga kodowania + klucze
+include_once ("include/keys.inc.php"); global $__key,$__secure_key;
+require_once ("include/my_crypt.inc");
+$my_crypt = new MyCrypt;
+
+class FTP {
+    //var $chmod="644";     // domyslne uprawnienia plikow
+    var $ftp_user;          // login konta FTP, jest ustawiony, jesli jest inny niz aktualnie zapisany w bazie
+    var $ftp_password;      // haslo dostepu do FTP, jw.
+
+    /**
+     * Sprawdz czy PHP ma wkompilowana obsluge FTP
+     */
+    function test_php(){
+        global $debug;
+
+        if (! function_exists('ftp_connect'))
+        $debug->error("ftp_nomodule","FTP",-2);
+        return;
+    } // end test_php()
+
+    /**
+     * Odczytaj haslo z tablicy $config->ftp i odkoduj je
+     */
+    function get_decrypt_password() {
+        global $db;
+        global $config,$my_crypt;
+        global $__secure_key;
+
+        // odkoduj zakodowane haslo dostepu do FTP
+        $decode=$my_crypt->endecrypt($__secure_key, $config->ftp['ftp_password'], "de");
+        $this->ftp_password=$decode;
+
+        return;
+    } // end get_decrypt_password()
+
+    /**
+     * Otworz polaczenie FTP
+     *
+     * @param  string $auto "yes" - automatycznie pobierz haslo z tablicy $config->ftp
+     * @returm bool   true udalo sie polaczyc z serwerem FTP, false w p. w.
+     */
+    function connect($auto="yes"){
+        global $config;
+        global $debug;
+
+        // lacz sie tylko raz
+        if (! empty($this->conn_id)) return true;
+
+        if (@$config->demo=="yes") return true;
+
+        // pobierz haslo z bazy danych i zdekoduj je
+        if ($auto=="yes") {
+            $this->get_decrypt_password();
+        }
+
+        if (! empty($this->conn_id)) return;  // jest juz 1 polaczenie
+        $this->test_php();
+
+        if (empty($this->ftp_host)) {
+            if (! empty($config->ftp['ftp_host'])) {
+                $this->ftp_host=$config->ftp['ftp_host'];
+            }
+        }
+
+        if (empty($this->ftp_user)) {
+            if (! empty($config->ftp['ftp_user'])) {
+                $this->ftp_user=$config->ftp['ftp_user'];
+            }
+        }
+
+        if (empty($this->ftp_password)) {
+            if (! empty($config->ftp['ftp_password'])) {
+                $this->ftp_password=$config->ftp['ftp_password'];
+            }
+        }
+
+        $this->conn_id = ftp_connect($this->ftp_host);
+        $login_result = ftp_login($this->conn_id,"$this->ftp_user","$this->ftp_password");
+        if (! $this->conn_id) {
+            // serwer FTP nie odpowiada
+            $this->_go2ftp();
+            die();
+        }
+        if (! $login_result)  {
+            // nie udalo sie zalogowac przez FTP, wprowadz nowe dane do FTP
+            $this->_go2ftp();
+            die();
+        }
+
+        return true;
+    } // end connect()
+
+    /**
+    * Przekieruj usera na strone, gdzie podawane sa dane dop FTP
+    *
+    * @access private()
+    * @return none
+    */
+    function _go2ftp() {
+        global $sess,$config,$lang;
+
+        print $lang->ftp_go2newpass."<p>";
+        print "<button onclick=\"if(window.opener) window.opener.location.href='/setup/ftp.php'; else window.location.href='/setup/ftp.php';\">$lang->ftp_new_password</button>";
+        die();
+    } // end _go2ftp()
+
+    /**
+     * Zamknij polaczenie FTP
+     */
+    function close() {
+        global $config;
+
+        if (@$config->demo=="yes") return true;
+
+        if (empty($this->conn_id)) return false;
+        $this->conn_id='';
+
+        @ftp_quit($this->conn_id);
+        return true;
+    } // end close()
+
+    /**
+     * Wrzuc plik na serwer
+     *
+     * @param string $local      plik lokalny
+     * @param string $remote_dir katalog zdalny
+     * @param string @remote     plik zdalny
+     * @param string $chmod      uprawnienia tworzonego pliku
+     */
+    function put($local,$remote_dir,$remote,$chmod="0644"){
+        global $debug;
+        global $config;
+        global $lang;
+
+        //print "local==".$local."<br>";
+        //print "remote_dir==".$remote_dir."<br>";
+        //print "remote==".$remote."<br>";
+
+
+        if (empty($local)) {
+            print ($lang->ftp_upload_error." ".ini_get("upload_max_filesize").")");
+            return false;
+        }
+
+        if (@$config->demo=="yes") return true;
+
+        if (! $this->chdir($remote_dir)) {
+            $debug->error("ftp_put","FTP",-2);
+        }
+
+        ftp_chdir($this->conn_id,$remote_dir);
+
+        if (! ftp_put($this->conn_id,$remote,$local,FTP_BINARY)) {
+            $debug->error("ftp_put","FTP",-2);
+        }
+
+        if(ftp_size($this->conn_id,$remote)==0) {
+            for($i=0;$i<5;$i++) {
+                if (! ftp_put($this->conn_id,$remote,$local,FTP_BINARY)) {
+                    $debug->error("ftp_put","FTP",-2);
+                }
+                if(ftp_size($this->conn_id,$remote)!=0) break;
+            }
+            // jesli sprobowano 5 razy i nie udalo sie przerzucic pliku
+            // wypisz odpowiedni komunikat
+            if($i == 5 && !filesize($local)==0) {
+                print $lang->ftp_upload_count_error."<br>";
+                print $lang->ftp_upload_info." ".$local." ".$remote_dir."/".$remote."<br>";
+                return false;
+                // przeprowadzono piec prob przeslania pliku i wszystkie sie nie powiodly
+            }
+        }
+
+        // zmien prawa
+        $this->chmod($remote_dir."/$remote",$chmod);
+
+        // skasuj plik tymczasowy
+        if (ereg("admin\/tmp",$local)) {
+            @unlink($local);
+        }
+
+        return true;
+    } // end put()
+
+    /**
+     * Zmien nazwe pliku/katalogu
+     *
+     * @param string $remote_dir katalog zdalny
+     * @param string $from       nazwa zmienianego pliku/katalogu
+     * @param string $to         nowa nazwa pliku/katalogu
+     */
+    function rename($remote_dir,$from,$to) {
+        global $config;
+
+        if (@$config->demo=="yes") return true;
+
+        if (! ftp_chdir($this->conn_id, $this->realPath($remote_dir))) {
+            $debug->error("ftp_put","FTP",-2);
+        }
+        if (! ftp_rename($this->conn_id,$from,$to)) {
+            $debug->error("ftp_rename","FTP",-2);
+        }
+    } // end rename()
+
+    /**
+     * Zaloz katalog
+     * 
+     * @param string $remote_dir katalog
+     * @param string $chmod      uprawniania tworzonego katalogu
+     */
+    function mkdir($remote_dir,$chmod="711",$i=1) {
+        global $debug;
+        global $config;
+
+        if (@$config->demo=="yes") return true;
+
+        if (! @ftp_chdir($this->conn_id,$this->realPath($remote_dir))) {
+            // nie ma katalogu, zakladamy katog
+            $up_remote_dir=dirname($remote_dir);
+            if (ftp_chdir($this->conn_id,$this->realPath($up_remote_dir))) {
+                ftp_mkdir($this->conn_id,$remote_dir);
+                return true;
+            } else {
+                $this->mkdir($up_remote_dir);
+                $this->mkdir($remote_dir);
+                return true;
+            }
+
+            /*
+            if (! ftp_mkdir($this->conn_id,$remote_dir)) {
+            if ($i<8) {
+            $remote_dir=dirname($remote_dir);
+            print "i=$i remote_dir=$remote_dir <br/>\n";
+            $this->mkdir($remote_dir,$i++);
+            ftp_mkdir($this->conn_id,$remote_dir);
+            return true;
+            } else {
+            $debug->error("ftp_mkdir","FTP",1);
+            }
+            }
+            */
+        } else {
+            // wskazany katalog ju¿ istniejue, OK
+        }
+
+        // zmien prawa
+        $this->chmod($remote_dir,$chmod);
+
+        return true;
+    } // end mkdir()
+
+    /**
+     * Zmien uprawnienia pliku/katalogu
+     *
+     * @param string $file  plik/katalog
+     * @param string $chmos prawa np. 0711
+     */
+    function chmod($file,$chmod="0644") {
+        return;
+        // zmien prawa
+        if (! ftp_exec($this->conn_id, "chmod $chmod $file")) {
+            $debug->error("ftp_chmod","FTP",-2);
+        }
+        return;
+    } // end chmod
+
+    /**
+     * Skasuj plik
+     * 
+     * @param string $remote_dir katalog zdalny
+     * @param string $remote plik zdalny
+     */
+    function delete($remote_dir,$remote) {
+        global $debug;
+        global $config;
+
+        //        print "DELETE";
+
+        if (@$config->demo=="yes") return true;
+
+        //        print "remote_dir=$remote_dir $remote=$remote <BR>";
+
+        if (! ftp_delete($this->conn_id,$remote_dir."/".$remote)) {
+            $debug->error("ftp_delete","FTP",1);
+        }
+        return;
+    }
+
+    /**
+     * Wylistuj pliki w danym katalogu
+     * 
+     * @param string $remote_dir katalog zdalny
+     *
+     * retrun array list plików
+     */
+    function nlist($remote_dir) {
+        global $debug;
+        global $config;
+
+        if (@$config->demo=="yes") return true;
+
+        if (!($data=@ftp_nlist($this->conn_id,$remote_dir))) {
+            $debug->error("ftp_delete","FTP",1);
+        }
+        return $data;
+    } // end nlist
+
+    /**
+     * Zmien katalog
+     * 
+     * @param string $remote_dir katalog zdalny
+     */
+    function chdir($remote_dir) {
+        global $debug;
+        global $config;
+
+        if (@$config->demo=="yes") return true;
+        if (! ftp_chdir($this->conn_id, $this->realPath($remote_dir))) {
+            if (! $this->mkdir($remote_dir)) {
+                return false;
+            }
+        }
+        return true;
+    } // end chdir
+
+    /**
+    * Skróæ ¶cie¿kê, tj wyeliminuj powtarzaj±ce siê wywo³ania np. soteesklep3/../soteesklep itp.
+    *
+    * @param string $path ¶cie¿ka w dowolnym formacie
+    * @param string ¶cie¿ka w formacie, bez ".."
+    */
+    function realPath($path) {
+        $tab=split("/",$path);
+        $real_path=array();
+        $i=0;
+        foreach ($tab as $dir) {
+            if ($dir!="..") {
+                $real_path[$i]=$dir;
+                $i++;
+            } else {
+                $i--;
+            }
+        }
+        reset($real_path);$new_dir='';
+        foreach ($real_path as $dir) {
+            $new_dir.="/".$dir;
+        }
+
+        return $new_dir;
+    } // path()
+
+} // end class FTP
+
+$ftp = new FTP;
+// przypisanie dla zachowania zgodnosci ze starym systemem przechowywania informacji o katalogu FTP programu
+$config->ftp_dir=$config->ftp['ftp_dir'];
+?>
diff -ruN ../soteesklep3/admin/include/set_icons.inc.php soteesklep3/admin/include/set_icons.inc.php
--- ../soteesklep3/admin/include/set_icons.inc.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/admin/include/set_icons.inc.php	2006-06-30 14:11:09.000000000 +0200
@@ -0,0 +1,192 @@
+<?php
+/**
+* Utworz tabele z aktywnymi ikonkami dot. funkcji i sklepu i systemow platnosci
+*
+* @author  m@sote.pl
+* @version $Id: set_icons.inc.php,v 2.33 2006/05/26 08:29:34 krzys Exp $
+* @package    admin_include
+*/
+
+class SetIcons {
+    
+    /**
+    * Dodaj ikone do tablicy, jesli user posiada odpowiednie uprawnienia
+    *
+    * @param addr   $tab  tablica z ikonkami
+    * @param string $img  nazwa pliku graf. ikonki
+    * @param string $link link do ktorego prowadzi ikonka
+    * @param string $text opis ikonki
+    *
+    * @return bool  true element zostal dodany do tablicy, false w p.w.
+    */
+    function add(&$tab,$img,$link,$text) {
+        global $permf,$theme;
+        
+        // sprawdz uprawnienia uzytkwonika
+        if (! $permf->check_link($link)) return;
+        
+        $icon=$theme->icon($img,$link,$text);
+        array_push($tab,$icon);
+        
+        return true;
+    } // end add()
+    
+    /**
+    * Generuj tablice z zaktywnymi ikonkami glownymi panelu
+    *
+    * @return array tablica z kodem wyswietlania komorek zawierajacych ikonki
+    */
+    function main() {
+        global $config,$lang,$theme;
+        
+        // wyswietl desktop z ikonkami
+        $icons=array();         // tabela z ikonkami, ktore beda wyswietlane
+        
+        $this->add($icons,"edit.png","/go/_wysiwyg/index.php",$lang->icons['text']);
+        $this->add($icons,"newsedit.png","/plugins/_newsedit/index.php",$lang->icons['newsedit']);
+        $this->add($icons,"offline.gif","/go/_offline/_main/index.php",$lang->icons['offline']);
+        $this->add($icons,"opti.png","/go/_opt/index.php",$lang->icons['opt']);
+        $this->add($icons,"clients.png","/go/_users/index.php",$lang->icons['customers']);
+        $this->add($icons,"trans.gif","/go/_order/index.php",$lang->icons['orders']);
+        $this->add($icons,"deliver.png","/go/_options/_delivery/index.php",$lang->icons['delivery']);
+        
+        if (in_array("newsletter",$config->plugins)) {
+            if($config->nccp=="0x01f4")
+                $this->add($icons,"lang.gif","/go/_lang_editor/index.php",$lang->icons["lang"]);
+            else
+                $this->add($icons,"lang.gif","/plugins/_dictionary/index.php",$lang->icons["lang"]);
+        }
+        
+        $this->add($icons,"aable.gif","/go/_options/_available/",$lang->icons['availability']);
+        
+        if (in_array("currency",$config->plugins)) {
+            $this->add($icons,"course.gif","/plugins/_currency/",$lang->icons['currency']);
+        }
+        
+        if (in_array("newsletter",$config->plugins)) {
+            $this->add($icons,"news.gif","/plugins/_newsletter/_users/index.php",$lang->icons['newsletter']);
+        }
+        
+        if (in_array("discounts",$config->plugins)) {
+            $this->add($icons,"discount.png","/plugins/_discounts/index.php",$lang->icons['discounts']);
+        }
+        
+        $this->add($icons,"recommend.png","/plugins/_reviews/index.php",$lang->icons['reviews']);
+        $this->add($icons,"partners.png","/plugins/_partners/index.php",$lang->icons['partners']);
+        
+        if (in_array("sales",$config->plugins)) {
+            $this->add($icons,"sales.png","/plugins/_sales/index.php",$lang->icons['merchants']);
+        } else {
+            $this->add($icons,"vat.png","/go/_options/_vat/index.php",$lang->icons["vat"]);
+        }
+        
+        if (in_array("stats_pro",$config->plugins)) {
+            $this->add($icons,"stats.gif","/go/_report/index.php",$lang->icons['stats']);
+        }
+        
+        if (in_array("main_keys",$config->plugins)) {
+            $this->add($icons,"keys.png","/plugins/_main_keys/index.php",$lang->icons['main_keys']);
+        }
+        
+        if (in_array("cd",$config->plugins)) {
+            $this->add($icons,"cd.png","/plugins/_cd/index.php",$lang->icons['cd']);
+        }
+        
+        $this->add($icons,"google.png","/go/_google/index.php",$lang->icons['google']);
+        
+        if (in_array("discounts",$config->plugins)) {
+            $this->add($icons,"promo.gif","/plugins/_promotions/index.php",$lang->icons['promotions']);
+            
+            $this->add($icons,"help.gif","/go/_help/index.php",$lang->icons['help']);
+        }
+        if ($config->admin_lang=="pl") {
+        $this->add($icons,"allegro.png","/plugins/_allegro/config.php",$lang->icons['allegro']);
+        }
+        return $icons;
+    } // end main()
+    
+    /**
+    * Generuj tablice z zaktywnymi ikonkami zwiazanymi z systemami platnosci, pasazami itp.
+    *
+    * @return array tablica z kodem wyswietlania komorek zawierajacych ikonki
+    */
+    function orders() {
+        global $config,$lang,$theme,$permf;
+        
+        $icons=array();
+        
+        if (! $permf->check("all")) return $icons;
+        
+        if (in_array("polcard",$config->plugins)) {
+            $this->add($icons,"polcard.gif","/plugins/_pay/_polcard/index.php","PolCard:<br /> karty p³atnicze");
+        } else {
+            $this->add($icons,"l_polcard.jpg","#","PolCard");
+        }
+        
+        
+        if ($config->nccp==0x1388) {
+            @include_once ("config/auto_config/przelewy24_config.inc.php");
+            if (! empty($przelewy24_config)) {
+                $this->add($icons,"przelewy24.gif","/plugins/_pay/_przelewy24/index.php","Przelewy24:<br /> Inteligo, mBank, WBK, ...");
+            }
+        }
+
+        if ($config->nccp==0x1388) {
+            @include_once ("config/auto_config/platnosciPL_config.inc.php");
+            if (! empty($platnosciPL_config)) {
+                #$this->add($icons,"platnosci.png","/plugins/_pay/_platnosciPL/index.php","PlatnosciPL:<br /> MultiBank, mBank, BZWBK, ...");
+            }
+        }
+        
+        if (in_array("ecard",$config->plugins)) {
+            $this->add($icons,"ecard.png","#","eCard");
+        }
+        
+        if (in_array("mbank",$config->plugins)) {
+            $this->add($icons,"mbank.png","#","mBank");
+        }
+        
+        if (in_array("payu",$config->plugins)) {
+            $this->add($icons,"payu.png","#","PayU");
+        }
+        
+        if (in_array("inteligo",$config->plugins)) {
+            $this->add($icons,"inteligo.png","#","Inteligo");
+        }
+        
+        if (in_array("payback",$config->plugins)) {
+            $this->add($icons,"payback.png","#","PayBack.pl");
+        }
+        if (in_array("pasaz.onet.pl",$config->plugins)) {
+            $this->add($icons,"m_onet.gif","/plugins/_pasaz.onet.pl","Pasa¿ Onet");
+        }
+        if (in_array("pasaz.wp.pl",$config->plugins)) {
+            $this->add($icons,"wp.gif","/plugins/_pasaz.wp.pl","Pasa¿ WP");
+        } else {
+            //$this->add($icons,"l_wp.png","#","Pasa¿ WP");
+        }
+        if (in_array("pasaz.interia.pl",$config->plugins)){
+            $this->add($icons,"interia.gif","/plugins/_pasaz.interia.pl","Pasa¿ Interia.pl");
+        }
+        return $icons;
+        
+    } // end orders()
+    
+    /**
+    * Ustaw ikonky dot. platnosci zagranicznych
+    *
+    * @return array tablica z danymi ikon
+    */
+    function ordersEn() {
+        global $config,$lang,$theme,$permf;
+        $icons=array();
+        if (! $permf->check("all")) return $icons;
+        if ((in_array("paypal",$config->plugins)) && ($config->admin_lang!="pl")) {
+           $this->add($icons,"paypal_logo.png","/plugins/_pay/_paypal","PayPal.com");
+        }
+        return $icons;
+    } // end ordersEn()
+    
+}  // end class SetIcons
+
+?>
diff -ruN ../soteesklep3/admin/lang/_en/lang.inc.php soteesklep3/admin/lang/_en/lang.inc.php
--- ../soteesklep3/admin/lang/_en/lang.inc.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/admin/lang/_en/lang.inc.php	2006-06-30 14:11:10.000000000 +0200
@@ -0,0 +1,795 @@
+<?php
+$lang->yes="yes";
+$lang->no="no";
+$lang->or="or";
+$lang->installed="OK";
+$lang->not_installed="Not installed";
+$lang->required="Required";
+$lang->next="Next";
+$lang->more="more";
+$lang->reset="[_]";
+$lang->go=">";
+$lang->delete="delete";
+$lang->go2trash="delete";
+$lang->upload="Upload";
+$lang->lock="Lock";
+$lang->export="Export";
+$lang->save="Save";
+$lang->change="Change";
+$lang->time_execute="page generation time";
+$lang->set_language="Change language";
+$lang->search="Search";
+$lang->edit_submit="Update changes";
+$lang->update="Update";
+$lang->login="user";
+$lang->logout="Log out";
+$lang->choose="Choose";
+$lang->tips=array(
+                '0'=>"The best idea for e-commerce",
+                '1'=>"Protects your data",
+                '2'=>"Allows creating the shop aspect",
+                '3'=>"Complex solutions for e-commerce",
+                );
+$lang->netto="net";
+$lang->brutto="gross";
+$lang->trash="Remove";
+$lang->back="<< back";
+$lang->page="Page";
+$lang->records="Records";
+$lang->empty_list_message="No records";
+$lang->first="Beginning";
+$lang->edit_category="Edit category";
+$lang->info="Information";
+$lang->choose_language="Choose language";
+$lang->az="abcdefghijklmnoprstuvwwyz";
+$lang->transalate="Translate";
+$lang->edit_update_ok="Data has been updated";
+$lang->order_by=array(
+                'name'=>"Name",
+                'price'=>"Price",
+                'producer'=>"Producer",
+                'SCORE'=>"Matching",
+                'partner'=>"Partner",
+                'rake_off'=>"Commission",
+                'amount'=>"Amount",
+                );
+$lang->sort="Sort";
+$lang->producers="Producers";
+$lang->admin_top_menu=array(
+                'register'=>"Register licence (activate starting service panel)",
+                'merchant'=>"Salesperson data. Shop address",
+                'reports'=>"Reports",
+                'stats'=>"Statistics",
+                'themes'=>"Aspect editing",
+                'admin'=>"Administrator",
+                'configure'=>"Configuration",
+                );
+$lang->super_admin="super admin";
+$lang->admin_users=array(
+                'admin'=>"admin",
+                'normal'=>"normal",
+                );
+$lang->menu=array(
+                'add_product'=>"Add product",
+                'all_products'=>"All products",
+                'edit_category'=>"Edit categories",
+                );
+$lang->choose_category="Choose category";
+$lang->producer_select="Choose producer";
+$lang->and="and";
+$lang->all="All";
+$lang->search_date="Search according to date";
+$lang->search_from="from";
+$lang->search_to="to";
+$lang->search_submit="Search";
+$lang->title="SOTESHOP administration";
+$lang->bar_title=array(
+                'order'=>"Transaction management",
+                'order_edit'=>"Transaction number:",
+                'order_search'=>"Transaction search",
+                'xml_options'=>"Advanced options",
+                'users'=>"Customer data management",
+                'users_edit'=>"Customer data editing",
+                'users_order'=>"Customer order list",
+                'users_search'=>"Customer search",
+                'users_points'=>"Customer's points edition",
+                'category_all'=>"All products",
+                'points'=>"Point recalculation editing",
+                'currency'=>"Currencies",
+                'newsletter'=>"Newsletter",
+                'opt'=>"Optimization",
+                );
+$lang->plugins="Plugins";
+$lang->plugins_name=array(
+                'market'=>"Market",
+                'discounts'=>"Discounts",
+                'newsletter'=>"Newsletter",
+                'reviews'=>"Reviews",
+                'sales'=>"Merchants",
+                'synch'=>"Synchronization",
+                );
+$lang->check_version="check program upgrades";
+$lang->icons=array(
+				'plugins'=>"Plugins / Additions",
+                'text'=>"Text change",
+                'opt'=>"Optimization",
+                'customers'=>"Customers",
+                'orders'=>"Orders",
+                'delivery'=>"Delivery",
+                'availability'=>"Availability",
+                'currency'=>"Rate of currency exchange",
+                'discounts'=>"Discounts",
+                'reviews'=>"Reviews",
+                'merchants'=>"Merchants",
+                'options'=>"Plugins",
+                'newsedit'=>"Newsedit",
+                'vat'=>"VAT rates",
+                'lang'=>"Languages",
+                'stats_pro'=>"PRO statistics",
+                'stats'=>"Reports/Statistics",
+                'help'=>"Documentation",
+                'newsletter'=>"Newsletter",
+                'main_keys'=>"Code editing",
+                'cd'=>"CD version",
+                'promotions'=>"Promotions",
+                'offline'=>"Import/Export",
+                'partners'=>"Partners",
+                'docs'=>"Documentation",
+                'onet'=>"Onet Passage",
+                'wp'=>"WP Passage",
+                'dictionary'=>"Dynamic dictionary",
+                'language_versions'=>"Constant language definitions",
+                'help_management'=>"Help editing",
+                'lang_update'=>"Language import",
+                'configure'=>"Configuration",
+                'market'=>"Market",
+                'catalog_mode'=>"Catalog mode",
+                'ask4price'=>"Ask for price",
+                'platnoscipl'=>"Payments PL (PlatnosciPL)",
+				'google'=>"Google indexing",
+				'ceneo'=>"Ceneo.pl",
+				'assoc_rules'=>"Product recommendation",
+				'basket_wishlist'=>"Basket / Repository",
+                'allegro'=>"Allegro",
+                );
+$lang->main_version="Updating SOTESHOP version ";
+$lang->main_welcome="Welcome to the <b>SOTESHOP</b> management system. Enjoy your work.";
+$lang->head_update="SOTESHOP v3.x updating";
+$lang->order_list=array(
+                'date'=>"Date",
+                'status'=>"Status",
+                'amount'=>"Amount",
+                'paid'=>"Paid",
+                'payment'=>"Payment",
+                'paid_online'=>"Paid online",
+                'partner_name'=>"Partner",
+                'partner_rake_off'=>"Commission",
+                'payed_online'=>"Paid online",
+                'lang'=>"Language",
+                );
+$lang->delivery_list=array(
+                'id'=>"ID",
+                'name'=>"Name",
+                'nofee'=>"No fee from",
+                'brutto_price'=>"Gross price",
+                'order'=>"Order",
+                );
+$lang->groups_list=array(
+                'name'=>"Name",
+                'number'=>"Number of users",
+                );
+$lang->newsletter_list=array(
+                'email'=>"Email address",
+                'register_date'=>"Register date",
+                'status'=>"Status",
+                );
+$lang->bool=array(
+                '1'=>"yes",
+                '0'=>"no",
+                );
+$lang->cols=array(
+                'id'=>"ID",
+                'user_id'=>"User id",
+                'name'=>"Name",
+                'price_brutto'=>"Gross price",
+                'price_currency'=>"Price",
+                'vat'=>"VAT",
+                'price_brutto_detal'=>"Old price",
+                'price_brutto_2'=>"Wholesale gross price",
+                'price_2'=>"Wholesale price",
+                'producer'=>"Producer",
+                'category1'=>"Category 1",
+                'category2'=>"Category 2",
+                'category3'=>"Category 3",
+                'category4'=>"Category 4",
+                'category5'=>"Category 5",
+                'xml_options'=>"Options",
+                'photo'=>"Photo",
+                'xml_description'=>"Description",
+                'xml_short_description'=>"Short description",
+                'main_page'=>"Main page",
+                'newcol'=>"New product",
+                'promotion'=>"Promotion",
+                'bestseller'=>"Bestseller",
+                'id_available'=>"Availability",
+                'accessories'=>"Accessories",
+                'hidden_price'=>"Hide the price",
+                'ask4price'=>"Ask about the price",
+                'status_vat'=>"Sale without VAT",
+                'weight'=>"Weight",
+                'onet'=>"Export",
+                'onet_category'=>"Category id",
+                'onet_attr'=>"Onet attribute",
+                'discount'=>"Discount",
+                'max_discount'=>"Maximum discount",
+                'main_keys_online'=>"Online sale",
+                'active'=>"Active",
+                'category_multi_1'=>"Additional category 1 (Cat 1/Cat 2...)",
+                'category_multi_2'=>"Additional category 2",
+                 'points_value'=>"Value in points",
+                'points'=>"Product for points",
+                'sms'=>"Product for SMS",
+                );
+$lang->nccp_error="Product has been not added to database. Product number limit  exceeded.";
+$lang->upload_file="attach file";
+$lang->record_add="Record has been added";
+$lang->delete_empty="Basket is empty";
+$lang->delete_not_found="record on not found";
+$lang->deleted="deleted record";
+$lang->auth_www="WWW authorization, <br>database access";
+$lang->auth_www_error="Logging data different from database access data.";
+$lang->auth_ftp="FTP access<br>  ";
+$lang->server_ftp="FTP server";
+$lang->port_ftp="FTP port ";
+$lang->ftp_auth_ok="Authorization correct";
+$lang->password="password";
+$lang->password_old="enter old password";
+$lang->password_new="enter new password";
+$lang->password_confirm="confirm password";
+$lang->password_change="enter changes";
+$lang->auth_www_form_errors=array(
+                'login'=>"incorrect value",
+                'password_old'=>"incorrect value",
+                'password_new'=>"no password",
+                'password_confirm'=>"incorrect password repetition",
+                );
+$lang->opt_ok="Optimization finished";
+$lang->empty_main="No records";
+$lang->empty_trash="Delete <img src=/themes/base/base_theme/_img/trash.png width=15 height=15 border=0>";
+$lang->submit_upload_file="attach file";
+$lang->search_empty_query="Incorrect search string. Enter name of product you are looking for.";
+$lang->delivery_bar="Delivery costs management";
+$lang->delivery_menu=array(
+                'add'=>"New deliverer",
+                'list'=>"Deliverer list",
+                'zone'=>"Delivery zone",
+                'volume'=>"Volume",
+                'help'=>"Help",
+                'delivery'=>"Delivery",
+                'config'=>"Configuration",
+                );
+$lang->delivery_edit="Edit deliverer properties";
+$lang->delivery_cols=array(
+                'name'=>"deliverer name",
+                'order_by'=>"display order",
+                'price_brutto'=>"delivery costs",
+                'vat'=>"vat",
+                'free_from'=>"free delivery from",
+                'delivery_info'=>"additional information",
+                'delivery_zone'=>"Delivery cost in zones",
+                );
+$lang->delivery_edit_form_errors=array(
+                'name'=>"incorrect value",
+                'price_brutto'=>"incorrect value",
+                'vat'=>"incorrect value",
+                'free_from'=>"incorrect value",
+                );
+$lang->delivery_add_bar="Add new deliverer";
+$lang->newsletter_update_bar="User modification";
+$lang->newsletter_send="Newsletter sending";
+$lang->newsletter_search="Search";
+$lang->newsletter_menu=array(
+                'add'=>"Add address",
+                'edit'=>"Data editing",
+                'list'=>"User list",
+                'send'=>"Send newsletter",
+                'search'=>"Search",
+                );
+$lang->newsletter_cols=array(
+                'subject'=>"Subject",
+                'content'=>"Message",
+                'id'=>"id",
+                'email'=>"Email address",
+                'status'=>"Status",
+                'active'=>"Active",
+                'string'=>"Search",
+                );
+$lang->newsletter_form_errors=array(
+                'email'=>"No email address",
+                );
+$lang->offline="Off-line system";
+$lang->offline_update="Off-line updating: price list attachment";
+$lang->offline_status="Off-line updating: updating status";
+$lang->offline_example="Off-line updating: example files";
+$lang->offline_update_now="Off-line updating: data loading";
+$lang->offline_backup_bar="Database backup";
+$lang->order_status_bar="Order status";
+$lang->order_status_menu=array(
+                'add'=>"New status",
+                'list'=>"Status list",
+                'help'=>"Help",
+                );
+$lang->order_status_edit="Edit order status";
+$lang->order_status_cols=array(
+                'name'=>"Status name",
+                'user_id'=>"Id",
+                );
+$lang->order_status_edit_form_errors=array(
+                'name'=>"bad value",
+                'user_id'=>"bad value",
+                );
+$lang->order_status_add_bar="Add new status";
+$lang->partner_names=array(
+                'partner'=>"Onet Passage",
+                );
+$lang->onet_status=array(
+                'tak'=>"Register in Onet Passage",
+                'nie'=>"Do not register in Onet Passage",
+                'ok'=>"Approved",
+                );
+$lang->order_names=array(
+                'order_id'=>"order number",
+                'session_id'=>"session number",
+                'amount'=>"total order amount",
+                'delivery_cost'=>"delivery costs",
+                'id_currency'=>"currency",
+                'id_pay_method'=>"payment method",
+                'date_add'=>"date",
+                'time_add'=>"time",
+                'remote_ip'=>"Remote IP address",
+                'email'=>"e-mail",
+                'xml_description'=>"Order",
+                'id_user'=>"Customer id",
+                'xml_user'=>"Customer's details",
+                'name'=>"Customer",
+                'id_delivery'=>"Deliverer",
+                'id_status'=>"Status",
+                'confirm'=>"Payed",
+                'confirm_user'=>"Confirmed",
+                'description'=>"Additional information",
+                'status'=>"Status",
+                'checksum'=>"order checksum",
+                'send_date'=>"Package send date",
+                'send_number'=>"Package number",
+                'send_confirm'=>"Package was sent",
+                'onet_pasaz'=>"Register in Onet Pasaz",
+                );
+$lang->order_search=array(
+                'amount'=>"Total order amount",
+                'pay_method'=>"Payment method",
+                'confirm'=>"Confirmed payment",
+                'status'=>"Order status",
+                'order_id'=>"Order Id",
+                );
+$lang->order_basket=array(
+                'name'=>"product name",
+                'options'=>"options",
+                'user_id'=>"id",
+                'price_netto'=>"cena netto",
+                'vat'=>"VAT",
+                'num'=>"ilo¶æ",
+                'price_brutto'=>"cena brutto",
+                'sum'=>"suma",
+                );
+$lang->order_form_name=array(
+                'firm'=>"firma",
+                'name'=>"name",
+                'surname'=>"surname",
+                'street'=>"street",
+                'street_n1'=>"house number",
+                'street_n2'=>"flat number",
+                'postcode'=>"post code",
+                'city'=>"city",
+                'phone'=>"phone",
+                'email'=>"e-mail",
+                'nip'=>"nip",
+                'description'=>"remarks",
+                );
+$lang->order_billing="Customer data";
+$lang->order_cor="Delivery data";
+$lang->order_go2_users="Customer's details";
+$lang->send=array(
+                'subject'=>"subject",
+                'message'=>"message",
+                'submit'=>"Send message",
+                );
+$lang->points=array(
+                'title_edit'=>"number of points for every 100",
+                );
+$lang->points_category="Shopping for points";
+$lang->onet=array(
+                'category_list'=>"choose category",
+                );
+$lang->currency_menu=array(
+                'add'=>"Add currency",
+                'list'=>"Currency rates/Change",
+                'nbp'=>"NBP rates",
+                );
+$lang->currency_cols=array(
+                'id'=>"ID",
+                'currency_name'=>"Currency ",
+                'currency_val'=>"Rate ",
+                'date_update'=>"Date",
+                );
+$lang->currency_add_bar="Add currency";
+$lang->currency_update_bar="Rate of currency exchange/Modifications";
+$lang->currency_form_errors=array(
+                'currency_name'=>"no currency symbol/or currency symbol already exists in database",
+                'currency_val'=>"no rate of currency exchange/or wrong format",
+                );
+$lang->id="Id";
+$lang->add="Add";
+$lang->help="Help";
+$lang->new="new";
+$lang->close="Close";
+$lang->add_info="Additional information";
+$lang->lang="Language";
+$lang->select_all="all";
+$lang->welcome="Welcome";
+$lang->cancel="Cancel";
+$lang->change_img="<img
+src=/themes/base/base_theme/_icons/button_edit.png
+border=0 alt='Change'>";
+$lang->html="HTML";
+$lang->pdf="PDF";
+$lang->right_choose_layout="Choose panel aspect";
+$lang->hidden="hide";
+$lang->edit="edit";
+$lang->user_log_on="Logged in";
+$lang->wysiwyg_button="HTML editor";
+$lang->currency_nbp_bar="Present currency exchange rates according to the National Bank  of Poland";
+$lang->currency_nbp=array(
+                'welcome_text'=>"Display of currency exchange rate form",
+                'country'=>"Country",
+                'currency_name'=>"Currency name",
+                'currency_code'=>"Currency code",
+                'exchange'=>"Present exchange rate",
+                );
+$lang->opt_short_info="Category and producer optimization";
+$lang->pay_fraud=array(
+                '1'=>"Control sum is incorrect!!!",
+                '2'=>"Control sum of online payment acknowledgement is not correct!!!",
+                '10'=>"Accounts sum different from order sum",
+                '300'=>"Risk has not been checked",
+                '301'=>"Small risk",
+                '302'=>"High risk!",
+                '303'=>"Very high risk",
+                );
+$lang->pay_status=array(
+                '000'=>"Transaction is waiting for salesperson acknowledgement",
+                '001'=>"Transaction approved by salesperson for payment",
+                '002'=>"Transaction paid",
+                '010'=>"Transaction marked to be cancelled",
+                '050'=>"Rejected transaction",
+                '053'=>"Cancellation of transaction confirmed",
+                '054'=>"Return of means to customer confirmed",
+                '301'=>"Transaction sent to PolCard to be confirmed. Shop has not received confirmation (CFD) yet.",
+                '321'=>"This transaction is not present in PolCard system",
+                '324'=>"Transaction ready to be paid too late",
+                '325'=>"Sum higher than authorization sum",
+                '326'=>"Transaction has been already paid.",
+                '327'=>"attempt to acknowledge unpaid transaction as paid",
+                '328'=>"Sum below lower transaction limit",
+                '329'=>"Unknown transaction type (not Debit, not Credit), contact PolCard",
+                '330'=>"Incorrect payment calculation - no authorization date",
+                '350'=>"Incorrect transaction verification",
+                '351'=>"Transaction data is not correct - verify this transaction in PolCard",
+                '352'=>"Transaction rejected - it was ready to be paid too late",
+                '394'=>"Sum of transaction return during payment  calculation was different from transaction sum ",
+                '395'=>"Sum of transaction payment confirmation is different from transaction sum",
+                '396'=>"Error in PolCard system, contact PolCard",
+                '397'=>"Incorrect payment calculation - error in generating payment calculation file ",
+                '398'=>"Error in PolCard database",
+                '399'=>"Transaction has not been verified. Unidentified irreversible error",
+                );
+$lang->ftp_go2newpass="Unsuccessful connection with FTP account. Enter new password into FTP account";
+$lang->ftp_new_password="Enter new password";
+$lang->opt_short_buttons=array(
+                'category'=>"Category",
+                'producers'=>"Producer",
+                'category_producers'=>"Category and producer",
+                );
+$lang->foot_search_product="Show product (ID)";
+$lang->foot_search_order="Show order (ID)";
+$lang->translate="<img src=/themes/base/base_theme/_img/add2dict.png width=18 height=18 border=0>";
+$lang->no_item="no items";
+$lang->sum="sum";
+$lang->underline_diff="Expose the differences";
+$lang->real_propor="Show real proportions";
+$lang->country_user_def="Choose country";
+$lang->country=array(
+                'AF'=>"Afghanistan",
+                'AL'=>"Albania",
+                'DZ'=>"Algeria",
+                'AS'=>"American Somoa",
+                'AD'=>"Andorra",
+                'AO'=>"Angola",
+                'AI'=>"Anguilla",
+                'AQ'=>"Antartica",
+                'AG'=>"Antigua and Barbuda",
+                'AE'=>"Arab Emirates (United)",
+                'AR'=>"Argentina",
+                'AM'=>"Armenia",
+                'AW'=>"Aruba",
+                'AU'=>"Australia",
+                'AT'=>"Austria",
+                'AZ'=>"Azerbaidjan",
+                'BS'=>"Bahamas",
+                'BH'=>"Bahrain",
+                'BD'=>"Bangladesh",
+                'BB'=>"Barbados",
+                'BY'=>"Belarus",
+                'BE'=>"Belgium",
+                'BZ'=>"Belize",
+                'BJ'=>"Benin",
+                'BM'=>"Bermuda",
+                'BT'=>"Bhutan",
+                'IO'=>"British Indian Ocean Territory",
+                'BN'=>"Brunei Darussalam",
+                'BO'=>"Bolivia",
+                'BA'=>"Bosnia and Herzegovina",
+                'BV'=>"Bouvet Island",
+                'BW'=>"Botswana",
+                'BR'=>"Brazil",
+                'BF'=>"Bukina Faso",
+                'BG'=>"Bulgaria",
+                'BI'=>"Burndi",
+                'KH'=>"Cambodia, Kingdom of",
+                'CM'=>"Cameroon",
+                'CA'=>"Canada",
+                'CV'=>"Cape Verde",
+                'KY'=>"Cayman Islands",
+                'CF'=>"Central African Republic",
+                'TD'=>"Chad",
+                'CL'=>"Chile",
+                'CN'=>"China",
+                'CX'=>"Christmas Island",
+                'HR'=>"Croatia",
+                'CC'=>"Cocos Islands",
+                'CO'=>"Colombia",
+                'KM'=>"Comoros",
+                'CG'=>"Congo",
+                'CD'=>"Congo, The Democratic Republic of the",
+                'CR'=>"Costa Rica",
+                'CK'=>"Cook Islands",
+                'CU'=>"Cuba",
+                'CY'=>"Cyprus",
+                'CZ'=>"Czech Republic",
+                'DK'=>"Denmark",
+                'DJ'=>"Djibouti",
+                'DM'=>"Dominica",
+                'DO'=>"Dominican Republic",
+                'TP'=>"East Timor",
+                'EC'=>"Ecuador",
+                'EG'=>"Egypt",
+                'SV'=>"El Salvador",
+                'GQ'=>"Equatorial Guinea",
+                'ER'=>"Eritrea",
+                'EE'=>"Estonia",
+                'ET'=>"Ethiopia",
+                'FK'=>"Falkland Islands",
+                'FO'=>"Faroe Islands",
+                'FJ'=>"Fiji",
+                'FI'=>"Finland",
+                'FR'=>"France",
+                'FX'=>"France (European Territory)",
+                'GF'=>"French Guyana",
+                'TF'=>"French Southern Territories",
+                'GA'=>"Gabon",
+                'GM'=>"Gambia",
+                'DE'=>"Germany",
+                'GE'=>"Georgia",
+                'GH'=>"Ghana",
+                'GI'=>"Gibraltar",
+                'GB'=>"Great Britain",
+                'GR'=>"Greece",
+                'GL'=>"Greenland",
+                'GD'=>"Grenada",
+                'GP'=>"Guadeloupe (French)",
+                'GT'=>"Guatemala",
+                'GN'=>"Guinea",
+                'GU'=>"Guam (USA)",
+                'GW'=>"Guinea Bissau",
+                'GY'=>"Guyana",
+                'HT'=>"Haiti",
+                'HM'=>"Heard and Mcdonald Islands",
+                'HN'=>"Honduras",
+                'HK'=>"Hong Kong",
+                'HU'=>"Hungary",
+                'IS'=>"Iceland",
+                'IN'=>"India",
+                'ID'=>"Indonesia",
+                'IQ'=>"Iraq",
+                'IR'=>"Iran",
+                'IE'=>"Ireland",
+                'IL'=>"Israel",
+                'IT'=>"Italy",
+                'CI'=>"Ivory Coast",
+                'JM'=>"Jamaica",
+                'JP'=>"Japan",
+                'JO'=>"Jordan",
+                'KZ'=>"Kazakhstan",
+                'KE'=>"Kenya",
+                'KI'=>"Kiribati",
+                'KW'=>"Kuwait",
+                'KG'=>"Kyrgyz Republic (Kyrgyzstan)",
+                'LA'=>"Laos",
+                'LV'=>"Latvia",
+                'LB'=>"Lebanon",
+                'LS'=>"Lesotho",
+                'LR'=>"Liberia",
+                'LY'=>"Libya",
+                'LI'=>"Liechtenstein",
+                'LT'=>"Lithuania",
+                'LU'=>"Luxembourg",
+                'MO'=>"Macau",
+                'MK'=>"Macedonia",
+                'MG'=>"Madagascar",
+                'MY'=>"Malaysia",
+                'MW'=>"Malawi",
+                'MV'=>"Maldives",
+                'ML'=>"Mali",
+                'MT'=>"Malta",
+                'MH'=>"Marshall Islands",
+                'MR'=>"Mauritania",
+                'MU'=>"Mauritius",
+                'MQ'=>"Martinique (French)",
+                'YT'=>"Mayotte",
+                'MX'=>"Mexico",
+                'FM'=>"Micronesia",
+                'MD'=>"Moldavia",
+                'MC'=>"Monaco",
+                'MN'=>"Mongolia",
+                'MS'=>"Montserrat",
+                'MA'=>"Morocco",
+                'MZ'=>"Mozambique",
+                'MM'=>"Myanmar",
+                'NA'=>"Namibia",
+                'NR'=>"Nauru",
+                'NP'=>"Nepal",
+                'NI'=>"Nicaragua",
+                'NE'=>"Niger",
+                'NG'=>"Nigeria",
+                'NU'=>"Niue",
+                'NL'=>"Netherlands",
+                'AN'=>"Netherlands Antilles",
+                'NC'=>"New Caledonia",
+                'NZ'=>"New Zealand",
+                'NO'=>"Norway",
+                'KP'=>"North Korea",
+                'MP'=>"Northern Mariana Islands",
+                'OM'=>"Oman",
+                'PK'=>"Pakistan",
+                'PW'=>"Palau",
+                'PA'=>"Panama",
+                'PG'=>"Papua New Guinea",
+                'PY'=>"Paraguay",
+                'PE'=>"Peru",
+                'PH'=>"Philippines",
+                'PN'=>"Pitcairn Island",
+                'PL'=>"Poland",
+                'PF'=>"Polynesia (French)",
+                'PT'=>"Portugal",
+                'PR'=>"Puerto Rico",
+                'QA'=>"Qatar",
+                'RE'=>"Reunion",
+                'RO'=>"Romania",
+                'RU'=>"Russian Federation",
+                'RW'=>"Rwanda",
+                'GS'=>"S. Georgia and S. Sandwich Isls.",
+                'SH'=>"Saint Helena",
+                'KN'=>"Saint Kitts and Nevis Anguilla",
+                'LC'=>"Saint Lucia",
+                'PM'=>"Saint Pierre and Miquelon",
+                'ST'=>"Saint Tome and Principe",
+                'VC'=>"Saint Vincent and Grenadines",
+                'WS'=>"Samoa",
+                'SM'=>"San Marino",
+                'SA'=>"Saudi Arabia",
+                'SN'=>"Senegal",
+                'SC'=>"Seychelles",
+                'SL'=>"Sierra Leone",
+                'SG'=>"Singapore",
+                'SK'=>"Slovak Republic",
+                'SI'=>"Slovenia",
+                'SB'=>"Solomon Islands",
+                'ZA'=>"South Africa",
+                'KR'=>"South Korea",
+                'SO'=>"Somalia",
+                'ES'=>"Spain",
+                'LK'=>"Sri Lanka",
+                'SD'=>"Sudan",
+                'SR'=>"Suriname",
+                'SZ'=>"Swaziland",
+                'SE'=>"Sweden",
+                'CH'=>"Switzerland",
+                'SY'=>"Syria",
+                'TJ'=>"Tadjikistan",
+                'TW'=>"Taiwan",
+                'TZ'=>"Tanzania",
+                'TH'=>"Thailand",
+                'TG'=>"Togo",
+                'TK'=>"Tokelau",
+                'TO'=>"Tonga",
+                'TT'=>"Trinidad and Tobago",
+                'TN'=>"Tunisia",
+                'TR'=>"Turkey",
+                'TM'=>"Turkmenistan",
+                'TC'=>"Turks and Caicos Islands",
+                'TV'=>"Tuvalu",
+                'UG'=>"Uganda",
+                'UA'=>"Ukraine",
+                'US'=>"United States of America",
+                'UY'=>"Uruguay",
+                'UM'=>"Usa Minor Outlying Islands",
+                'UZ'=>"Uzbekistan",
+                'VU'=>"Vanuatu",
+                'VA'=>"Vatican City State(Holy See)",
+                'VE'=>"Venezuela",
+                'VN'=>"Vietnam",
+                'VG'=>"Virgin Islands (British)",
+                'VI'=>"Virgin Islands (USA)",
+                'WF'=>"Wallis and Futuna Islands",
+                'EH'=>"Western Sahara",
+                'YE'=>"Yemen",
+                'YU'=>"Yugoslavia",
+                'ZR'=>"Zaire",
+                'ZM'=>"Zambia",
+                'ZW'=>"Zimbabwe",
+                'NT'=>"Neutral Zone",
+                );
+$lang->advanced_search="Avanced search";
+$lang->products_from_category="Products from a selected category";
+$lang->ftp_upload_error="File wasn't uploaded (max:";
+$lang->pay_method=array(
+                '1'=>"Upon reciept",
+                '2'=>"eCard",
+                '3'=>"PolCard",
+                '4'=>"Inteligo",
+                '5'=>"mBank",
+                '6'=>"CitiConnect",
+                '7'=>"PayU",
+                '11'=>"Transfer",
+                '12'=>"Przelewy 24",
+                '20'=>"PlatnosciPL",
+                '21'=>"Allpay",
+                '101'=>"PayPal",
+                '110'=>"Platnosc karta",
+                );
+                
+$lang->admin_bottom_menu=array("polcard"=>"PolCard",
+                               "p24"=>"Przelewy24.pl",
+                               "pasaz.onet.pl"=>"Pasaz Onet",
+                               "pasaz.wp.pl"=>"Pasaz WP",
+                               "pasaz.interia.pl"=>"Pasaz Interia",
+                               "payments"=>"Platnosci",
+                               "ext_store"=>"Pasaze",
+                               );
+
+$lang->multi_shop=array("master"=>"Master",
+                        "slave"=>"Slave",
+                        "single"=>"Single",
+                        "multi_shop"=>"MultiShop",
+                        );
+
+$lang->ftp_upload_count_error="5 attempts to copy a file by ftp have been made";
+$lang->ftp_upload_info="The following file has to be copied manually";
+$lang->admin_bottom_menu=array("polcard"=>"PolCard",
+                               "p24"=>"Przelewy24.pl",
+                               "pasaz.onet.pl"=>"Pasa¿ Onet",
+                               "pasaz.wp.pl"=>"Pasa¿ WP",
+                               "pasaz.interia.pl"=>"Pasa¿ Interia",
+                               "payments"=>"P³atno¶ci",
+                               "ext_store"=>"Pasa¿e",
+                               );
+?>
\ No newline at end of file
diff -ruN ../soteesklep3/admin/plugins/_allegro/html/allegro_row.html.php soteesklep3/admin/plugins/_allegro/html/allegro_row.html.php
--- ../soteesklep3/admin/plugins/_allegro/html/allegro_row.html.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/admin/plugins/_allegro/html/allegro_row.html.php	2006-06-30 14:11:41.000000000 +0200
@@ -0,0 +1,30 @@
+<?php
+$onclick="onclick=\"open_window(425,525)\"";
+$id=$rec->data['id'];
+global $config,$lang;
+
+?>
+<tr>
+  <td><a href="/go/_edit/edit_allegro.php?user_id=<?php print $rec->data['user_id'];?>" target="window">
+    <?php print $rec->data['id'];?></a>
+  </td>
+   <td><a href="/go/_edit/edit_allegro.php?user_id=<?php print $rec->data['user_id'];?>" target="window"><u>
+     <?php print $rec->data['allegro_product_name'];?></u></a>
+    </td>
+   <td>
+   <?php print $rec->data['allegro_price_start']."&nbsp;".$config->currency;?>
+   </td>
+   <td align="center">
+   <?php print $rec->data['allegro_send'];?>
+   </td>
+   <td align="center">
+   <nobr><input type=checkbox name=send[<?php print $rec->data['user_id'];?>]><?php print $lang->allegro_send;?></nobr>
+   </td>
+   <td>
+   <nobr><input type=checkbox name=del[<?php print $id;?>]><?php print $lang->delete;?></nobr>
+   </td>
+</tr>
+
+<?php
+$theme->lastRow(6);
+?>
\ No newline at end of file
diff -ruN ../soteesklep3/admin/plugins/_allegro/html/allegro_row_list.html.php soteesklep3/admin/plugins/_allegro/html/allegro_row_list.html.php
--- ../soteesklep3/admin/plugins/_allegro/html/allegro_row_list.html.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/admin/plugins/_allegro/html/allegro_row_list.html.php	2006-06-30 14:11:41.000000000 +0200
@@ -0,0 +1,35 @@
+<?php
+$onclick="onclick=\"open_window(425,525)\"";
+$id=$rec->data['id'];
+global $config,$lang,$allegro_config;
+
+?>
+<tr>
+  <td><a href="/go/_edit/edit_allegro.php?user_id=<?php print $rec->data['user_id'];?>" target="window">
+    <?php print $rec->data['id'];?></a>
+  </td>
+   <td><a href="/go/_edit/edit_allegro.php?user_id=<?php print $rec->data['user_id'];?>" target="window"><u>
+     <?php print $rec->data['allegro_product_name'];?></u></a>
+    </td>
+   <td>
+   <?php print $rec->data['allegro_price_start']."&nbsp;".$config->currency;?>
+   </td>
+   <td align="center">
+   <?php print $rec->data['allegro_send'];?>
+   </td>
+   <td>
+   <?php 
+   if($rec->data['allegro_send'] == 'product') {
+       print "<a href=\"http://www.allegro.pl/show_item.php?item=".$rec->data['allegro_number']."\" target=window><u>".$rec->data['allegro_number']."</u></a>";
+   } else {
+       print "<a href=\"http:///www.testwebapi.pl/show_item.php?item=".$rec->data['allegro_number']."\" target=window><u>".$rec->data['allegro_number']."</u></a>";
+   }
+   ?>
+   </td>
+   <td>
+   <nobr><input type=checkbox name=del[<?php print $id;?>]><?php print $lang->delete;?></nobr>
+   </td>
+   </tr>
+<?php
+$theme->lastRow(6);
+?>
\ No newline at end of file
diff -ruN ../soteesklep3/admin/plugins/_allegro/index.php soteesklep3/admin/plugins/_allegro/index.php
--- ../soteesklep3/admin/plugins/_allegro/index.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/admin/plugins/_allegro/index.php	2006-06-30 14:11:41.000000000 +0200
@@ -0,0 +1,33 @@
+<?php
+/**
+ * Strona g³ówna modu³u Allegro 
+ *
+ * @author  krzys@sote.pl
+ * @version $Id: index.php,v 1.2 2006/06/28 08:56:38 lukasz Exp $
+* @package    pasaz.ceneo.pl
+ */
+
+$global_database=true;
+$global_secure_test=true;
+$DOCUMENT_ROOT=$HTTP_SERVER_VARS['DOCUMENT_ROOT'];
+
+/**
+ * Nag³ówek skryptu
+ */
+require_once ("../../../include/head.inc");
+
+$theme->head();
+$theme->page_open_head();
+
+include_once ("./include/menu.inc.php");
+$theme->bar($lang->allegro_bar["index"]);
+
+include_once("./html/allegro_main.html.php");
+
+$theme->page_open_foot();
+
+// stopka
+$theme->foot();
+
+include_once ("include/foot.inc");
+?>
diff -ruN ../soteesklep3/admin/plugins/_main_keys/_main_keys_ftp/lang/_en/lang.inc.php soteesklep3/admin/plugins/_main_keys/_main_keys_ftp/lang/_en/lang.inc.php
--- ../soteesklep3/admin/plugins/_main_keys/_main_keys_ftp/lang/_en/lang.inc.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/admin/plugins/_main_keys/_main_keys_ftp/lang/_en/lang.inc.php	2006-06-30 14:11:16.000000000 +0200
@@ -0,0 +1,35 @@
+<?php
+$lang->main_keys_ftp_bar="main_keys_ftp";
+$lang->main_keys_ftp_add_bar="Add a new file";
+$lang->main_keys_ftp_record_add="Record added";
+$lang->main_keys_ftp_update_bar="Record updating";
+$lang->main_keys_ftp_edit_update_ok="Record updated";
+$lang->main_keys_ftp_form_errors=array(
+                'ftp'=>"No file location (ftp://path or http://path)",
+                'user_id_main'=>array(
+                                '0'=>"No product ID",
+                                '1'=>"Too long ID value",
+                                '10'=>"Product with this ID does not exist",
+                                '11'=>"File is already attached to this product<br>Two files cannot be attached to 1 product.",
+                                '12'=>"Product ID cannot be changed in editing",),
+                                );
+$lang->main_keys_ftp_cols=array(
+                'ID'=>"ID",
+                'ftp'=>"FTP file address",
+                'active'=>"Active",
+                'user_id_main'=>"Product ID",
+                'demo'=>"\"DEMO\" file",
+                );
+$lang->main_keys_ftp_cols_list=array(
+                'ID'=>"ID",
+                'user_id_main'=>"ID, product",
+                'ftp'=>"Localization",
+                'active'=>"Active",
+                );
+$lang->main_keys_ftp_menu=array(
+                'add'=>"Add a file",
+                'list'=>"File list",
+                );
+$lang->main_keys_ftp_list_bar="File list";
+$lang->main_keys_ftp_unknown="Unknown";
+?>
\ No newline at end of file
diff -ruN ../soteesklep3/admin/plugins/_newsedit/lang/_en/lang.inc.php soteesklep3/admin/plugins/_newsedit/lang/_en/lang.inc.php
--- ../soteesklep3/admin/plugins/_newsedit/lang/_en/lang.inc.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/admin/plugins/_newsedit/lang/_en/lang.inc.php	2006-06-30 14:11:19.000000000 +0200
@@ -0,0 +1,58 @@
+<?php
+$lang->newsedit_bar="News management";
+$lang->newsedit_add_bar="Add news";
+$lang->newsedit_menu=array(
+                'add'=>" Add News",
+                'edit'=>"News editing",
+                'configure'=>"Configuration",
+                'list'=>"List and editing",
+                'view'=>"Preview",
+                'help'=>"Help",
+                );
+$lang->configure_form=array(
+                'newsedit'=>"Place news window on the page",
+                'rss_link'=>"Place the link to RSS format under the news list",
+                'newsedit_columns_default'=>"How many columns should the news window be divided into",
+                );
+$lang->newsedit_cols=array(
+                'id'=>"ID",
+                'date_add'=>"Date YYYY-MM-DD",
+                'active'=>"Active",
+                'ordercol'=>"Sorting",
+                'subject'=>"Subject",
+                'category'=>"Category",
+                'short_description'=>"Summary",
+                'description'=>"Content",
+                'photo_small'=>"Small photo",
+                'desc_file'=>"Attach HTML file",
+                'photo1'=>"Photo 1",
+                'photo2'=>"Photo 2",
+                'photo3'=>"Photo 3",
+                'photo4'=>"Photo 4",
+                'photo5'=>"Photo 5",
+                'photo6'=>"Photo 6",
+                'photo7'=>"Photo 7",
+                'photo8'=>"Photo 8",
+                'id_newsedit_groups'=>"Group",
+                'main_page'=>"Place on the main page",
+                'url'=>"Different URL (optional)",
+                'url_auto'=>"Link to message",
+                'multi_groups'=>"Display also in groups",
+                'lang'=>"Language",
+                'group'=>"Group",
+                'rss'=>"RSS",
+                );
+$lang->newsedit_edit_group="Edit groups";
+$lang->newsedit_edit_form_errors=array(
+                'subject'=>"incorrect value",
+                );
+$lang->newsedit_groups_all="All";
+$lang->newsedit_groups_select="Select a group";
+$lang->newsedit_lang_info="Choose a language in which the message will be displayed";
+$lang->newsedit_news="News list";
+$lang->newsedir_conf_bar="Newsedit configuration";
+$lang->newsedit_columns_default=array(
+                '1'=>"1",
+                '2'=>"2",
+);
+?>
\ No newline at end of file
diff -ruN ../soteesklep3/admin/plugins/_newsletter/_users/lang/_en/lang.inc.php soteesklep3/admin/plugins/_newsletter/_users/lang/_en/lang.inc.php
--- ../soteesklep3/admin/plugins/_newsletter/_users/lang/_en/lang.inc.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/admin/plugins/_newsletter/_users/lang/_en/lang.inc.php	2006-06-30 14:11:21.000000000 +0200
@@ -0,0 +1,88 @@
+<?php
+$lang->tips="Using SOTEeSHOP you can control serial correspondence to your customers in an easy way";
+$lang->newsletter_options=array(
+                'users'=>"Users",
+                'groups'=>"Groups",
+                'send'=>"Send Newsletter",
+                'config'=>"Configuration",
+                );
+$lang->edit_update_ok="Record has been updated :)";
+$lang->newsletter_empty="No e-mail has been sent";
+$lang->newsletter_delete_bar="Record deleting";
+$lang->newsletter_config_bar="Newsletter configuration";
+$lang->newsletter_sending="Newsletter sending";
+$lang->newsletter_users_bar="Addition/User modification";
+$lang->newsletter_search_users="Search in users";
+$lang->newsletter_menu=array(
+                'add'=>"Add an address",
+                'edit'=>"Data editing",
+                'list'=>"Address list",
+                'send'=>"New message",
+                'search'=>"Search",
+                );
+$lang->newsletter_config=array(
+                'options'=>"Parameters",
+                'info'=>"Letter content",
+                'info_link'=>"Link messages",
+                );
+$lang->newsletter_cols=array(
+                'subject'=>"Subject",
+                'content'=>"Message",
+                'id'=>"ID",
+                'email'=>"E-mail address",
+                'status'=>"Status",
+                'active'=>"Active",
+                'groups'=>"Groups",
+                'string'=>"Search (e-mail)",
+                'lang'=>"Language",
+                );
+$lang->groups_menu=array(
+                'add'=>"Add a group",
+                'edit'=>"Data editing",
+                'list'=>"Group list",
+                'search'=>"Search",
+                );
+$lang->newsletter_parametres=array(
+                'sender'=>"Sender address",
+                'default_group'=>"Default group",
+                'head'=>"Greetings",
+                'info_add'=>"Greeting message",
+                'info_del'=>"Good-bye message",
+                'foot_add'=>"Register in confirmation link",
+                'foot_del'=>"Register out confirmation link",
+                'foot_delete'=>"Ina message being sent",
+                );
+$lang->newsletter_groups=array(
+                'name'=>"Group name",
+                'id'=>"ID",
+                );
+$lang->newsletter_choose_lang="Choose a language";
+$lang->newsletter_submit="Save";
+$lang->newsletter_form_errors=array(
+                'email'=>array(
+                                '10'=>"No email address",
+                                '11'=>"Bad email address",
+                                '12'=>"Address is already in database",
+                                ),
+                                
+                );
+$lang->newsletter_letters=" letters";
+$lang->newsletter_sent="Sent: ";
+$lang->newsletter_not_sent="Not sent: ";
+$lang->newsletter_ommited="Omitted: ";
+$lang->newsletter_sent_ok="Newsletter has been sent correctly.";
+$lang->newsletter_sent_error1="Registered user's status is <b>not active</b>. Newsletter has not been sent.";
+$lang->newsletter_sent_error2="Newsletter has not been sent. Incorrect e-mail address or mail program error.";
+$lang->newsletter_no_subject="No News subject";
+$lang->newsleter_no_body="No News content";
+$lang->newsletter_lang_select_info="Choose a group according to the language";
+$lang->newsletter_list=array(
+                'email'=>"E-mail address",
+                'register_date'=>"Registration date",
+                'status'=>"Active",
+                'lang'=>"Language",
+                );
+$lang->newsletter_delete="Click the below link to enter:";
+$lang->no_save_db="Problem with saving information about sent newsletter in database.<br> Report the problem to administrator.";
+$lang->no_open_file="File for saving email addresses cannot be opened.";
+?>
\ No newline at end of file
diff -ruN ../soteesklep3/admin/plugins/_newsletter/_users/send1.php soteesklep3/admin/plugins/_newsletter/_users/send1.php
--- ../soteesklep3/admin/plugins/_newsletter/_users/send1.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/admin/plugins/_newsletter/_users/send1.php	2006-06-30 14:11:20.000000000 +0200
@@ -0,0 +1,156 @@
+<?php
+/**
+* Wy¶lij wprowadzony newsletter na adresy e-mail z zaznaczonych grup.
+*
+* Skrypt dzia³a w trybie emulacji sesji z obs³ug± HTTP-Streaming.
+* Klientowi pokazuje siê w nowym oknie pasek statusu, zmienij±cy siê on-line, odpowiadaj±cy
+* ilo¶ci wys³anych maili.
+*
+* @author  rdiak@sote.pl
+* @version $Id: send1.php,v 2.20 2006/06/19 11:30:09 lukasz Exp $
+*
+* verified 2004-03-10 m@sote.pl
+* @package    newsletter
+* @subpackage users
+*/
+
+$DOCUMENT_ROOT=$HTTP_SERVER_VARS['DOCUMENT_ROOT'];
+/**
+* Naglowek skryptu.
+*/
+require_once ("../../../include/head_stream.inc.php");
+require_once ("include/ftp.inc.php");
+// obsluga generowania pliku konfiguracyjnego uzytkwonika
+require_once("lib/Mail/MyMail.php");
+
+
+$theme->head_window();
+$theme->bar($lang->newsletter_sending);
+
+// za³aduj legende
+include_once("./html/newsletter_legend.html.php");
+include_once("./include/newsletter_control.inc.php");
+
+$control=new NewsletterControl;
+
+require_once("themes/stream.inc.php");
+$stream= new StreamTheme;
+$stream->title_500();
+
+// naglowek
+
+if (! empty($_REQUEST['send'])) {
+    $send=$_REQUEST['send'];
+} else {
+    $send=false;
+}
+
+if (! empty($_REQUEST['groups'])) {
+    $groups=$_REQUEST['groups'];
+    $where=" AND (";
+    foreach($groups as $value) {
+        $value=addslashes($value);
+        $where.=" groups LIKE '%:".$value.":%' OR";
+    }
+    $where=ereg_replace("OR$",")",$where);
+} else {
+    $groups=false;
+    $where=' AND groups is NULL';
+}
+
+if (! empty($_REQUEST['lang'])) {
+    $lang_key=addslashes($_REQUEST['lang']);
+    $where.=" AND lang='".$lang_key."' ";   
+}
+if ($lang_key=='pl'){
+require_once("config/auto_config/newsletter/newsletter_config_L0.inc.php");
+}
+if ($lang_key=='en'){
+require_once("config/auto_config/newsletter/newsletter_config_L1.inc.php");
+}
+if ($lang_key=='de'){
+require_once("config/auto_config/newsletter/newsletter_config_L2.inc.php");
+}
+if ($lang_key=='cz'){
+require_once("config/auto_config/newsletter/newsletter_config_L3.inc.php");
+}
+if ($lang_key=='ru'){
+require_once("config/auto_config/newsletter/newsletter_config_L4.inc.php");
+}
+
+$send_mail=new MyMail;
+if (empty($_POST['item']['subject'])) {
+    die ($lang->newsletter_no_subject);
+} else $subject=$_POST['item']['subject'];
+if (empty($_POST['item']['message'])) {
+    die ($lang->newsleter_no_body);
+} else $message=$_POST['item']['message'];
+
+// odczytaj adresy email z bazy
+$query="SELECT id,email,status,active FROM newsletter WHERE active=1".$where;
+//$query=$control->checkQuery($query);
+$prepared_query=$db->PrepareQuery($query);
+if ($prepared_query) {
+    $result=$db->ExecuteQuery($prepared_query);
+    if ($result!=0) {
+        $num_rows=$db->NumberOfRows($result);
+        if ($num_rows>0) {
+            // zapisz informacje o wysylanym newsletterze w bazie danych
+            $control->saveInformation();
+        	$k=1;
+            print "<br>";
+            $send_ok=0;
+            $send_error=0;
+            $send_leave=0;
+            for($row=0;$row<$num_rows;$row++) {
+                if( $row > 10000 ) {
+                    break;
+                }
+                $content='';
+                $id=$db->FetchResult($result,$row,"id");
+                $email=$db->FetchResult($result,$row,"email");
+                $status=$db->FetchResult($result,$row,"status");
+                $active=$db->FetchResult($result,$row,"active");
+                // jesli konto jest aktywne
+                if($status == 1) {
+                    include ("./html/newsletter_info.html.php");
+                    $content.=$message."\n\n\n".$info;
+                    // jesli wys³anie maila powiod³o sie to
+//                    if($control->checkOldEmail($email)) {
+                    if(true) {
+                    	if($send_mail->send($config_newsletter->newsletter_sender,$email,$subject,$content,"",@$_REQUEST['item']['type'])) {
+//                        	$control->saveEmailToFile($email);
+                    		$stream->line_blue();
+                        	flush();
+                        	$send_ok++;
+                    	} else {
+                        	$stream->line_red();
+                        	flush();
+                        	$send_error++;
+                    	}
+                    }	
+                } else {
+                    $stream->line_green();
+                    flush();
+                    $send_leave++;
+                }
+                $k++;
+                if ($k==500) {
+                    $k=0;
+                    print "<br>";
+                }
+            }
+        } else {
+            print "<center><br>$lang->newsletter_empty<br></center>";
+            exit;
+        }
+    } else die ($db->Error());
+} else die ($db->Error());
+
+$control->endAction($send_ok,$send_error,$send_leave);
+//za³aduj legende
+include_once("./html/newsletter_end.html.php");
+
+$theme->foot_window();
+include_once ("include/foot.inc");
+?>
diff -ruN ../soteesklep3/admin/plugins/_partners/lang/_en/lang.inc.php soteesklep3/admin/plugins/_partners/lang/_en/lang.inc.php
--- ../soteesklep3/admin/plugins/_partners/lang/_en/lang.inc.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/admin/plugins/_partners/lang/_en/lang.inc.php	2006-06-30 14:11:21.000000000 +0200
@@ -0,0 +1,62 @@
+<?php
+$lang->partners_bar="Partners";
+$lang->partners_add_bar="Add a new partner";
+$lang->partners_record_add="Partner added";
+$lang->partners_update_bar="Record updating";
+$lang->partners_edit_update_ok="Record updated";
+$lang->partners_form_errors=array(
+                'name'=>'Incorrect value',
+                'partner_id'=>'Incorrect value (give 8 digits) or this identifier already exists',
+                'email'=>'Incorrect value (example: p@example.com)',
+                'rake_off'=>'Incorrect value (range 0.1 - 100)',
+                'login'=>'The introduced login is incorrect or such a login already exists in database',
+                'password'=>'The introduced password is incorrect',
+                );
+$lang->partners_cols=array(
+                'ID'=>'ID',
+                'name'=>'Name',
+                'partner_id'=>'Identifier (8 digits)',
+                'www'=>'www address',
+                'email'=>'E-mail address',
+                'rake_off'=>'Commission %',
+                'login'=>'Login',
+                'password'=>'Password',
+                );
+$lang->partners_cols_list=array(
+                'ID'=>'ID',
+                'edit'=>'',
+                'partner_id'=>'Identifier',
+                'name'=>'Name',
+                'www'=>'WWW',
+                'email'=>'E-mail',
+                'rake_off'=>'Commission %',
+                );
+$lang->partners_menu=array(
+                'add'=>'Add a partner',
+                'list'=>'Partner list',
+                'rake_off'=>'Commissions',
+                'transactions'=>'Transactions',
+                'links'=>'Generate links',
+                'help'=>'Help',
+                );
+$lang->partners_list_bar="Partner list";
+$lang->partners_links="Links for partners";
+$lang->partners_gen="Generate";
+$lang->partners_choose="Select a partner";
+$lang->partners_rake_off="Commission calculation for a selected partner in a given period of time";
+$lang->partners_compute_rake_off="Calculate a commission";
+$lang->partners_date="Define the period for which you want to calculate commission";
+$lang->partners_no_transactions="No transaction for this partner in the given period has been found";
+$lang->partners_total_trans_found="Total number of found transactions";
+$lang->partners_total_rake_off="Commission sum for the partner";
+$lang->partners_period="for the period of time from";
+$lang->partners_to="to";
+$lang->partners_no_records="Links cannot be generated because the partner has not been defined yet.";
+$lang->partners_no_records_rake="Commission calculation is not possible because the partner has not been defined yet.";
+$lang->partners_attention="ATTENTION!";
+$lang->partners_links_info="The links generated below should be sent to the partner";
+$lang->partners_partner="Partner";
+$lang->partners_link="Link";
+$lang->partners_email="E-mail";
+$lang->partners_select_all="Select all";
+?>
\ No newline at end of file
diff -ruN ../soteesklep3/admin/plugins/_pasaz.interia.pl/config.php soteesklep3/admin/plugins/_pasaz.interia.pl/config.php
--- ../soteesklep3/admin/plugins/_pasaz.interia.pl/config.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/admin/plugins/_pasaz.interia.pl/config.php	2006-06-30 14:11:22.000000000 +0200
@@ -0,0 +1,80 @@
+<?php
+/**
+ * Konfigruacja modu³u interia pasaz
+ *
+ * @author  rdiak@sote.pl
+ * @version $Id: config.php,v 1.4 2006/05/24 07:22:33 scalak Exp $
+* @package    pasaz.interia.pl
+ */
+
+$global_database=true;
+$global_secure_test=true;
+$DOCUMENT_ROOT=$HTTP_SERVER_VARS['DOCUMENT_ROOT'];
+require_once ("../../../include/head.inc");
+@include_once ("config/auto_config/interia_config.inc.php");
+require_once("./include/gen_interia_config.inc.php");
+require_once("./include/interia_get_cat.inc.php");
+require_once("include/metabase.inc");
+
+
+// najpierw dokonujemy zmian, potem wyswietlamy wyglad, z juz zaktualizowanymi danymi
+// naglowek
+$theme->head();
+$theme->page_open_head();
+
+include_once("./include/menu.inc.php");
+$theme->bar($lang->interia_bar['config']);
+
+
+
+if (! empty($_REQUEST['item'])) {
+    $item=$_REQUEST['item'];
+} else $item=array();
+if (! empty($_REQUEST['category'])) {
+    $category=$_REQUEST['category'];
+} else $category=array();
+
+$item['confirm_trans']=ereg_replace("http://[a-z0-9.]+/","",@$item['confirm_trans']);
+
+if (! empty($item['save'])) {
+    $ftp->connect();    
+    $gen_config->gen(array(
+                           "interia_shop_id"=>$item['id'],
+                           "interia_password"=>$item['password'],
+                           "interia_server"=>$item['server'],
+                           "interia_rpc"=>$item['rpc'],
+                           "interia_message"=>$item['message'],
+                           "interia_port"=>$item['port'],
+                           "interia_transaction"=>$item['transaction'],
+                           "interia_test_server"=>$item['test_server'],
+                           "interia_category"=>$category,
+                           "interia_partner_name"=>$item['partner_name'],
+                           "interia_load"=>$item['load'],
+                           )
+                     );
+    $ftp->close();
+    $interia_config->interia_shop_id=$item['id'];
+    $interia_config->interia_password=$item['password'];
+    $interia_config->interia_server=$item['server'];
+    $interia_config->interia_rpc=$item['rpc'];
+    $interia_config->interia_message=$item['message'];
+    $interia_config->interia_port=$item['port'];
+    $interia_config->interia_transaction=$item['transaction'];
+    $interia_config->interia_test_server=$item['test_server'];
+    $interia_config->interia_category=$category;
+    $interia_config->interia_partner_name=$item['partner_name'];
+    $interia_config->interia_load=$item['load'];
+    
+    $interia = new InteriaGetCat;
+    $interia->interia_select_cut();
+}
+
+require_once ("./html/interia_config.html.php");
+
+$theme->page_open_foot();
+
+// stopka
+$theme->foot();
+
+include_once ("include/foot.inc");
+?>
diff -ruN ../soteesklep3/admin/plugins/_pasaz.interia.pl/include/interia_get_cat.inc.php soteesklep3/admin/plugins/_pasaz.interia.pl/include/interia_get_cat.inc.php
--- ../soteesklep3/admin/plugins/_pasaz.interia.pl/include/interia_get_cat.inc.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/admin/plugins/_pasaz.interia.pl/include/interia_get_cat.inc.php	2006-06-30 14:11:22.000000000 +0200
@@ -0,0 +1,330 @@
+<?php
+/**
+ * Obsluga pobierania kategorii i innych informacji z pasazu interia
+ *
+ * @author  rdiak@sote.pl
+ * @version $Id: interia_get_cat.inc.php,v 1.7 2006/05/24 07:22:27 scalak Exp $
+* @package    pasaz.interia.pl
+ */
+
+
+/**
+ * Includowanie potrzebnych klas 
+ */
+require_once("include/interia/interia.inc.php");
+require_once ("config/auto_config/interia_config.inc.php");
+require_once ("include/ftp.inc.php");
+require_once ("include/metabase.inc");
+require_once ("include/xml_reader.inc");
+
+
+/**
+ * Klasa interiaGetCat
+ *
+ * @package interia
+ * @subpackage admin
+ */
+class InteriaGetCat extends Interia {
+
+    var $target='';			// gdzie ftpujemy plik
+    var $status=0;
+
+    /**
+	 * Konstruktor obiektu interiaGetCat
+	 *
+	 * @return boolean true/false
+	 */
+    function InteriaGetCat($from='') {
+        global $config;
+        $this->target=$config->ftp_dir."/admin/plugins/_pasaz.interia.pl/file";
+        $this->interia();
+        return true;
+    } // end interiaGetCat
+
+    /**
+     * Funkcja tworzy komunikat SOAP pobrania danych ze pasa¿u interia 
+	 * dopuszczalne warto¶æ to: GetTree, GetProducers, GetAdvantages,
+	 * GetFieldsMeaning, GetLocalFilters, GetAllProducts
+	 *
+     * @return string komunkat SOAP pobrania kategorii
+     */
+    function _interia_get_data() {
+        $str="<namesp1:GetCategories xmlns:namesp1=\"Categories\">";
+        $str.="<c-gensym3 xsi:type=\"xsd:string\"/>";
+        $str.="</namesp1:GetCategories>";
+        return $str;
+    } // end _interia_get_data
+
+    /**
+     * Funkcja czy¶ci tablice
+	 *
+     * @param  string $table nazwa tabeli ktor± trzeba wyczy¶ciæ
+	 *
+     * @return bool 
+     */
+    function _interia_clear_table_db($table) {
+        global $mdbd;
+        if($mdbd->delete($table)) {
+            return true;
+        } else return false;
+    } // end _interia_clear_table_db
+
+    /**
+     * Funkcja pobiera drzewo kategorii z pasazu interia i zapisuje je w tablicy interia_prod
+     * 
+     * @param  string $soap_request   komunikat SOAP pobrania korzysci z pasazu interia
+     *
+     * @return bool   true     dane pobrane, false w p.w.
+     */
+    function interia_get_tree() {
+        global $mdbd;
+        global $lang;
+        global $DOCUMENT_ROOT;
+        global $database;
+        //print "cos";
+        $soap_request=$this->_interia_get_head();
+        $soap_request.=$this->_interia_get_data();
+        $soap_request.=$this->_interia_get_foot();
+        if(!empty($soap_request)) {
+            if($this->status) {
+                //print "file";
+                $filename="$DOCUMENT_ROOT/tmp/interia";
+                $fp = fopen($filename,'r');
+                $content = fread($fp, filesize($filename));
+                fclose($fp);
+            } else {
+                $content=$this->soap->send_soap_category($soap_request);
+                $fd=@fopen("$DOCUMENT_ROOT/tmp/interia","w+");
+                fwrite($fd,$content,strlen($content));
+                fclose($fd);
+            }
+            if($this->_interia_send_request($content,"trans")) {
+
+                $tree=$this->XMLtoArray($this->_values);
+                $this->tree=@$tree['SOAP-ENV:ENVELOPE']['SOAP-ENV:BODY']['NAMESP1:GETCATEGORIESRESPONSE']['CATEGORIES']['CATEGORY'];
+
+                if(isset($this->tree)) {
+                    $this->_interia_clear_table_db('interia_main_category');
+                    foreach($this->tree as $key=>$value) {
+                        if($value['PARENT']['content'] == 0 ) {
+                            $main_category=$value['NAME']['content'];
+                            $user_id=$value['ID']['content'];
+                            $main_category=$this->_interia_utf8_to_8859_2($main_category);
+                            $database->sql_insert("interia_main_category",array("name"=>$main_category,"user_id"=>$user_id));
+                        } else {
+                            $main_category=$value['NAME']['content'];
+                            $main_category=$this->_interia_utf8_to_8859_2($main_category);
+                            $database->sql_insert("interia_main_tree",array("name"=>$main_category,"id_cat"=>$value['ID']['content'],"id_parent"=>$value['PARENT']['content']));
+                        }
+                    }
+                } else {
+                    return false;
+                }
+                if(!empty($this->tree)) {
+                    $this->_interia_select_category();
+                    print "<center>".$lang->interia_get_cat['tree_load_ok']."<center>";
+                } else {
+                    print "<center>".$lang->interia_get_cat['tree_load_error']."<center>";
+                }
+            }
+            return false;
+        }
+        return false;
+    } // end _interia_get_tree()
+
+    /**
+	 * Funkcja  tworzy liste rozwijana z kategorii pasa¿u interia.
+	 *
+	 * @return boolean true/false
+	 */
+    function _interia_select_category() {
+        global $database;
+        global $DOCUMENT_ROOT;
+        global $interia_config;
+
+        $str='<select class=form name="item[interia_category]" size="1"><option value="default">----wybierz----</option>'."\n";
+        $where=' WHERE ';
+        foreach($interia_config->interia_category as $key=>$value) {
+            $where.="name='".$value."' OR ";
+        }
+        $where=preg_replace("/OR $/","",$where);
+        $id_main_cat=$database->sql_select_data_array("user_id","name","interia_main_category","",$where);
+        // mamy id kategorii glownych
+        // teraz przechodzimy kazda z tych kategorii i tworzymy sciezki
+        foreach($id_main_cat as $key=>$value) {
+            $data=$database->sql_select_data_array("id_cat","name","interia_main_tree","id_parent=".$key);
+
+            foreach($data as $key1=>$value1) {
+                $count=$database->sql_select("count(*)","interia_main_tree","id_parent=".$key1);
+                if($count) {
+                    $data1=$database->sql_select_data_array("id_cat","name","interia_main_tree","id_parent=".$key1);
+                    foreach($data1 as $key2=>$value2) {
+                        $count1=$database->sql_select("count(*)","interia_main_tree","id_parent=".$key2);
+                        if($count1) {
+                            $data2=$database->sql_select_data_array("id_cat","name","interia_main_tree","id_parent=".$key2);
+                            foreach($data2 as $key3=>$value3) {
+                                $count2=$database->sql_select("count(*)","interia_main_tree","id_parent=".$key3);
+                                if($count2) {
+                                    $data3=$database->sql_select_data_array("id_cat","name","interia_main_tree","id_parent=".$key3);
+                                    foreach($data3 as $key4=>$value4) {
+                                        $count3=$database->sql_select("count(*)","interia_main_tree","id_parent=".$key4);
+                                        if($count3) {
+                                        } else {
+                                            $str.="<option  value=\"".$key4."\">".$value."/".$value1."/".$value2."/".$value3."/".$value4."</option>\n";
+                                        }
+                                    }
+                                } else {
+                                    $str.="<option  value=\"".$key3."\">".$value."/".$value1."/".$value2."/".$value3."</option>\n";
+                                }
+                            }
+                        } else {
+                            $str.="<option  value=\"".$key2."\">".$value."/".$value1."/".$value2."</option>\n";
+                        }
+                    }
+                } else {
+                    $str.="<option  value=\"".$key1."\">".$value."/".$value1."</option>\n";
+                }
+            }
+        }
+        $str.="</select>\n";
+        $file_name_cut="interia_category.php";
+        $fd=@fopen("$DOCUMENT_ROOT/tmp/$file_name_cut","w+");
+        fwrite($fd,$str,strlen($str));
+        fclose($fd);
+        //$this->load_ftp($file_name_cut);
+        return true;
+    } // end _interia_select_category
+
+    function interia_select_cut()
+    {
+        global $DOCUMENT_ROOT;
+        global $interia_config;
+        global $ftp;
+        global $config;
+                
+        $file_name="interia_category.php";
+        $file_name_cut="interia_category_cut.php";
+
+        if(!file_exists("$DOCUMENT_ROOT/tmp2/$file_name")) {
+        	$this->_interia_select_category();
+        }
+
+        $data=file("$DOCUMENT_ROOT/tmp/$file_name","r");
+        $str='';
+
+        foreach($data as $line) {
+            if( strstr($line,'select') ||  strstr($line,'Wybierz')) {
+                $str.=$line;
+            }
+            foreach (@$interia_config->interia_category as $interia_cat) {
+                if (preg_match("/$interia_cat/",$line)) {
+                    $str.= $line;
+                }
+            }
+        }
+        
+        $fd=@fopen("$DOCUMENT_ROOT/tmp/$file_name_cut","w+");
+        fwrite($fd,$str,strlen($str));
+        fclose($fd);
+        $ftp->connect();
+        $ftp->put("$DOCUMENT_ROOT/tmp/$file_name_cut",$config->ftp_dir."/admin/plugins/_pasaz.interia.pl/file","$file_name_cut");
+        $ftp->close();
+        return;
+    } // end func interia_select_cut
+
+    /**
+	 * Funkcja ftpuje plik do okrelsonej lokalizacji.
+	 *
+	 * @param  string $file nazwa pliku
+	 *
+	 * @return boolean true/false
+	 */
+    function load_ftp($file) {
+        global $ftp;
+        global $DOCUMENT_ROOT;
+        $ftp->connect();
+        $ftp->put("$DOCUMENT_ROOT/tmp/$file","$this->target","$file");
+        $ftp->close();
+        return true;
+    } // end load_ftp()
+
+
+    function XMLtoArray($vals)
+    {
+        // wyznaczamy tablice z powtarzajacymi sie tagami na tym samym poziomie
+        $_tmp='';
+        foreach ($vals as $xml_elem)
+        {
+            $x_tag=$xml_elem['tag'];
+            $x_level=$xml_elem['level'];
+            $x_type=$xml_elem['type'];
+            if ($x_level!=1 && $x_type == 'close')
+            {
+                if (isset($multi_key[$x_tag][$x_level]))
+                $multi_key[$x_tag][$x_level]=1;
+                else
+                $multi_key[$x_tag][$x_level]=0;
+            }
+            if ($x_level!=1 && $x_type == 'complete')
+            {
+                if ($_tmp==$x_tag)
+                $multi_key[$x_tag][$x_level]=1;
+                $_tmp=$x_tag;
+            }
+        }
+        // jedziemy po tablicy
+        foreach ($vals as $xml_elem)
+        {
+            $x_tag=$xml_elem['tag'];
+            $x_level=$xml_elem['level'];
+            $x_type=$xml_elem['type'];
+            if ($x_type == 'open')
+            $level[$x_level] = $x_tag;
+            $start_level = 1;
+            $php_stmt = '$xml_array';
+            if ($x_type=='close' && $x_level!=1)
+            $multi_key[$x_tag][$x_level]++;
+            while($start_level < $x_level)
+            {
+                $php_stmt .= '[$level['.$start_level.']]';
+                if (isset($multi_key[$level[$start_level]][$start_level]) && $multi_key[$level[$start_level]][$start_level])
+                $php_stmt .= '['.($multi_key[$level[$start_level]][$start_level]-1).']';
+                $start_level++;
+            }
+            $add='';
+            if (isset($multi_key[$x_tag][$x_level]) && $multi_key[$x_tag][$x_level] && ($x_type=='open' || $x_type=='complete'))
+            {
+                if (!isset($multi_key2[$x_tag][$x_level]))
+                $multi_key2[$x_tag][$x_level]=0;
+                else
+                $multi_key2[$x_tag][$x_level]++;
+                $add='['.$multi_key2[$x_tag][$x_level].']';
+            }
+            if (isset($xml_elem['value']) && trim($xml_elem['value'])!='' && !array_key_exists('attributes',$xml_elem))
+            {
+                if ($x_type == 'open')
+                $php_stmt_main=$php_stmt.'[$x_type]'.$add.'[\'content\'] = $xml_elem[\'value\'];';
+                else
+                $php_stmt_main=$php_stmt.'[$x_tag]'.$add.' = $xml_elem[\'value\'];';
+                eval($php_stmt_main);
+            }
+            if (array_key_exists('attributes',$xml_elem))
+            {
+                if (isset($xml_elem['value']))
+                {
+                    $php_stmt_main=$php_stmt.'[$x_tag]'.$add.'[\'content\'] = $xml_elem[\'value\'];';
+                    eval($php_stmt_main);
+                }
+                foreach ($xml_elem['attributes'] as $key=>$value)
+                {
+                    $php_stmt_att=$php_stmt.'[$x_tag]'.$add.'[$key] = $value;';
+                    eval($php_stmt_att);
+                }
+            }
+        }
+        //		print "<pre>";
+        //		print_r($xml_array);
+        //		print "</pre>";
+        return $xml_array;
+    }    // END XMLtoArray
+} // end class interiaGetCat
diff -ruN ../soteesklep3/admin/plugins/_pay/_allpay/html/allpay_config.html.php soteesklep3/admin/plugins/_pay/_allpay/html/allpay_config.html.php
--- ../soteesklep3/admin/plugins/_pay/_allpay/html/allpay_config.html.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/admin/plugins/_pay/_allpay/html/allpay_config.html.php	2006-06-30 14:11:25.000000000 +0200
@@ -0,0 +1,185 @@
+<?php 
+print "<br>";
+$theme->desktop_open("100%"); 
+
+if (@$allpay_config->allpay_active=="1") $checked_active="checked"; else $checked_active="";
+if (@$allpay_config->allpay_status=="1") $checked_status="checked"; else $checked_status="";
+if (@$allpay_config->allpay_ch_lock=="1") $checked_ch_lock="checked"; else $checked_ch_lock="";
+if (@$allpay_config->allpay_onlinetransfer=="1") $checked_onlinetransfer="checked"; else $checked_onlinetransfer="";
+
+if (@$allpay_config->allpay_channel==0) $checked_channel_0="checked"; else $checked_channel_0="";
+if (@$allpay_config->allpay_channel==1) $checked_channel_1="checked"; else $checked_channel_1="";
+if (@$allpay_config->allpay_channel==2) $checked_channel_2="checked"; else $checked_channel_2="";
+if (@$allpay_config->allpay_channel==3) $checked_channel_3="checked"; else $checked_channel_3="";
+if (@$allpay_config->allpay_channel==4) $checked_channel_4="checked"; else $checked_channel_4="";
+if (@$allpay_config->allpay_channel==6) $checked_channel_6="checked"; else $checked_channel_6="";
+if (@$allpay_config->allpay_channel==7) $checked_channel_7="checked"; else $checked_channel_7="";
+if (@$allpay_config->allpay_channel==8) $checked_channel_8="checked"; else $checked_channel_8="";
+if (@$allpay_config->allpay_channel==9) $checked_channel_9="checked"; else $checked_channel_9="";
+if (@$allpay_config->allpay_channel==10) $checked_channel_10="checked"; else $checked_channel_10="";
+if (@$allpay_config->allpay_channel==11) $checked_channel_11="checked"; else $checked_channel_11="";
+if (@$allpay_config->allpay_channel==12) $checked_channel_12="checked"; else $checked_channel_12="";
+if (@$allpay_config->allpay_channel==13) $checked_channel_13="checked"; else $checked_channel_13="";
+if (@$allpay_config->allpay_channel==14) $checked_channel_14="checked"; else $checked_channel_14="";
+if (@$allpay_config->allpay_channel==15) $checked_channel_15="checked"; else $checked_channel_15="";
+if (@$allpay_config->allpay_channel==16) $checked_channel_16="checked"; else $checked_channel_16="";
+if (@$allpay_config->allpay_channel==17) $checked_channel_17="checked"; else $checked_channel_17="";
+if (@$allpay_config->allpay_type==0) $selected_type_0="selected"; else $selected_type_0="";
+if (@$allpay_config->allpay_type==1) $selected_type_1="selected"; else $selected_type_1="";
+if (@$allpay_config->allpay_type==2) $selected_type_2="selected"; else $selected_type_2="";
+if (@$allpay_config->allpay_type==3) $selected_type_3="selected"; else $selected_type_3="";
+
+
+ 
+?>
+<form action=index.php method=POST name=allpay_config>
+<input type=hidden name=item[save] value=1>
+<center>
+<table border=0 cellpadding="3" cellspacing="0" width="98%" align="center">
+<tr>
+<td valign="top"><table border=0 cellpadding="2" cellspacing="0">
+    <tr>
+    <td colspan=2 align="center"><?php print "<img src=";$theme->img("_icons/allpay_logo.gif");print ">\n";?></td>
+    </tr>
+	<tr>
+	<td><?php print $lang->allpay_config['id'];?></td>
+	<td><input type=text size=20 name=item[id] value='<?php print @$allpay_config->allpay_id; ?>'></td>
+	</tr>
+	<tr>
+	<td><?php print $lang->allpay_config['url'];?></td>
+	<td><input type=text size=40 name=item[url] value='<?php print "http://".$config->www."/".@$allpay_config->allpay_url; ?>'></td>
+	</tr>
+	<tr>
+	<td><?php print $lang->allpay_config['urlc'];?></td>
+	<td><input type=text size=40 name=item[urlc] value='<?php print "http://".$config->www."/".@$allpay_config->allpay_urlc; ?>'></td>
+	</tr>
+	<tr>
+	<td><?php print $lang->allpay_config['out_url'];?></td>
+	<td><input type=text size=40 name=item[out_url] value='<?php print @$allpay_config->allpay_out_url; ?>'></td>
+	</tr>
+	<tr>
+	<td><?php print $lang->allpay_config['pr_set'];?></td>
+	<td><input type=text size=20 name=item[pr_set] value='<?php print @$allpay_config->allpay_pr_set; ?>'></td>
+	</tr>
+	<tr>
+	<td><?php print $lang->allpay_config['active'];?></td>
+	<td><input type="checkbox" name=item[active] <?php print $checked_active;?>></td>
+	</tr>
+	<tr>
+	<td><?php print $lang->allpay_config['status'];?></td>
+	<td><input type="checkbox" name=item[status] <?php print $checked_status;?>></td>
+	</tr>
+	<tr>
+	<td><?php print $lang->allpay_config['ch_lock'];?></td>
+	<td><input type="checkbox" name=item[ch_lock] <?php print $checked_ch_lock;?>></td>
+	</tr>
+	<tr>
+	<td><?php print $lang->allpay_config['onlinetransfer'];?></td>
+	<td><input type="checkbox" name=item[onlinetransfer] <?php print $checked_onlinetransfer;?>></td>
+	</tr>
+    <tr>
+	<td><?php print $lang->allpay_config['type'];?></td>
+	<td><select name="item[type]">
+	<option value=0 <?php print $selected_type_0;?>>0</option>
+	<option value=1 <?php print $selected_type_1;?>>1</option>
+	<option value=2 <?php print $selected_type_2;?>>2</option>
+	<option value=3 <?php print $selected_type_3;?>>3</option>
+	</select></td>
+	</tr>
+	<tr>
+	<td><?php print $lang->allpay_config['buttontext'];?></td>
+	<td><textarea name=item[buttontext] rows="3" cols="20"><?php print @$allpay_config->allpay_buttontext; ?></textarea></td>
+	</tr>
+	<tr>
+	<td><?php print $lang->allpay_config['txtguzik'];?></td>
+	<td><textarea name=item[txtguzik] rows="3" cols="20"><?php print @$allpay_config->allpay_txtguzik; ?></textarea></td>
+	</tr>
+	
+	</table>
+</td>
+<td valign="top"><table border=0 cellpadding="2" cellspacing="0">
+	<tr>
+		<td colspan="2"><?php print $lang->allpay_config['channel'];?>:</td>
+	</tr>
+	<tr>
+	<td><input type="radio" name="item[channel]" value=0 <?php print $checked_channel_0;?>></td>
+	<td><?php print $lang->allpay_channel[0];?></td>
+	</tr>
+	<tr>
+	<td><input type="radio" name="item[channel]" value=1 <?php print $checked_channel_1;?>></td>
+	<td><?php print $lang->allpay_channel[1];?></td>
+	</tr>
+	<tr>
+	<td><input type="radio" name="item[channel]" value=2 <?php print $checked_channel_2;?>></td>
+	<td><?php print $lang->allpay_channel[2];?></td>
+	</tr>
+	<tr>
+	<td><input type="radio" name="item[channel]" value=3 <?php print $checked_channel_3;?>></td>
+	<td><?php print $lang->allpay_channel[3];?></td>
+	</tr>
+	<tr>
+	<td><input type="radio" name="item[channel]" value=4 <?php print $checked_channel_4;?>></td>
+	<td><?php print $lang->allpay_channel[4];?></td>
+	</tr>
+	<tr>
+	<td><input type="radio" name="item[channel]" value=6 <?php print $checked_channel_6;?>></td>
+	<td><?php print $lang->allpay_channel[6];?></td>
+	</tr>
+	<tr>
+	<td><input type="radio" name="item[channel]" value=7 <?php print $checked_channel_7;?>></td>
+	<td><?php print $lang->allpay_channel[7];?></td>
+	</tr>
+	<tr>
+	<td><input type="radio" name="item[channel]" value=8 <?php print $checked_channel_8;?>></td>
+	<td><?php print $lang->allpay_channel[8];?></td>
+	</tr>
+	<tr>
+	<td><input type="radio" name="item[channel]" value=9 <?php print $checked_channel_9;?>></td>
+	<td><?php print $lang->allpay_channel[9];?></td>
+	</tr>
+	<tr>
+	<td><input type="radio" name="item[channel]" value=10 <?php print $checked_channel_10;?>></td>
+	<td><?php print $lang->allpay_channel[10];?></td>
+	</tr>
+	<tr>
+	<td><input type="radio" name="item[channel]" value=11 <?php print $checked_channel_11;?>></td>
+	<td><?php print $lang->allpay_channel[11];?></td>
+	</tr>
+	<tr>
+	<td><input type="radio" name="item[channel]" value=12 <?php print $checked_channel_12;?>></td>
+	<td><?php print $lang->allpay_channel[12];?></td>
+	</tr>
+	<tr>
+	<td><input type="radio" name="item[channel]" value=13 <?php print $checked_channel_13;?>></td>
+	<td><?php print $lang->allpay_channel[13];?></td>
+	</tr>
+	<tr>
+	<td><input type="radio" name="item[channel]" value=14 <?php print $checked_channel_14;?>></td>
+	<td><?php print $lang->allpay_channel[14];?></td>
+	</tr>
+	<tr>
+	<td><input type="radio" name="item[channel]" value=15 <?php print $checked_channel_15;?>></td>
+	<td><?php print $lang->allpay_channel[15];?></td>
+	</tr>
+    <tr>
+	<td><input type="radio" name="item[channel]" value=16 <?php print $checked_channel_16;?>></td>
+	<td><?php print $lang->allpay_channel[16];?></td>
+	</tr>
+	<tr>
+	<td><input type="radio" name="item[channel]" value=17 <?php print $checked_channel_17;?>></td>
+	<td><?php print $lang->allpay_channel[17];?></td>
+	</tr>
+	
+	</table>
+</td>
+</tr>
+</table>
+<center>
+<?php
+      $buttons->button($lang->allpay_config['save'],"javascript:document.allpay_config.submit();");
+?>
+</center>
+<?php 
+
+$theme->desktop_close(); 
+?>
diff -ruN ../soteesklep3/admin/plugins/_pay/_allpay/include/gen_allpay_config.inc.php soteesklep3/admin/plugins/_pay/_allpay/include/gen_allpay_config.inc.php
--- ../soteesklep3/admin/plugins/_pay/_allpay/include/gen_allpay_config.inc.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/admin/plugins/_pay/_allpay/include/gen_allpay_config.inc.php	2006-06-30 14:11:25.000000000 +0200
@@ -0,0 +1,39 @@
+<?php
+/**
+ * Konfiguracja modu³u allegro
+ *
+ * @author  krzys@sote.pl
+ * @version $Id: gen_allpay_config.inc.php,v 1.3 2006/05/30 11:38:50 krzys Exp $
+* @package    allegro
+ */
+
+/**
+ * Includowanie pliku do generowania konfiguracji
+ */
+require_once ("include/gen_config.inc.php");
+
+$gen_config = new GenConfig;
+$gen_config->config_dir="/config/auto_config/";            // katalog generowanego pliku
+$gen_config->config_file="allpay_config.inc.php";    // generowany plik konfiguracyjny
+$gen_config->classname="allpayConfig";                 // 1) klasa tworzona w pliku, zawierajaca definicje zmeinnych
+$gen_config->ext_classname="";           // jesli w/w klasa jest rozszezeniem klasy, to ext_classname okresla nazwa klasy nadrzednej
+$gen_config->class_object="allpay_config";                // obiekt klasy 1)
+$gen_config->vars=array(
+						"allpay_id",
+						"allpay_url",
+						"allpay_urlc",
+						"allpay_active",
+						"allpay_status",
+						"allpay_ch_lock",
+						"allpay_onlinetransfer",
+						"allpay_channel",
+						"allpay_type",
+						"allpay_txtguzik",
+						"allpay_buttontext",
+						"allpay_out_url",
+						"allpay_pr_set"
+						
+						
+                       );              // lista zmiennych generowanych w konfiguracji
+$gen_config->config=&$config;                      // adres aktualnego obiektu klasy 1)
+?>
diff -ruN ../soteesklep3/admin/plugins/_pay/_allpay/index.php soteesklep3/admin/plugins/_pay/_allpay/index.php
--- ../soteesklep3/admin/plugins/_pay/_allpay/index.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/admin/plugins/_pay/_allpay/index.php	2006-06-30 14:11:25.000000000 +0200
@@ -0,0 +1,116 @@
+<?php
+/**
+ * Konfiguracja modu³u allpay
+ *
+ * @author  krzys@sote.pl
+ * @version $Id: index.php,v 1.5 2006/05/30 11:38:50 krzys Exp $
+* @package    allpay
+ */
+
+$global_database=true;
+$global_secure_test=true;
+$DOCUMENT_ROOT=$HTTP_SERVER_VARS['DOCUMENT_ROOT'];
+
+/**
+ * Nag³ówek skryptu oraz inne potrzebne pliki
+ */
+require_once ("../../../../include/head.inc");
+@include_once ("config/auto_config/allpay_config.inc.php");
+require_once("include/metabase.inc");
+
+
+// najpierw dokonujemy zmian, potem wyswietlamy wyglad, z juz zaktualizowanymi danymi
+// naglowek
+$theme->head();
+$theme->page_open_head();
+
+include_once("./include/menu.inc.php");
+$theme->bar($lang->allpay_bar['config']);
+
+if (! empty($_REQUEST['item'])) {
+    $item=$_REQUEST['item'];
+} else $item=array();
+$item['url']=ereg_replace("http://[a-z0-9.-]+/","",@$item['url']);
+$item['urlc']=ereg_replace("http://[a-z0-9.-]+/","",@$item['urlc']);
+
+      // nadanie zmiennym wartosci albo 1 albo 0    
+     if (! empty($item['save'])) {  
+	    if (empty($item['active'])) $item['active']=0;
+	    else $item['active']=1;
+	    if (empty($item['status'])) $item['status']=0;
+	    else $item['status']=1;
+	    if (empty($item['ch_lock'])) $item['ch_lock']=0;
+	    else $item['ch_lock']=1;    
+	    if (empty($item['onlinetransfer'])) $item['onlinetransfer']=0;
+	    else $item['onlinetransfer']=1;
+	    
+    // zapisz dane w pliku konfiguracyjnym usera o aktywnej platnosci
+     require_once("include/gen_user_config.inc.php");
+     global $ftp;
+     $ftp->connect();	
+          $config->pay_method_active;
+	     if(array_key_exists("21",$config->pay_method_active)) {
+	     	if($item['active'] == 1) {
+	     	$config->pay_method_active['21']=1;	
+	     	}else{
+	     	$config->pay_method_active['21']=0;
+	     	} 	
+	     }else{
+	     	if($item['active'] == 1) {
+	     	$config->pay_method_active=$config->pay_method_active+array("21"=>"1");
+	     	}else{
+	     	$config->pay_method_active=$config->pay_method_active+array("21"=>"0");	
+	     	}
+	     } 
+	     
+	         $gen_config->gen(array(
+                           "pay_method_active"=>$config->pay_method_active,
+                           )
+                     );
+    
+    
+     // wpis do pliku konfiguracynego allpay
+    require_once("./include/gen_allpay_config.inc.php");
+    $gen_config->gen(array(
+                           "allpay_id"=>$item['id'],
+                           "allpay_url"=>$item['url'],
+                           "allpay_urlc"=>$item['urlc'],
+                           "allpay_out_url"=>$item['out_url'],
+                           "allpay_pr_set"=>$item['pr_set'],
+                           "allpay_active"=>$item['active'],
+                           "allpay_status"=>$item['status'],
+                           "allpay_ch_lock"=>$item['ch_lock'],
+                           "allpay_onlinetransfer"=>$item['onlinetransfer'],
+                           "allpay_channel"=>$item['channel'],
+                           "allpay_type"=>$item['type'],
+                           "allpay_txtguzik"=>$item['txtguzik'],
+                           "allpay_buttontext"=>$item['buttontext'],
+                           
+                           )
+                     );
+    $ftp->close();
+    $allpay_config->allpay_id=$item['id'];
+    $allpay_config->allpay_url=$item['url'];
+    $allpay_config->allpay_urlc=$item['urlc'];
+    $allpay_config->allpay_out_url=$item['out_url'];
+    $allpay_config->allpay_pr_set=$item['pr_set'];
+    $allpay_config->allpay_active=$item['active'];
+    $allpay_config->allpay_status=$item['status'];
+    $allpay_config->allpay_ch_lock=$item['ch_lock'];
+    $allpay_config->allpay_onlinetransfer=$item['onlinetransfer'];
+    $allpay_config->allpay_channel=$item['channel'];
+    $allpay_config->allpay_type=$item['type'];
+    $allpay_config->allpay_txtguzik=$item['txtguzik'];
+    $allpay_config->allpay_buttontext=$item['buttontext'];
+
+}
+
+require_once ("./html/allpay_config.html.php");
+
+$theme->page_open_foot();
+
+// stopka
+$theme->foot();
+
+include_once ("include/foot.inc");
+?>
\ No newline at end of file
diff -ruN ../soteesklep3/admin/plugins/_pay/_allpay/lang/_pl/lang.inc.php soteesklep3/admin/plugins/_pay/_allpay/lang/_pl/lang.inc.php
--- ../soteesklep3/admin/plugins/_pay/_allpay/lang/_pl/lang.inc.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/admin/plugins/_pay/_allpay/lang/_pl/lang.inc.php	2006-06-30 14:11:25.000000000 +0200
@@ -0,0 +1,47 @@
+<?php
+$lang->allpay_buttons=array(
+                'config'=>"Konfiguracja",
+                'help'=>"Pomoc",
+                );
+$lang->allpay_bar=array(
+                      "config"=>"Konfiguracja p³atno¶ci Allpay", 
+	
+                      );
+$lang->allpay_config=array(
+                'id'=>"Identyfikator nadany przez Allpay",
+                'save'=>"Zapisz",
+                "url"=>"Adres powrotu do strony sklepu",
+                "urlc"=>"Adres potwierdzenia transakcji",
+                "pr_set"=>"Has³o promocyjne",
+                "active"=>"Aktywuj p³atno¶æ",
+                "status"=>"W³±cz tryb produkcyjny",
+                "ch_lock"=>"Poka¿ tylko domy¶ln± p³atno¶æ",
+                "onlinetransfer"=>"Sprawdzaj, czy bank jest czynny",
+                "type"=>"Wybierz metodê zakoñczenia transakcji",
+                "channel"=>"Wybierz domy¶ln± p³atno¶æ",
+                "buttontext"=>"Tekst na guziku potwierdzenia transakcji w systemie AllPay <br><i>(min.4 znaki - max.100 znaków)",
+                "txtguzik"=>"Tekst na guziku powrotu do sklepu w systemie AllPay <br><i>(min.4 znaki - max.100 znaków)",
+                "out_url"=>"Adres serwisu Allpay",
+                );
+$lang->allpay_channel=array(
+				0=>'karty p³atnicze',
+				1=>'mTransfer (mBank)',
+				2=>'P³acê z Inteligo (Inteligo Bank PKO BP)',
+				3=>'MultiTransfer (MultiBank)',
+				4=>'AllPay Transfer (Allpay.pl)',
+				6=>'Przelew24 (Bank Zachodni WBK)',
+				7=>'ING On-Line (ING Bank ¦l±ski)',
+				8=>'Sez@m (Bank Przemys³owo-Handlowy S.A.)',
+				9=>'Pekao24 (Bank Pekao S.A.)',
+				10=>'Millnet (Millennium Bank)',
+				11=>'przekaz/przelew - forma uniwersalna',
+				12=>'Serwis PayPal',
+				13=>'Deutsche Bank PBC S.A.',
+				14=>'Kredyt Bank S.A. - KB24 Bankowo¶æ Elektroniczna',
+				15=>'PKO BP (konto Inteligo)',
+				16=>'Lukas Bank',
+				17=>'Nordea Bank',
+				
+				
+);
+?>
\ No newline at end of file
diff -ruN ../soteesklep3/admin/plugins/_pay/_ecard/index.php soteesklep3/admin/plugins/_pay/_ecard/index.php
--- ../soteesklep3/admin/plugins/_pay/_ecard/index.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/admin/plugins/_pay/_ecard/index.php	2006-06-30 14:11:23.000000000 +0200
@@ -0,0 +1,112 @@
+<?php
+/**
+ * Konfiguracja danych mBank (platnosc mTRANSFER), aktywacja/ustawienia uslugi
+ *
+ * @author  p@sote.pl
+ * @version $Id: index.php,v 1.3 2006/06/13 08:06:44 krzys Exp $
+ * @package soteesklep _pay _mbank
+ */
+
+$global_database=true;
+$global_secure_test=true;
+$DOCUMENT_ROOT=$HTTP_SERVER_VARS['DOCUMENT_ROOT'];
+require_once ("../../../../include/head.inc");
+@include_once ("config/auto_config/ecard_config.inc.php");
+
+// naglowek
+$theme->head();
+$theme->page_open_head();
+
+include_once("./include/menu.inc.php");
+$theme->bar($lang->ecard_config['bar']);
+
+if (! empty($_REQUEST['item'])) {
+    $item=$_REQUEST['item'];
+} else $item=array();
+
+$item['ecardReturnUrl']=preg_replace("/http:\/\/[a-z0-9.:-]+?\//","",@$item['ecardReturnUrl']);
+$item['ecardCancelReturnUrl']=preg_replace("/http:\/\/[a-z0-9.:-]+?\//","",@$item['ecardCancelReturnUrl']);
+$item['ecardAddressCheck']=preg_replace("/http:\/\/[a-z0-9.:-]+?\//","",@$item['ecardAddressCheck']);
+
+$active=@$item['ecardActive'];
+
+if (! empty($item['save'])) {
+    require_once("include/gen_user_config.inc.php");
+    $gen_config->auto_ftp=false;
+
+    $ftp->connect();
+    if(array_key_exists("2",$config->pay_method_active)) {
+        if($active == 1) {
+            $config->pay_method_active['2']=1;
+        } else {
+            $config->pay_method_active['2']=0;
+        }
+    } else {
+        if($active == 1) {
+            $config->pay_method_active=$config->pay_method_active+array("2"=>"1");
+        } else {
+            $config->pay_method_active=$config->pay_method_active+array("2"=>"0");
+        }
+    }
+
+    $gen_config->gen(array(
+            "pay_method_active"=>$config->pay_method_active,
+    )
+    );
+
+    $gen_config->config_dir="/config/auto_config/";            // katalog generowanego pliku
+    $gen_config->config_file="ecard_config.inc.php";         // nazwa generowanego pliku
+    $gen_config->classname="ecardConfig";                    // nazwa klasy generowanego pliku
+    $gen_config->class_object="ecard_config";                // 1) nazwa tworzonego obiektu klasy w/w
+    $gen_config->vars=array(
+            "ecardAccount",
+            "ecardPassword",
+            "ecardReturnUrl",
+            "ecardCancelReturnUrl",
+            "ecardServerHash",
+            "ecardServerPay",
+	        "ecardPayType",
+	        "ecardLang",
+            "ecardActive",
+            "ecardStatus",
+            "ecardAddressCheck",
+    );
+    $gen_config->config=&$ecard_config;                      // przekaz aktualne wartosci obiektu 1)
+
+    $gen_config->gen(array(
+            "ecardAccount"=>$item['ecardAccount'],
+            "ecardPassword"=>$item['ecardPassword'],
+            "ecardReturnUrl"=>$item['ecardReturnUrl'],
+            "ecardCancelReturnUrl"=>$item['ecardCancelReturnUrl'],
+            "ecardServerHash"=>$item['ecardServerHash'],
+            "ecardServerPay"=>$item['ecardServerPay'],
+            "ecardPayType"=>@$item['ecardPayType'],
+            "ecardLang"=>@$item['ecardLang'],
+            "ecardActive"=>@$item['ecardActive'],
+            "ecardStatus"=>@$item['ecardStatus'],
+            "ecardAddressCheck"=>@$item['ecardAddressCheck'],
+     )
+    );
+    $ftp->close();
+    $ecard_config->ecardAccount=$item['ecardAccount'];
+    $ecard_config->ecardPassword=$item['ecardPassword'];
+    $ecard_config->ecardReturnUrl=$item['ecardReturnUrl'];
+    $ecard_config->ecardCancelReturnUrl=$item['ecardCancelReturnUrl'];
+    $ecard_config->ecardServerHash=$item['ecardServerHash'];
+    $ecard_config->ecardServerPay=$item['ecardServerPay'];
+    $ecard_config->ecardPayType=@$item['ecardPayType'];
+    $ecard_config->ecardLang=@$item['ecardLang'];
+    $ecard_config->ecardActive=@$item['ecardActive'];
+    $ecard_config->ecardStatus=@$item['ecardStatus'];
+    $ecard_config->ecardAddressCheck=@$item['ecardAddressCheck'];
+}
+
+include_once ("./html/ecard_config.html.php");
+
+$theme->page_open_foot();
+
+// stopka
+$theme->foot();
+
+include_once ("include/foot.inc");
+?>
diff -ruN ../soteesklep3/admin/setup/html/system.html.php soteesklep3/admin/setup/html/system.html.php
--- ../soteesklep3/admin/setup/html/system.html.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/admin/setup/html/system.html.php	2006-06-30 14:11:42.000000000 +0200
@@ -0,0 +1,161 @@
+<?php
+/**
+* Formularz wyboru opcji instalacji.
+*
+* @author  m@sote.pl
+* @version $Id: system.html.php,v 2.17 2006/05/29 13:11:23 lukasz Exp $
+*
+* @verfied 2004-03-16 m@sote.pl
+* @package    setup
+*/
+
+// ustaw odpowieni typ instalacji
+$checked_simple="";$checked_rebuild="";
+
+if (! empty($_REQUEST['type'])) {
+    $__type=$_REQUEST['type'];
+} elseif (! empty($_SESSION['__type'])) {
+    $__type=$_SESSION['__type'];
+} else $__type="";
+
+switch ($__type) {
+    case "simple": $checked_simple="checked";
+    break;
+    case "rebuild": $checked_rebuild="checked";
+    break;
+    default: $checked_simple="checked";
+    break;
+}
+?>
+
+<form action=type.php method=POST name=MyForm>
+<?php $theme->desktop_open();?>
+
+1. <b><u><?php print $lang->setup_steps[0];?></u></b>
+2. <?php print $lang->setup_steps[1];?>
+3. <?php print $lang->setup_steps[2];?> 
+4. <?php print $lang->setup_steps[3];?> 
+<?php $theme->desktop_close();?>
+
+<table align=center>
+<tr>
+  <td valign=top>
+    <?php $theme->desktop_open();?>
+    <?php
+    print "<b>".$lang->setup_system_php."</b><P>";
+    $test_php->test_start();
+    ?>
+    <?php $theme->desktop_close();?>
+  </td>
+  <?php 
+  if (!$_ERROR) {
+  ?>
+  <td valign=top>
+    <?php $theme->desktop_open();?>
+    <?php
+    print "<b>".$lang->setup_system_type_title."</b><P>";
+    ?>
+
+    <input type=radio name=config[type] value=simple <?print $checked_simple;?>><?php print $lang->setup_system_type['simple'];?><br>
+<!--  <input type=radio name=config[type] value=full><?php print $lang->setup_system_type['full'];?><br>-->
+
+<!--  <input type=radio name=config[type] value=demo><?php print $lang->setup_system_type['demo'];?><br>-->      
+    <input type=radio name=config[type] value=rebuild <?print $checked_rebuild;?>><?php print $lang->setup_system_type['rebuild'];?><br>
+   
+    <!-- 
+    <nobr><input type=radio name=config[type] value=upgrade <?print $checked_rebuild;?>><?php print $lang->setup_system_type['upgrade'];?></nobr><br>    
+    -->
+<!--    <input type=radio name=config[type] value=multi><?php print $lang->setup_system_type['join'];?><br>-->
+    <?php $theme->desktop_close();?>
+  </td>
+  <td valign=top>
+    <?php $theme->desktop_open();?>
+    <?php print "<b>".$lang->setup_system_os_title."</b><P>";?>
+
+    
+    <?php
+    if ($shop->home==1) {
+        $checked_linux='';
+        $checked_freebsd="checked";   
+    } else {
+        $checked_linux="checked";
+        $checked_freebsd='';   
+    }
+    ?>
+    <table>
+    <tr> 
+      <td valign=top><input type=radio name=config[os] value=linux <?php print $checked_linux;?>><?php print $lang->setup_system_os['linux'];?></td>
+      <td><img src=./html/_img/linux.gif></td>
+    </tr>
+    <tr>
+      <td valign=top><input type=radio name=config[os] value=freebsd <?php print $checked_freebsd;?>><?php print $lang->setup_system_os['freebsd'];?></td>
+      <td><img src=./html/_img/freebsd.gif></td>
+    </tr>
+  <!--
+  <tr>
+    <td><input type=radio name=config[os] value=windows><?php print $lang->setup_system_os['windows'];?></td>
+    <td><img src=./html/_img/windows.gif></td>
+  </tr>
+  <tr>
+    <td><input type=radio name=config[os] value=macosx><?php print $lang->setup_system_os['macosx'];?></td>
+    <td><img src=./html/_img/macosx.gif></td>
+  </tr>
+  -->
+    </table>
+    <?php $theme->desktop_close();?>
+  </td>
+  <td valign=top>
+    <?php $theme->desktop_open();?>
+    <?php print "<b>".$lang->setup_system_host_title."</b><P>";?>
+
+    <nobr><input type=radio name=config[host] value=local checked><?php print $lang->setup_system_host['local'];?><br>
+    <input type=radio name=config[host] value=internet><?php print $lang->setup_system_host['internet'];?></nobr><br>  
+    <?
+    if ($shop->home==1) {
+    ?>
+    <input type=radio name=config[host] value='home.pl' checked><?php print $lang->setup_system_host['home.pl'];?><br>
+    <?php 
+    }
+    ?>
+    <?php $theme->desktop_close();?>
+  </td>
+  <?php } ?>
+</tr>
+</table>
+
+
+<div align=right>
+<?php
+if (!$_ERROR) {
+	// jesli wszsytkie testy opcji PHP powiodly sie, to wyswietl link dalej
+	global $buttons;
+	$buttons->perm=false;
+	$buttons->button($lang->next,"javascript:document.MyForm.submit();");
+	$buttons->perm=true;
+}
+?>
+</div>
+
+<br>
+
+<!--
+<table>
+<tr>
+  <td>
+   <?php print "<b>".$lang->setup_system_plugins_title."</b><P>";?>
+    <ul>
+    <?php
+    while (list($name,$desc) = each ($config->setup_plugins)) {
+        if (! empty($lang->setup_system_plugins[$desc])) {
+            print "<input type=checkbox name=plugins[$name] value=1>".$lang->setup_system_plugins[$desc]."<BR>\n";
+        }
+    } // end while
+    ?>  
+    </ul>
+    <?php print "<b>".$lang->setup_plugins_code."</b><P>";?>
+    <input type=password name=config[plugins_code]><br>
+  </td>
+</tr>
+</table>
+-->
+</form>
diff -ruN ../soteesklep3/admin/setup/include/test_php.inc.php soteesklep3/admin/setup/include/test_php.inc.php
--- ../soteesklep3/admin/setup/include/test_php.inc.php	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/admin/setup/include/test_php.inc.php	2006-06-30 14:11:42.000000000 +0200
@@ -0,0 +1,182 @@
+<?php
+/**
+ * Testowanie opcji PHP
+ *
+ * @author  m@sote.pl
+ * @version $Id: test_php.inc.php,v 2.10 2006/05/29 13:11:19 lukasz Exp $
+ * @soteesklep
+* @package    setup
+ */
+ 
+class TestPHP {
+    var $version="436"; // wymagana wersja m.in. PHP-4.1.2
+    var $version_print=">=4.3.6";
+    var $installed="Yes:)";
+    var $not_onstalled="No:(";
+    var $next="Next";
+    var $num=1;
+    var $testall=true;
+
+    /**
+     * Rozpocznij testy opcji PHP
+     *
+     * \@global bool $this->testall true wszystko OK
+     *
+     * return none 
+     */
+    function test_start() {
+    	global $_ERROR;
+    	$_ERROR=false;
+        print "<table align=center>\n";
+        $this->test("PHP: ($this->version_print): ",$this->version());
+        $this->test("PHP: MySQL",$this->mysql());
+        $this->test("PHP: ftp",$this->ftp());
+        $this->test("PHP: trans_sid",$this->trans_sid());        
+        $this->test("PHP: zlib",$this->zlib());
+        $this->test("PHP: openssl",$this->openssl());
+        $this->test("PHP: open_basedir (off)",$this->open_basedir());
+        $this->test("PHP: memory(>8M)",$this->free_mem());
+        print "</table>\n";
+        @include ("./ignore");
+        if (@$ignore_all) $_ERROR=false; 
+        return;
+    } // end test_start()
+
+    /**
+    * Wy¶wietl informacje o tym, czy dana opcja jest zainstalowana
+    *
+    * @param string $text nazwa/opis opjcji
+    * @param bool   true  opcja jest zainstalowana/skonfigurowana
+    * 
+    * @return none
+    */
+    function test($text,$bool) {
+        global $lang;
+
+        print "<tr><td>$this->num. $text</td><td>";
+        if ($bool) print "<b>".$this->installed."</b>";
+        else print "<b><font color=red>".$this->not_installed."</font></b>";
+        print "</td></tr>";
+        $this->num++;
+		if (!$bool) {
+			global $_ERROR;
+			$_ERROR=true;
+		}
+        if (! $bool) $this->testall=false;
+
+        return;
+    } // end test()
+	    
+    /**
+     * Sprawd¼ obecno¶æ zlib
+     *
+     * @return bool true - OK, false - brak
+     */
+    function zlib() {
+    	if (function_exists('gzopen')) {
+    		return true;
+    	}
+    	return false;
+    } // end zlib
+    
+    /**
+     * Sprawd¼ czy na serwerze jest wlaczone open_basedir
+     *
+     * @return bool true - OK, false - brak
+     */
+    function open_basedir() {
+    	$open_basedir=ini_get("open_basedir");
+    	if (empty($open_basedir)) {
+    		return true;
+    	}
+    	return false;
+    } // end open_basedir
+    
+    /**
+     * Sprawd¼ ilosc pamieci dostepnej na serwerze
+     *
+     * @return bool true - OK, false - brak
+     */
+    function free_mem() {
+    	$memory=ini_get("memory_limit");
+    	if (empty($memory)) {
+    		return true;
+    	}
+    	$memory=substr($memory,0,-1);
+    	if ($memory<=8) return false;
+    	return true;
+    } // end free_mem
+    
+    
+    /**
+     * Sprawd¼ obecno¶æ openssl
+     *
+     * @return bool true - OK, false - brak
+     */
+    function openssl() {
+    	if (function_exists('openssl_open')) {
+    		return true;
+    	}
+    	return false;
+    } // end openssl
+    
+    /**
+    * Weryfikuj wersje PHP
+    *
+    * @return bool true - wersja OK, false w p.w.
+    */
+    function version() {
+        $php_version=phpversion();
+        $php_version=preg_split('@\.@',$php_version);
+        if ($php_version[0]>=$this->version[0]) {
+        	return true;
+        }
+        if ($php_version[1]>=$this->version[1]) {
+        	return true;
+        }
+        if ($php_version[2]>=$this->version[2]) {
+        	return true;
+        }
+        return false;
+    } // end version
+
+    /**
+    * Sprawd¼, czy PHP zawiera obs³uge MySQL
+    *
+    * @return bool true PHP zawiera obs³uge MySQL, false w p.w.
+    */
+    function mysql() {
+        if (function_exists('mysql_connect')) return true;
+        else return false;
+    } // end mysql()
+
+    /**
+    * Sprawd¼, czy PHP zawiera obs³uge FTP (--enable-ftp)
+    *    
+    * @return bool true PHP zawiera obs³uge FTP, false w p.
+    */
+    function ftp() {
+        if (function_exists('ftp_login')) return true;
+        else return false;
+    } // end ftp()
+
+    /**
+    * Sprawd¼, czy PHP ma w³±czon± opcjê transparentnych sesji
+    *
+    * @return bool true PHP zawiera obs³uge transparentnych sesji, false w p.
+    */
+    function trans_sid() {
+        $trans_sid=ini_get("session.use_trans_sid");
+        if ($trans_sid==1) return true;
+        else return false;
+    } // end ftp()
+
+} // end class TestPHP
+
+$test_php =& new TestPHP;
+
+$test_php->installed=$lang->installed;
+$test_php->not_installed=$lang->not_installed;
+$test_php->next=$lang->next;
+
+?>
\ No newline at end of file
diff -ruN ../soteesklep3/VERSION soteesklep3/VERSION
--- ../soteesklep3/VERSION	1970-01-01 01:00:00.000000000 +0100
+++ soteesklep3/VERSION	2006-06-30 15:49:16.000000000 +0200
@@ -0,0 +1 @@
+3.5RC11
